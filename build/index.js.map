{"version":3,"sources":["webpack://MyLibrary/webpack/universalModuleDefinition","webpack://MyLibrary/./node_modules/inversify/lib/annotation/decorator_utils.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/inject.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/injectable.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/multi_inject.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/named.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/optional.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/post_construct.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/tagged.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/target_name.js","webpack://MyLibrary/./node_modules/inversify/lib/annotation/unmanaged.js","webpack://MyLibrary/./node_modules/inversify/lib/bindings/binding.js","webpack://MyLibrary/./node_modules/inversify/lib/bindings/binding_count.js","webpack://MyLibrary/./node_modules/inversify/lib/constants/error_msgs.js","webpack://MyLibrary/./node_modules/inversify/lib/constants/literal_types.js","webpack://MyLibrary/./node_modules/inversify/lib/constants/metadata_keys.js","webpack://MyLibrary/./node_modules/inversify/lib/container/container.js","webpack://MyLibrary/./node_modules/inversify/lib/container/container_module.js","webpack://MyLibrary/./node_modules/inversify/lib/container/container_snapshot.js","webpack://MyLibrary/./node_modules/inversify/lib/container/lookup.js","webpack://MyLibrary/./node_modules/inversify/lib/inversify.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/context.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/metadata.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/metadata_reader.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/plan.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/planner.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/queryable_string.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/reflection_utils.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/request.js","webpack://MyLibrary/./node_modules/inversify/lib/planning/target.js","webpack://MyLibrary/./node_modules/inversify/lib/resolution/instantiation.js","webpack://MyLibrary/./node_modules/inversify/lib/resolution/resolver.js","webpack://MyLibrary/./node_modules/inversify/lib/syntax/binding_in_syntax.js","webpack://MyLibrary/./node_modules/inversify/lib/syntax/binding_in_when_on_syntax.js","webpack://MyLibrary/./node_modules/inversify/lib/syntax/binding_on_syntax.js","webpack://MyLibrary/./node_modules/inversify/lib/syntax/binding_to_syntax.js","webpack://MyLibrary/./node_modules/inversify/lib/syntax/binding_when_on_syntax.js","webpack://MyLibrary/./node_modules/inversify/lib/syntax/binding_when_syntax.js","webpack://MyLibrary/./node_modules/inversify/lib/syntax/constraint_helpers.js","webpack://MyLibrary/./node_modules/inversify/lib/utils/binding_utils.js","webpack://MyLibrary/./node_modules/inversify/lib/utils/exceptions.js","webpack://MyLibrary/./node_modules/inversify/lib/utils/id.js","webpack://MyLibrary/./node_modules/inversify/lib/utils/serialization.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/decorator_utils.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/inject.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/injectable.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/multi_inject.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/named.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/optional.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/post_construct.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/tagged.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/target_name.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/annotation/unmanaged.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/bindings/binding.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/bindings/binding_count.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/constants/error_msgs.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/constants/literal_types.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/constants/metadata_keys.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/container/container.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/container/container_module.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/container/container_snapshot.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/container/lookup.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/inversify.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/context.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/metadata.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/metadata_reader.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/plan.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/planner.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/queryable_string.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/reflection_utils.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/request.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/planning/target.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/resolution/instantiation.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/resolution/resolver.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/syntax/binding_in_syntax.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/syntax/binding_in_when_on_syntax.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/syntax/binding_on_syntax.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/syntax/binding_to_syntax.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/syntax/binding_when_on_syntax.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/syntax/binding_when_syntax.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/syntax/constraint_helpers.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/utils/binding_utils.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/utils/exceptions.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/utils/id.js","webpack://MyLibrary/../sprotty/node_modules/inversify/lib/utils/serialization.js","webpack://MyLibrary/external \"fs\"","webpack://MyLibrary/external \"path\"","webpack://MyLibrary/webpack/bootstrap","webpack://MyLibrary/webpack/runtime/define property getters","webpack://MyLibrary/webpack/runtime/hasOwnProperty shorthand","webpack://MyLibrary/webpack/runtime/make namespace object","webpack://MyLibrary/../Hnatiuj.Adaptagrams/src/generated/libavoid.js","webpack://MyLibrary/../Hnatiuj.Adaptagrams/src/index.js","webpack://MyLibrary/../sprotty/src/base/types.ts","webpack://MyLibrary/../sprotty/src/utils/registry.ts","webpack://MyLibrary/../sprotty/src/features/routing/anchor.ts","webpack://MyLibrary/../sprotty/src/utils/geometry.ts","webpack://MyLibrary/../sprotty/src/utils/iterable.ts","webpack://MyLibrary/../sprotty/src/base/model/smodel.ts","webpack://MyLibrary/../sprotty/src/base/model/smodel-utils.ts","webpack://MyLibrary/../sprotty/src/features/bounds/model.ts","webpack://MyLibrary/../sprotty/src/base/commands/command.ts","webpack://MyLibrary/../sprotty/src/features/edit/delete.ts","webpack://MyLibrary/../sprotty/src/features/select/model.ts","webpack://MyLibrary/../sprotty/src/features/hover/model.ts","webpack://MyLibrary/../sprotty/src/features/move/model.ts","webpack://MyLibrary/../sprotty/src/features/routing/model.ts","webpack://MyLibrary/../sprotty/src/features/routing/views.ts","webpack://MyLibrary/./src/lib/routing/model.ts","webpack://MyLibrary/./src/lib/routing/linear-edge-router.ts","webpack://MyLibrary/./src/lib/routing/manhattan-edge-router.ts","webpack://MyLibrary/./src/lib/routing/manhattan-anchors.ts","webpack://MyLibrary/./src/lib/routing/polyline-edge-router.ts","webpack://MyLibrary/./src/lib/routing/polyline-anchors.ts","webpack://MyLibrary/./src/lib/routing/routing.ts","webpack://MyLibrary/./src/lib/index.ts"],"names":["root","factory","exports","module","define","amd","global","Object","defineProperty","value","tagProperty","tagParameter","decorate","ERROR_MSGS","METADATA_KEY","_tagParameterOrProperty","metadataKey","annotationTarget","propertyName","metadata","parameterIndex","paramsOrPropertiesMetadata","isParameterDecorator","key","undefined","toString","Error","INVALID_DECORATOR_OPERATION","Reflect","hasOwnMetadata","getMetadata","paramOrPropertyMetadata","Array","isArray","_i","paramOrPropertyMetadata_1","length","m","DUPLICATED_METADATA","push","defineMetadata","_decorate","decorators","target","_param","paramIndex","decorator","TAGGED","TAGGED_PROP","constructor","inject","LazyServiceIdentifer","error_msgs_1","metadata_1","decorator_utils_1","cb","this","_cb","prototype","unwrap","serviceIdentifier","targetKey","index","UNDEFINED_INJECT_ANNOTATION","name","Metadata","INJECT_TAG","injectable","ERRORS_MSGS","PARAM_TYPES","DUPLICATED_INJECTABLE_DECORATOR","types","DESIGN_PARAM_TYPES","multiInject","MULTI_INJECT_TAG","named","NAMED_TAG","optional","OPTIONAL_TAG","postConstruct","propertyKey","descriptor","POST_CONSTRUCT","MULTIPLE_POST_CONSTRUCT_METHODS","tagged","metadataValue","targetName","NAME_TAG","unmanaged","UNMANAGED_TAG","Binding","literal_types_1","id_1","scope","id","activated","type","BindingTypeEnum","Invalid","constraint","request","implementationType","cache","provider","onActivation","dynamicValue","clone","BindingScopeEnum","Singleton","BindingCount","MultipleBindingsAvailable","NoBindingsAvailable","OnlyOneBindingAvailable","STACK_OVERFLOW","CIRCULAR_DEPENDENCY_IN_FACTORY","POST_CONSTRUCT_ERROR","CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK","CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE","CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE","CONTAINER_OPTIONS_MUST_BE_AN_OBJECT","ARGUMENTS_LENGTH_MISMATCH","INVALID_TO_SELF_VALUE","INVALID_FUNCTION_BINDING","INVALID_MIDDLEWARE_RETURN","NO_MORE_SNAPSHOTS_AVAILABLE","INVALID_BINDING_TYPE","NOT_IMPLEMENTED","CIRCULAR_DEPENDENCY","MISSING_INJECT_ANNOTATION","MISSING_INJECTABLE_ANNOTATION","NOT_REGISTERED","CANNOT_UNBIND","AMBIGUOUS_MATCH","KEY_NOT_FOUND","NULL_ARGUMENT","values","arguments","TargetTypeEnum","Request","Transient","ConstantValue","Constructor","DynamicValue","Factory","Function","Instance","Provider","ClassProperty","ConstructorArgument","Variable","NON_CUSTOM_TAG_KEYS","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","__spreadArray","to","from","i","il","j","Container","binding_1","metadata_reader_1","planner_1","resolver_1","binding_to_syntax_1","serialization_1","container_snapshot_1","lookup_1","containerOptions","_appliedMiddleware","options","defaultScope","autoBindInjectable","skipBaseClassChecks","_bindingDictionary","Lookup","_snapshots","_middleware","parent","_metadataReader","MetadataReader","merge","container1","container2","container3","container","targetContainers","map","targetContainer","getBindingDictionary","bindingDictionary","copyDictionary","origin","destination","traverse","forEach","binding","add","targetBindingDictionary","load","modules","getHelpers","_getContainerModuleHelpersFactory","_a","modules_1","currentModule","containerModuleHelpers","registry","bindFunction","unbindFunction","isboundFunction","rebindFunction","loadAsync","modules_2","_b","unload","_this","conditionFactory","expected","item","moduleId","condition","removeByCondition","bind","BindingToSyntax","rebind","unbind","remove","getServiceIdentifierAsString","unbindAll","isBound","bound","hasKey","isBoundNamed","isBoundTagged","bindings","get","request_1","createMockRequest","some","b","snapshot","ContainerSnapshot","of","restore","middleware","createChild","child","applyMiddleware","middlewares","concat","initial","_planAndResolve","reduce","prev","curr","applyCustomMetadataReader","metadataReader","_get","getTagged","getNamed","getAll","getAllTagged","getAllNamed","constructorFunction","tempContainer","toSelf","setModuleId","bindingToSyntax","_binding","getRebindFunction","_rebind","mId","_bind","_isBound","_unbind","avoidConstraints","isMultiInject","targetType","defaultArgs","contextInterceptor","context","args","plan","AsyncContainerModule","ContainerModule","_map","Map","getMap","entry","set","delete","entries","updatedEntries","filter","has","copy","func","container_1","container_module_1","injectable_1","enumerable","tagged_1","named_1","inject_1","optional_1","unmanaged_1","multi_inject_1","target_name_1","post_construct_1","constraint_helpers_1","binding_utils_1","Context","addPlan","setCurrentRequest","currentRequest","getConstructorMetadata","constructorFunc","compilerGeneratedMetadata","userGeneratedMetadata","getPropertiesMetadata","Plan","parentContext","rootRequest","binding_count_1","exceptions_1","context_1","plan_1","reflection_utils_1","target_1","cntnr","_getActiveBindings","parentRequest","getBindings","activeBindings","isOptional","serviceIdentifierString","msg","listMetadataForTarget","listRegisteredBindingsForServiceIdentifier","_validateActiveBindingCount","_createSubRequests","childRequest","thePlan","addChildRequest","subChildRequest","dependencies","getDependencies","baseClassDependencyCount","getBaseClassDependencyCount","error","getFunctionName","dependency","injectMetadata","Target","tagMetadata","_createTarget","isStackOverflowExeption","circularDependencyToException","QueryableString","str","startsWith","searchString","indexOf","endsWith","reverseString","reverseSearchString","split","reverse","join","contains","equals","compareString","getTargets","constructorName","isBaseClass","serviceIdentifiers","constructorArgsMetadata","keys","hasUserDeclaredUnknownInjections","hasOptionalParameters","constructorTargets","iterations","targets","getConstructorArgsAsTarget","getConstructorArgsAsTargets","propertyTargets","getClassPropsAsTargets","targetMetadata","formatTargetMetadata","isManaged","injectIdentifier","classPropsMetadata","keys_1","baseConstructor","getPrototypeOf","baseTargets","targetMetadataMap","unmanagedCount","dependencyCount","childRequests","requestScope","queryable_string_1","namedOrTagged","metadataItem","hasTag","matchesArray","matchesTag","isNamed","isTagged","every","getNamedTag","getCustomTags","matchesNamedTag","resolveInstance","constr","resolveRequest","Func","injections","constructorInjections","instance","propertyInjectionsRequests","propertyInjections","r","injection","_injectProperties","hasMetadata","data","message","_postConstruct","instantiation_1","invokeFactory","factoryType","fn","_resolveRequest","targetIsAnArray","targetParentIsNotAnArray","_f","isSingleton","isRequestSingleton","BindingInSyntax","binding_when_on_syntax_1","inRequestScope","BindingWhenOnSyntax","inSingletonScope","inTransientScope","BindingInWhenOnSyntax","binding_in_syntax_1","binding_on_syntax_1","binding_when_syntax_1","_bindingWhenSyntax","BindingWhenSyntax","_bindingOnSyntax","BindingOnSyntax","_bindingInSyntax","when","whenTargetNamed","whenTargetIsDefault","whenTargetTagged","tag","whenInjectedInto","whenParentNamed","whenParentTagged","whenAnyAncestorIs","ancestor","whenNoAncestorIs","whenAnyAncestorNamed","whenAnyAncestorTagged","whenNoAncestorNamed","whenNoAncestorTagged","whenAnyAncestorMatches","whenNoAncestorMatches","handler","binding_in_when_on_syntax_1","self","toConstantValue","toDynamicValue","toConstructor","toFactory","toFunction","bindingWhenOnSyntax","toAutoFactory","toProvider","toService","service","namedConstraint","taggedConstraint","typeConstraint","traverseAncerstors","metaData","multiBindToService","RangeError","idCounter","alreadyDependencyChain","name_1","match","registeredBindingsList","registeredBindings","services","_createStringArr","req","dependencyChainToString","m_1","namedTag","otherTags","bindingDictionary1","bindingDictionary2","__spreadArrays","s","k","a","jl","require","__webpack_module_cache__","__webpack_require__","cachedModule","__webpack_modules__","d","definition","o","obj","prop","hasOwnProperty","toStringTag","_scriptDir","document","currentScript","src","__filename","initAvoidModule","aa","ba","ready","c","ca","fa","ha","ja","ka","ea","window","importScripts","process","versions","node","la","ma","na","oa","pa","l","__dirname","normalize","readFileSync","buffer","Uint8Array","assert","argv","replace","slice","on","inspect","read","readbuffer","print","console","log","warn","printErr","location","href","substr","lastIndexOf","XMLHttpRequest","open","send","responseText","responseType","response","onload","status","onerror","qa","ra","thisProgram","ta","ua","sa","wasmBinary","noExitRuntime","WebAssembly","wa","xa","TextDecoder","ya","subarray","decode","h","String","fromCharCode","za","Aa","Ba","q","Ca","Da","Ea","Fa","Ga","Ia","preRun","shift","unshift","Uc","Ha","Ja","Ka","La","onAbort","RuntimeError","Ma","Na","preloadedImages","preloadedAudios","Oa","locateFile","Pa","Ra","Pc","Sa","Gc","Rc","Tc","ud","Gd","td","Hd","rd","Va","Wa","Xa","USER","LOGNAME","PATH","PWD","HOME","LANG","navigator","languages","Ya","Za","$a","ab","bb","Date","getTime","getMonth","getFullYear","getDate","setDate","setMonth","setFullYear","db","p","eb","da","F","getDay","ia","Jc","Oc","I","D","Md","Ld","Mc","Lc","Kc","Nc","Od","Kd","Nd","RegExp","fb","gb","substring","Math","ceil","abs","charCodeAt","hb","jb","ib","Ua","start","now","copyWithin","asm","HEAP8","Int8Array","HEAP16","Int16Array","HEAP32","Int32Array","HEAPU8","HEAPU16","Uint16Array","HEAPU32","Uint32Array","HEAPF32","Float32Array","HEAPF64","Float64Array","monitorRunDependencies","clearInterval","fetch","credentials","ok","arrayBuffer","Qa","instantiate","instantiateWasm","instantiateStreaming","___wasm_call_ctors","_malloc","_free","Ce","kb","_emscripten_bind_VoidPtr___destroy___0","lb","_emscripten_bind_HyperedgeImprover_HyperedgeImprover_0","mb","_emscripten_bind_HyperedgeImprover_clear_0","u","nb","_emscripten_bind_HyperedgeImprover_setRouter_1","ob","_emscripten_bind_HyperedgeImprover___destroy___0","w","pb","_emscripten_bind_Box_Box_0","x","qb","_emscripten_bind_Box_length_1","rb","_emscripten_bind_Box_width_0","z","sb","_emscripten_bind_Box_height_0","A","tb","_emscripten_bind_Box_get_min_0","B","ub","_emscripten_bind_Box_set_min_1","C","vb","_emscripten_bind_Box_get_max_0","wb","_emscripten_bind_Box_set_max_1","E","xb","_emscripten_bind_Box___destroy___0","yb","_emscripten_bind_PolygonInterface_clear_0","G","zb","_emscripten_bind_PolygonInterface_empty_0","H","Ab","_emscripten_bind_PolygonInterface_size_0","Bb","_emscripten_bind_PolygonInterface_id_0","J","Cb","_emscripten_bind_PolygonInterface_at_1","K","Db","_emscripten_bind_PolygonInterface_boundingRectPolygon_0","L","Eb","_emscripten_bind_PolygonInterface_offsetBoundingBox_1","M","Fb","_emscripten_bind_PolygonInterface_offsetPolygon_1","N","Gb","_emscripten_bind_PolygonInterface___destroy___0","O","Hb","_emscripten_bind_Polygon_Polygon_0","Ib","_emscripten_bind_Polygon_Polygon_1","Q","Jb","_emscripten_bind_Polygon_setPoint_2","R","Kb","_emscripten_bind_Polygon_size_0","S","Lb","_emscripten_bind_Polygon_get_ps_1","T","Mb","_emscripten_bind_Polygon_set_ps_2","U","Nb","_emscripten_bind_Polygon___destroy___0","V","Ob","_emscripten_bind_Point_Point_0","W","Pb","_emscripten_bind_Point_Point_2","X","Qb","_emscripten_bind_Point_equal_1","Y","Rb","_emscripten_bind_Point_get_x_0","Z","Sb","_emscripten_bind_Point_set_x_1","Tb","_emscripten_bind_Point_get_y_0","$","Ub","_emscripten_bind_Point_set_y_1","Vb","_emscripten_bind_Point_get_id_0","Wb","_emscripten_bind_Point_set_id_1","Xb","_emscripten_bind_Point_get_vn_0","Yb","_emscripten_bind_Point_set_vn_1","Zb","_emscripten_bind_Point___destroy___0","$b","_emscripten_bind_Rectangle_Rectangle_3","ga","ac","_emscripten_bind_Rectangle___destroy___0","bc","_emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0","cc","_emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2","dc","_emscripten_bind_HyperedgeTreeNode___destroy___0","ec","_emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3","fc","_emscripten_bind_HyperedgeTreeEdge___destroy___0","hc","_emscripten_bind_AStarPath_AStarPath_0","ic","_emscripten_bind_AStarPath_search_4","jc","_emscripten_bind_AStarPath___destroy___0","kc","_emscripten_bind_ConnEnd_ConnEnd_1","lc","_emscripten_bind_ConnEnd_ConnEnd_2","mc","_emscripten_bind_ConnEnd___destroy___0","nc","_emscripten_bind_ActionInfo_ActionInfo_2","oc","_emscripten_bind_ActionInfo_ActionInfo_3","pc","_emscripten_bind_ActionInfo_ActionInfo_4","va","qc","_emscripten_bind_ActionInfo_obstacle_0","rc","_emscripten_bind_ActionInfo_shape_0","sc","_emscripten_bind_ActionInfo_conn_0","tc","_emscripten_bind_ActionInfo_junction_0","uc","_emscripten_bind_ActionInfo_addConnEndUpdate_3","vc","_emscripten_bind_ActionInfo_get_type_0","wc","_emscripten_bind_ActionInfo_set_type_1","xc","_emscripten_bind_ActionInfo_get_objPtr_0","yc","_emscripten_bind_ActionInfo_set_objPtr_1","zc","_emscripten_bind_ActionInfo_get_newPoly_0","Ac","_emscripten_bind_ActionInfo_set_newPoly_1","Bc","_emscripten_bind_ActionInfo_get_newPosition_0","Cc","_emscripten_bind_ActionInfo_set_newPosition_1","Dc","_emscripten_bind_ActionInfo_get_firstMove_0","Ec","_emscripten_bind_ActionInfo_set_firstMove_1","Fc","_emscripten_bind_ActionInfo___destroy___0","_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2","Hc","_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3","Ic","_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6","_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7","_emscripten_bind_ShapeConnectionPin_setConnectionCost_1","_emscripten_bind_ShapeConnectionPin_position_0","_emscripten_bind_ShapeConnectionPin_position_1","_emscripten_bind_ShapeConnectionPin_directions_0","Ta","_emscripten_bind_ShapeConnectionPin_setExclusive_1","_emscripten_bind_ShapeConnectionPin_isExclusive_0","Qc","_emscripten_bind_ShapeConnectionPin___destroy___0","_emscripten_bind_Obstacle_id_0","Sc","_emscripten_bind_Obstacle_polygon_0","_emscripten_bind_Obstacle_router_0","_emscripten_bind_Obstacle_position_0","Vc","_emscripten_bind_Obstacle___destroy___0","Wc","_emscripten_bind_JunctionRef_JunctionRef_2","Xc","_emscripten_bind_JunctionRef_JunctionRef_3","Yc","_emscripten_bind_JunctionRef_position_0","Zc","_emscripten_bind_JunctionRef___destroy___0","$c","_emscripten_bind_ShapeRef_ShapeRef_2","ad","_emscripten_bind_ShapeRef_ShapeRef_3","bd","_emscripten_bind_ShapeRef_polygon_0","cd","_emscripten_bind_ShapeRef_position_0","dd","_emscripten_bind_ShapeRef___destroy___0","ed","_emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0","fd","_emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0","gd","_emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1","hd","_emscripten_bind_HyperedgeRerouter___destroy___0","_emscripten_bind_VertInf___destroy___0","jd","_emscripten_bind_VertID_VertID_0","kd","_emscripten_bind_VertID_VertID_2","ld","_emscripten_bind_VertID_VertID_3","md","_emscripten_bind_VertID_get_objID_0","nd","_emscripten_bind_VertID_set_objID_1","od","_emscripten_bind_VertID_get_vn_0","pd","_emscripten_bind_VertID_set_vn_1","qd","_emscripten_bind_VertID_get_props_0","_emscripten_bind_VertID_set_props_1","sd","_emscripten_bind_VertID_get_src_0","_emscripten_bind_VertID_get_tar_0","_emscripten_bind_VertID_get_PROP_ConnPoint_0","vd","_emscripten_bind_VertID_get_PROP_OrthShapeEdge_0","wd","_emscripten_bind_VertID_get_PROP_ConnectionPin_0","xd","_emscripten_bind_VertID_get_PROP_ConnCheckpoint_0","yd","_emscripten_bind_VertID_get_PROP_DummyPinHelper_0","zd","_emscripten_bind_VertID___destroy___0","Ad","_emscripten_bind_MinimumTerminalSpanningTree___destroy___0","Bd","_emscripten_bind_Checkpoint_Checkpoint_1","Cd","_emscripten_bind_Checkpoint___destroy___0","Dd","_emscripten_bind_ConnRef_ConnRef_3","Ed","_emscripten_bind_ConnRef_ConnRef_4","Fd","_emscripten_bind_ConnRef_id_0","_emscripten_bind_ConnRef_setCallback_2","_emscripten_bind_ConnRef_setSourceEndpoint_1","Id","_emscripten_bind_ConnRef_setDestEndpoint_1","Jd","_emscripten_bind_ConnRef_routingType_0","_emscripten_bind_ConnRef_setRoutingType_1","_emscripten_bind_ConnRef_displayRoute_0","_emscripten_bind_ConnRef___destroy___0","_emscripten_bind_EdgeInf_EdgeInf_2","_emscripten_bind_EdgeInf_EdgeInf_3","Pd","_emscripten_bind_EdgeInf___destroy___0","Qd","_emscripten_bind_LineRep_get_begin_0","Rd","_emscripten_bind_LineRep_set_begin_1","Sd","_emscripten_bind_LineRep_get_end_0","Td","_emscripten_bind_LineRep_set_end_1","Ud","_emscripten_bind_LineRep___destroy___0","Vd","_emscripten_bind_Router_Router_1","Wd","_emscripten_bind_Router_processTransaction_0","Xd","_emscripten_bind_Router_printInfo_0","Yd","_emscripten_bind_Router_deleteConnector_1","Zd","_emscripten_bind_Router_moveShape_3","$d","_emscripten_bind_Router___destroy___0","ae","_emscripten_enum_Avoid_ConnDirFlag_ConnDirNone","be","_emscripten_enum_Avoid_ConnDirFlag_ConnDirUp","ce","_emscripten_enum_Avoid_ConnDirFlag_ConnDirDown","gc","de","_emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft","ee","_emscripten_enum_Avoid_ConnDirFlag_ConnDirRight","fe","_emscripten_enum_Avoid_ConnDirFlag_ConnDirAll","ge","_emscripten_enum_Avoid_ConnEndType_ConnEndPoint","he","_emscripten_enum_Avoid_ConnEndType_ConnEndShapePin","ie","_emscripten_enum_Avoid_ConnEndType_ConnEndJunction","je","_emscripten_enum_Avoid_ConnEndType_ConnEndEmpty","ke","_emscripten_enum_Avoid_ActionType_ShapeMove","le","_emscripten_enum_Avoid_ActionType_ShapeAdd","me","_emscripten_enum_Avoid_ActionType_ShapeRemove","ne","_emscripten_enum_Avoid_ActionType_JunctionMove","oe","_emscripten_enum_Avoid_ActionType_JunctionAdd","pe","_emscripten_enum_Avoid_ActionType_JunctionRemove","qe","_emscripten_enum_Avoid_ActionType_ConnChange","re","_emscripten_enum_Avoid_ActionType_ConnectionPinChange","se","_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90","te","_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180","ue","_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270","ve","_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX","we","_emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY","xe","_emscripten_enum_Avoid_ConnType_ConnType_None","ye","_emscripten_enum_Avoid_ConnType_ConnType_PolyLine","ze","_emscripten_enum_Avoid_ConnType_ConnType_Orthogonal","Ae","_emscripten_enum_Avoid_RouterFlag_PolyLineRouting","Be","_emscripten_enum_Avoid_RouterFlag_OrthogonalRouting","Ee","calledRun","onRuntimeInitialized","postRun","setStatus","setTimeout","De","run","preInit","create","WrapperObject","getCache","wrapPointer","castObject","NULL","destroy","__destroy__","compare","getPointer","getClass","Fe","Ge","He","Ie","_emscripten_bind_Point_Point_1","_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_4","_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_5","_emscripten_bind_VertID_VertID_1","Je","VoidPtr","HyperedgeImprover","clear","setRouter","Box","width","height","get_min","set_min","get_max","set_max","PolygonInterface","empty","size","at","boundingRectPolygon","offsetBoundingBox","offsetPolygon","Polygon","setPoint","get_ps","set_ps","Point","equal","get_x","set_x","get_y","set_y","get_id","set_id","get_vn","set_vn","Rectangle","HyperedgeTreeNode","writeEdgesToConns","HyperedgeTreeEdge","AStarPath","search","ConnEnd","ActionInfo","obstacle","shape","conn","junction","addConnEndUpdate","get_type","set_type","get_objPtr","set_objPtr","get_newPoly","set_newPoly","get_newPosition","set_newPosition","get_firstMove","set_firstMove","ShapeConnectionPin","setConnectionCost","position","directions","setExclusive","isExclusive","Obstacle","polygon","router","JunctionRef","ShapeRef","HyperedgeNewAndDeletedObjectLists","HyperedgeRerouter","registerHyperedgeForRerouting","VertInf","VertID","get_objID","set_objID","get_props","set_props","get_src","get_tar","get_PROP_ConnPoint","get_PROP_OrthShapeEdge","get_PROP_ConnectionPin","get_PROP_ConnCheckpoint","get_PROP_DummyPinHelper","MinimumTerminalSpanningTree","Checkpoint","ConnRef","setCallback","WeakMap","grow","parameters","results","Module","setSourceEndpoint","setDestEndpoint","routingType","setRoutingType","displayRoute","EdgeInf","LineRep","get_begin","set_begin","get_end","set_end","Router","processTransaction","printInfo","deleteConnector","moveShape","ConnDirNone","ConnDirUp","ConnDirDown","ConnDirLeft","ConnDirRight","ConnDirAll","ConnEndPoint","ConnEndShapePin","ConnEndJunction","ConnEndEmpty","ShapeMove","ShapeAdd","ShapeRemove","JunctionMove","JunctionAdd","JunctionRemove","ConnChange","ConnectionPinChange","TransformationType_CW90","TransformationType_CW180","TransformationType_CW270","TransformationType_FlipX","TransformationType_FlipY","ConnType_None","ConnType_PolyLine","ConnType_Orthogonal","PolyLineRouting","OrthogonalRouting","AvoidLib","avoidLib","getInstance","Action","IActionDispatcher","IActionDispatcherProvider","IActionHandlerInitializer","ActionHandlerRegistration","ActionHandlerRegistryProvider","IAnchorComputer","AnimationFrameSyncer","IButtonHandler","ICommandPaletteActionProvider","ICommandPaletteActionProviderRegistry","CommandRegistration","ICommandStack","CommandStackOptions","ICommandStackProvider","IContextMenuItemProvider","IContextMenuProviderRegistry","IContextMenuService","IContextMenuServiceProvider","DOMHelper","IDiagramLocker","IEdgeRouter","IEditLabelValidationDecorator","IEditLabelValidator","HiddenModelViewer","HiddenVNodePostprocessor","HoverState","KeyListener","LayoutRegistry","Layouter","LogLevel","ILogger","IModelFactory","IModelLayoutEngine","ModelRendererFactory","ModelSource","ModelSourceProvider","ModelViewer","MouseListener","PatcherProvider","IPopupModelProvider","PopupModelViewer","PopupMouseListener","PopupVNodePostprocessor","SModelElementRegistration","SModelRegistry","ISnapper","SvgExporter","IToolManager","IUIExtension","UIExtensionRegistry","IVNodePostprocessor","ViewRegistration","ViewRegistry","IViewer","ViewerOptions","IViewerProvider","elements","register","cstr","deregister","arg","existingCstr","missing","ProviderRegistry","existingFactory","FactoryRegistry","existingInstance","InstanceRegistry","instances","deregisterAll","existingInstances","MultiInstanceRegistry","DIAMOND_ANCHOR_KIND","ELLIPTIC_ANCHOR_KIND","RECTANGULAR_ANCHOR_KIND","anchors","anchor","kind","routerKind","anchorKind","defaultAnchorKind","AnchorComputerRegistry","freeze","subtract","p1","p2","EMPTY_DIMENSION","isValidDimension","Direction","isBounds","element","combine","b0","b1","minX","min","minY","max","center","euclideanDistance","dx","dy","sqrt","shiftTowards","point","refPoint","distance","normalized","mag","pow","magnitude","almostEquals","linear","p0","lambda","bounds","PointToPointLine","topPoint","rightPoint","leftPoint","bottomPoint","closestSideLine","bottomRightSideLine","topRightSideLine","bottomLeftSideLine","topLeftSideLine","intersection","l1","l2","startFn","nextFn","state","callback","filterIterable","mapIterable","DONE_RESULT","input","FluentIterableImpl","createIterator","collection","method","ArrayIterator","array","children","splice","removeAll","move","newIndex","localToParent","parentToLocal","current","hasFeature","feature","features","SModelIndex","canvasBounds","writable","ID_CHARS","createRandomId","charAt","floor","random","id2element","id2parent","getById","getParent","getRoot","getAttachedElements","all","translatePoint","source","targetTrace","newBounds","Command","command","MergeableCommand","undo","logger","redo","HiddenCommand","PopupCommand","SystemCommand","ResetCommand","deletableFeature","isDeletable","elementIds","DeleteElementAction","KIND","selectFeature","action","resolvedDeletes","execute","resolvedDelete","DeleteElementCommand","hoverFeedbackFeature","moveFeature","routingPoints","sourceId","targetId","routingPoint","getAbsoluteRouteBounds","model","route","NaN","isNaN","getRouteBounds","strokeWidth","getIncomingEdges","getOutgoingEdges","canConnect","routable","role","SShapeElement","editMode","hoverFeedback","selected","SRoutingHandle","DEFAULT_FEATURES","SConnectableElement","isVisible","targetKind","RoutableView","Side","edgeParent","upperLeft","lowerRight","translateBounds","left","right","top","bottom","side","toLowerCase","getNearestSide","leftDistance","rightDistance","topDistance","bottomDistance","currentNearestSide","LEFT","currentMinDist","RIGHT","TOP","BOTTOM","pointAt","edge","segments","calculateSegment","derivativeAt","segmentStart","segmentEnd","routedPoints","segmentLengths","totalLength","currentLenght","tAsLenght","newLength","addHandle","routingPointIndex","handle","pointIndex","getHandlePosition","getInnerHandlePosition","findRouteSegment","handleIndex","end","getIndex","rp","getTranslatedAnchor","connectable","refContainer","anchorCorrection","translatedRefPoint","anchorComputer","getAnchorComputer","strokeCorrection","getAnchor","anchorRegistry","applyHandleMoves","moves","remainingMoves","original","toPosition","danglingAnchor","applyInnerHandleMoves","cleanupRoutingPoints","getCenterPoint","currentElement","updateHandles","addRoutingPoints","sourceConnectionEnd","targetConnectionEnd","Avoid","avoidRoutes","connRef","resetRoutingPointsOnReconnect","sourceAnchors","targetAnchors","getOptions","corners","calculateDefaultCorners","applyReconnect","newSourceId","newTargetId","hasChanged","newSource","newTarget","getSelfEdgeIndex","takeSnapshot","routingHandles","applySnapshot","selfEdgeIndex","standardDist","standardDistance","delta","selfEdgeOffset","outgoingEdges","otherEdge","LinearEdgeRouter","ManhattanEdgeRouter","minimalPointDistance","createRoutedCorners","DefaultAnchors","routingPointsCopy","corner","createRoutingHandles","commitRoute","fraction","getFraction","newRoutingPoints","correctedX","correctX","correctedY","correctY","alignX","alignY","removeHandle","toBeRemoved","addAdditionalCorner","currentAnchors","otherAnchors","isHorizontal","shiftIndex","nearestSide","newPoint","manhattanify","isVertical","selfEdge","bestAnchors","getBestConnectionAnchors","sourceSide","targetSide","startPoint","endPoint","sourcePoint","targetPoint","ManhattanRectangularAnchor","offset","ManhattanDiamondAnchor","outline","refLine","ManhattanEllipticAnchor","refRelative","PolylineEdgeRouter","removeAngleThreshold","filterEditModeHandles","find","angle","lengthProduct","dotProduct","acos","angleBetweenPoints","PI","rpCount","points","fromPosition","normX","normY","EllipseAnchor","finder","NearestPointFinder","xTop","getXIntersection","addCandidate","xBottom","yLeft","getYIntersection","yRight","best","yIntersection","centerPoint","xIntersection","RectangleAnchor","currentDist","dist","currentBest","referenceLine","Diamond","DiamondAnchor","edgeRouters","renderedTimes","avoidRouter","defaultKind","getAllChildren","routables","connectables","avoidRoutesToEdgeRoutes","routes","EdgeRoutes","connection","sprottyRoute","routeAllChildren","connections","rectangle","containsEdgeRoutes","edgeRoutes","EdgeRouterRegistry","_routes","setAll","otherRoutes","routableId"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MyLibrary\"] = factory();\n\telse\n\t\troot[\"MyLibrary\"] = factory();\n})(global, function() {\nreturn ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tagProperty = exports.tagParameter = exports.decorate = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED;\n    _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED_PROP;\n    _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n    var paramsOrPropertiesMetadata = {};\n    var isParameterDecorator = (typeof parameterIndex === \"number\");\n    var key = (parameterIndex !== undefined && isParameterDecorator) ? parameterIndex.toString() : propertyName;\n    if (isParameterDecorator && propertyName !== undefined) {\n        throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n    }\n    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n    }\n    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n    if (!Array.isArray(paramOrPropertyMetadata)) {\n        paramOrPropertyMetadata = [];\n    }\n    else {\n        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n            var m = paramOrPropertyMetadata_1[_i];\n            if (m.key === metadata.key) {\n                throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n            }\n        }\n    }\n    paramOrPropertyMetadata.push(metadata);\n    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n    Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); };\n}\nfunction decorate(decorator, target, parameterIndex) {\n    if (typeof parameterIndex === \"number\") {\n        _decorate([_param(parameterIndex, decorator)], target);\n    }\n    else if (typeof parameterIndex === \"string\") {\n        Reflect.decorate([decorator], target, parameterIndex);\n    }\n    else {\n        _decorate([decorator], target);\n    }\n}\nexports.decorate = decorate;\n//# sourceMappingURL=decorator_utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inject = exports.LazyServiceIdentifer = void 0;\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nvar LazyServiceIdentifer = (function () {\n    function LazyServiceIdentifer(cb) {\n        this._cb = cb;\n    }\n    LazyServiceIdentifer.prototype.unwrap = function () {\n        return this._cb();\n    };\n    return LazyServiceIdentifer;\n}());\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\nfunction inject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        if (serviceIdentifier === undefined) {\n            throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n        }\n        var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.inject = inject;\n//# sourceMappingURL=inject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectable = void 0;\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction injectable() {\n    return function (target) {\n        if (Reflect.hasOwnMetadata(METADATA_KEY.PARAM_TYPES, target)) {\n            throw new Error(ERRORS_MSGS.DUPLICATED_INJECTABLE_DECORATOR);\n        }\n        var types = Reflect.getMetadata(METADATA_KEY.DESIGN_PARAM_TYPES, target) || [];\n        Reflect.defineMetadata(METADATA_KEY.PARAM_TYPES, types, target);\n        return target;\n    };\n}\nexports.injectable = injectable;\n//# sourceMappingURL=injectable.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiInject = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction multiInject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.MULTI_INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.multiInject = multiInject;\n//# sourceMappingURL=multi_inject.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.named = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction named(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, name);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.named = named;\n//# sourceMappingURL=named.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.optional = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction optional() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.OPTIONAL_TAG, true);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.optional = optional;\n//# sourceMappingURL=optional.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.postConstruct = void 0;\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nfunction postConstruct() {\n    return function (target, propertyKey, descriptor) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.POST_CONSTRUCT, propertyKey);\n        if (Reflect.hasOwnMetadata(METADATA_KEY.POST_CONSTRUCT, target.constructor)) {\n            throw new Error(ERRORS_MSGS.MULTIPLE_POST_CONSTRUCT_METHODS);\n        }\n        Reflect.defineMetadata(METADATA_KEY.POST_CONSTRUCT, metadata, target.constructor);\n    };\n}\nexports.postConstruct = postConstruct;\n//# sourceMappingURL=post_construct.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tagged = void 0;\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction tagged(metadataKey, metadataValue) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(metadataKey, metadataValue);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.tagged = tagged;\n//# sourceMappingURL=tagged.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.targetName = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction targetName(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAME_TAG, name);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.targetName = targetName;\n//# sourceMappingURL=target_name.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unmanaged = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction unmanaged() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.UNMANAGED_TAG, true);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.unmanaged = unmanaged;\n//# sourceMappingURL=unmanaged.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Binding = void 0;\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar id_1 = require(\"../utils/id\");\nvar Binding = (function () {\n    function Binding(serviceIdentifier, scope) {\n        this.id = id_1.id();\n        this.activated = false;\n        this.serviceIdentifier = serviceIdentifier;\n        this.scope = scope;\n        this.type = literal_types_1.BindingTypeEnum.Invalid;\n        this.constraint = function (request) { return true; };\n        this.implementationType = null;\n        this.cache = null;\n        this.factory = null;\n        this.provider = null;\n        this.onActivation = null;\n        this.dynamicValue = null;\n    }\n    Binding.prototype.clone = function () {\n        var clone = new Binding(this.serviceIdentifier, this.scope);\n        clone.activated = (clone.scope === literal_types_1.BindingScopeEnum.Singleton) ? this.activated : false;\n        clone.implementationType = this.implementationType;\n        clone.dynamicValue = this.dynamicValue;\n        clone.scope = this.scope;\n        clone.type = this.type;\n        clone.factory = this.factory;\n        clone.provider = this.provider;\n        clone.constraint = this.constraint;\n        clone.onActivation = this.onActivation;\n        clone.cache = this.cache;\n        return clone;\n    };\n    return Binding;\n}());\nexports.Binding = Binding;\n//# sourceMappingURL=binding.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingCount = void 0;\nvar BindingCount = {\n    MultipleBindingsAvailable: 2,\n    NoBindingsAvailable: 0,\n    OnlyOneBindingAvailable: 1\n};\nexports.BindingCount = BindingCount;\n//# sourceMappingURL=binding_count.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.STACK_OVERFLOW = exports.CIRCULAR_DEPENDENCY_IN_FACTORY = exports.POST_CONSTRUCT_ERROR = exports.MULTIPLE_POST_CONSTRUCT_METHODS = exports.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = exports.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = exports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = exports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = exports.ARGUMENTS_LENGTH_MISMATCH = exports.INVALID_DECORATOR_OPERATION = exports.INVALID_TO_SELF_VALUE = exports.INVALID_FUNCTION_BINDING = exports.INVALID_MIDDLEWARE_RETURN = exports.NO_MORE_SNAPSHOTS_AVAILABLE = exports.INVALID_BINDING_TYPE = exports.NOT_IMPLEMENTED = exports.CIRCULAR_DEPENDENCY = exports.UNDEFINED_INJECT_ANNOTATION = exports.MISSING_INJECT_ANNOTATION = exports.MISSING_INJECTABLE_ANNOTATION = exports.NOT_REGISTERED = exports.CANNOT_UNBIND = exports.AMBIGUOUS_MATCH = exports.KEY_NOT_FOUND = exports.NULL_ARGUMENT = exports.DUPLICATED_METADATA = exports.DUPLICATED_INJECTABLE_DECORATOR = void 0;\nexports.DUPLICATED_INJECTABLE_DECORATOR = \"Cannot apply @injectable decorator multiple times.\";\nexports.DUPLICATED_METADATA = \"Metadata key was used more than once in a parameter:\";\nexports.NULL_ARGUMENT = \"NULL argument\";\nexports.KEY_NOT_FOUND = \"Key Not Found\";\nexports.AMBIGUOUS_MATCH = \"Ambiguous match found for serviceIdentifier:\";\nexports.CANNOT_UNBIND = \"Could not unbind serviceIdentifier:\";\nexports.NOT_REGISTERED = \"No matching bindings found for serviceIdentifier:\";\nexports.MISSING_INJECTABLE_ANNOTATION = \"Missing required @injectable annotation in:\";\nexports.MISSING_INJECT_ANNOTATION = \"Missing required @inject or @multiInject annotation in:\";\nvar UNDEFINED_INJECT_ANNOTATION = function (name) {\n    return \"@inject called with undefined this could mean that the class \" + name + \" has \" +\n        \"a circular dependency problem. You can use a LazyServiceIdentifer to  \" +\n        \"overcome this limitation.\";\n};\nexports.UNDEFINED_INJECT_ANNOTATION = UNDEFINED_INJECT_ANNOTATION;\nexports.CIRCULAR_DEPENDENCY = \"Circular dependency found:\";\nexports.NOT_IMPLEMENTED = \"Sorry, this feature is not fully implemented yet.\";\nexports.INVALID_BINDING_TYPE = \"Invalid binding type:\";\nexports.NO_MORE_SNAPSHOTS_AVAILABLE = \"No snapshot available to restore.\";\nexports.INVALID_MIDDLEWARE_RETURN = \"Invalid return type in middleware. Middleware must return!\";\nexports.INVALID_FUNCTION_BINDING = \"Value provided to function binding must be a function!\";\nexports.INVALID_TO_SELF_VALUE = \"The toSelf function can only be applied when a constructor is \" +\n    \"used as service identifier\";\nexports.INVALID_DECORATOR_OPERATION = \"The @inject @multiInject @tagged and @named decorators \" +\n    \"must be applied to the parameters of a class constructor or a class property.\";\nvar ARGUMENTS_LENGTH_MISMATCH = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"The number of constructor arguments in the derived class \" +\n        (values[0] + \" must be >= than the number of constructor arguments of its base class.\");\n};\nexports.ARGUMENTS_LENGTH_MISMATCH = ARGUMENTS_LENGTH_MISMATCH;\nexports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = \"Invalid Container constructor argument. Container options \" +\n    \"must be an object.\";\nexports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = \"Invalid Container option. Default scope must \" +\n    \"be a string ('singleton' or 'transient').\";\nexports.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = \"Invalid Container option. Auto bind injectable must \" +\n    \"be a boolean\";\nexports.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = \"Invalid Container option. Skip base check must \" +\n    \"be a boolean\";\nexports.MULTIPLE_POST_CONSTRUCT_METHODS = \"Cannot apply @postConstruct decorator multiple times in the same class\";\nvar POST_CONSTRUCT_ERROR = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"@postConstruct error in class \" + values[0] + \": \" + values[1];\n};\nexports.POST_CONSTRUCT_ERROR = POST_CONSTRUCT_ERROR;\nvar CIRCULAR_DEPENDENCY_IN_FACTORY = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"It looks like there is a circular dependency \" +\n        (\"in one of the '\" + values[0] + \"' bindings. Please investigate bindings with\") +\n        (\"service identifier '\" + values[1] + \"'.\");\n};\nexports.CIRCULAR_DEPENDENCY_IN_FACTORY = CIRCULAR_DEPENDENCY_IN_FACTORY;\nexports.STACK_OVERFLOW = \"Maximum call stack size exceeded\";\n//# sourceMappingURL=error_msgs.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TargetTypeEnum = exports.BindingTypeEnum = exports.BindingScopeEnum = void 0;\nvar BindingScopeEnum = {\n    Request: \"Request\",\n    Singleton: \"Singleton\",\n    Transient: \"Transient\"\n};\nexports.BindingScopeEnum = BindingScopeEnum;\nvar BindingTypeEnum = {\n    ConstantValue: \"ConstantValue\",\n    Constructor: \"Constructor\",\n    DynamicValue: \"DynamicValue\",\n    Factory: \"Factory\",\n    Function: \"Function\",\n    Instance: \"Instance\",\n    Invalid: \"Invalid\",\n    Provider: \"Provider\"\n};\nexports.BindingTypeEnum = BindingTypeEnum;\nvar TargetTypeEnum = {\n    ClassProperty: \"ClassProperty\",\n    ConstructorArgument: \"ConstructorArgument\",\n    Variable: \"Variable\"\n};\nexports.TargetTypeEnum = TargetTypeEnum;\n//# sourceMappingURL=literal_types.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NON_CUSTOM_TAG_KEYS = exports.POST_CONSTRUCT = exports.DESIGN_PARAM_TYPES = exports.PARAM_TYPES = exports.TAGGED_PROP = exports.TAGGED = exports.MULTI_INJECT_TAG = exports.INJECT_TAG = exports.OPTIONAL_TAG = exports.UNMANAGED_TAG = exports.NAME_TAG = exports.NAMED_TAG = void 0;\nexports.NAMED_TAG = \"named\";\nexports.NAME_TAG = \"name\";\nexports.UNMANAGED_TAG = \"unmanaged\";\nexports.OPTIONAL_TAG = \"optional\";\nexports.INJECT_TAG = \"inject\";\nexports.MULTI_INJECT_TAG = \"multi_inject\";\nexports.TAGGED = \"inversify:tagged\";\nexports.TAGGED_PROP = \"inversify:tagged_props\";\nexports.PARAM_TYPES = \"inversify:paramtypes\";\nexports.DESIGN_PARAM_TYPES = \"design:paramtypes\";\nexports.POST_CONSTRUCT = \"post_construct\";\nfunction getNonCustomTagKeys() {\n    return [\n        exports.INJECT_TAG,\n        exports.MULTI_INJECT_TAG,\n        exports.NAME_TAG,\n        exports.UNMANAGED_TAG,\n        exports.NAMED_TAG,\n        exports.OPTIONAL_TAG,\n    ];\n}\nexports.NON_CUSTOM_TAG_KEYS = getNonCustomTagKeys();\n//# sourceMappingURL=metadata_keys.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Container = void 0;\nvar binding_1 = require(\"../bindings/binding\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_reader_1 = require(\"../planning/metadata_reader\");\nvar planner_1 = require(\"../planning/planner\");\nvar resolver_1 = require(\"../resolution/resolver\");\nvar binding_to_syntax_1 = require(\"../syntax/binding_to_syntax\");\nvar id_1 = require(\"../utils/id\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar container_snapshot_1 = require(\"./container_snapshot\");\nvar lookup_1 = require(\"./lookup\");\nvar Container = (function () {\n    function Container(containerOptions) {\n        this._appliedMiddleware = [];\n        var options = containerOptions || {};\n        if (typeof options !== \"object\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);\n        }\n        if (options.defaultScope === undefined) {\n            options.defaultScope = literal_types_1.BindingScopeEnum.Transient;\n        }\n        else if (options.defaultScope !== literal_types_1.BindingScopeEnum.Singleton &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Transient &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Request) {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);\n        }\n        if (options.autoBindInjectable === undefined) {\n            options.autoBindInjectable = false;\n        }\n        else if (typeof options.autoBindInjectable !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);\n        }\n        if (options.skipBaseClassChecks === undefined) {\n            options.skipBaseClassChecks = false;\n        }\n        else if (typeof options.skipBaseClassChecks !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);\n        }\n        this.options = {\n            autoBindInjectable: options.autoBindInjectable,\n            defaultScope: options.defaultScope,\n            skipBaseClassChecks: options.skipBaseClassChecks\n        };\n        this.id = id_1.id();\n        this._bindingDictionary = new lookup_1.Lookup();\n        this._snapshots = [];\n        this._middleware = null;\n        this.parent = null;\n        this._metadataReader = new metadata_reader_1.MetadataReader();\n    }\n    Container.merge = function (container1, container2) {\n        var container3 = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            container3[_i - 2] = arguments[_i];\n        }\n        var container = new Container();\n        var targetContainers = __spreadArray([container1, container2], container3).map(function (targetContainer) { return planner_1.getBindingDictionary(targetContainer); });\n        var bindingDictionary = planner_1.getBindingDictionary(container);\n        function copyDictionary(origin, destination) {\n            origin.traverse(function (key, value) {\n                value.forEach(function (binding) {\n                    destination.add(binding.serviceIdentifier, binding.clone());\n                });\n            });\n        }\n        targetContainers.forEach(function (targetBindingDictionary) {\n            copyDictionary(targetBindingDictionary, bindingDictionary);\n        });\n        return container;\n    };\n    Container.prototype.load = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var getHelpers = this._getContainerModuleHelpersFactory();\n        for (var _a = 0, modules_1 = modules; _a < modules_1.length; _a++) {\n            var currentModule = modules_1[_a];\n            var containerModuleHelpers = getHelpers(currentModule.id);\n            currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction);\n        }\n    };\n    Container.prototype.loadAsync = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            var getHelpers, _a, modules_2, currentModule, containerModuleHelpers;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        getHelpers = this._getContainerModuleHelpersFactory();\n                        _a = 0, modules_2 = modules;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_a < modules_2.length)) return [3, 4];\n                        currentModule = modules_2[_a];\n                        containerModuleHelpers = getHelpers(currentModule.id);\n                        return [4, currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _a++;\n                        return [3, 1];\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    Container.prototype.unload = function () {\n        var _this = this;\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var conditionFactory = function (expected) { return function (item) {\n            return item.moduleId === expected;\n        }; };\n        modules.forEach(function (module) {\n            var condition = conditionFactory(module.id);\n            _this._bindingDictionary.removeByCondition(condition);\n        });\n    };\n    Container.prototype.bind = function (serviceIdentifier) {\n        var scope = this.options.defaultScope || literal_types_1.BindingScopeEnum.Transient;\n        var binding = new binding_1.Binding(serviceIdentifier, scope);\n        this._bindingDictionary.add(serviceIdentifier, binding);\n        return new binding_to_syntax_1.BindingToSyntax(binding);\n    };\n    Container.prototype.rebind = function (serviceIdentifier) {\n        this.unbind(serviceIdentifier);\n        return this.bind(serviceIdentifier);\n    };\n    Container.prototype.unbind = function (serviceIdentifier) {\n        try {\n            this._bindingDictionary.remove(serviceIdentifier);\n        }\n        catch (e) {\n            throw new Error(ERROR_MSGS.CANNOT_UNBIND + \" \" + serialization_1.getServiceIdentifierAsString(serviceIdentifier));\n        }\n    };\n    Container.prototype.unbindAll = function () {\n        this._bindingDictionary = new lookup_1.Lookup();\n    };\n    Container.prototype.isBound = function (serviceIdentifier) {\n        var bound = this._bindingDictionary.hasKey(serviceIdentifier);\n        if (!bound && this.parent) {\n            bound = this.parent.isBound(serviceIdentifier);\n        }\n        return bound;\n    };\n    Container.prototype.isBoundNamed = function (serviceIdentifier, named) {\n        return this.isBoundTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.isBoundTagged = function (serviceIdentifier, key, value) {\n        var bound = false;\n        if (this._bindingDictionary.hasKey(serviceIdentifier)) {\n            var bindings = this._bindingDictionary.get(serviceIdentifier);\n            var request_1 = planner_1.createMockRequest(this, serviceIdentifier, key, value);\n            bound = bindings.some(function (b) { return b.constraint(request_1); });\n        }\n        if (!bound && this.parent) {\n            bound = this.parent.isBoundTagged(serviceIdentifier, key, value);\n        }\n        return bound;\n    };\n    Container.prototype.snapshot = function () {\n        this._snapshots.push(container_snapshot_1.ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware));\n    };\n    Container.prototype.restore = function () {\n        var snapshot = this._snapshots.pop();\n        if (snapshot === undefined) {\n            throw new Error(ERROR_MSGS.NO_MORE_SNAPSHOTS_AVAILABLE);\n        }\n        this._bindingDictionary = snapshot.bindings;\n        this._middleware = snapshot.middleware;\n    };\n    Container.prototype.createChild = function (containerOptions) {\n        var child = new Container(containerOptions || this.options);\n        child.parent = this;\n        return child;\n    };\n    Container.prototype.applyMiddleware = function () {\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        this._appliedMiddleware = this._appliedMiddleware.concat(middlewares);\n        var initial = (this._middleware) ? this._middleware : this._planAndResolve();\n        this._middleware = middlewares.reduce(function (prev, curr) { return curr(prev); }, initial);\n    };\n    Container.prototype.applyCustomMetadataReader = function (metadataReader) {\n        this._metadataReader = metadataReader;\n    };\n    Container.prototype.get = function (serviceIdentifier) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getNamed = function (serviceIdentifier, named) {\n        return this.getTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.getAll = function (serviceIdentifier) {\n        return this._get(true, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getAllTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getAllNamed = function (serviceIdentifier, named) {\n        return this.getAllTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.resolve = function (constructorFunction) {\n        var tempContainer = this.createChild();\n        tempContainer.bind(constructorFunction).toSelf();\n        this._appliedMiddleware.forEach(function (m) {\n            tempContainer.applyMiddleware(m);\n        });\n        return tempContainer.get(constructorFunction);\n    };\n    Container.prototype._getContainerModuleHelpersFactory = function () {\n        var _this = this;\n        var setModuleId = function (bindingToSyntax, moduleId) {\n            bindingToSyntax._binding.moduleId = moduleId;\n        };\n        var getBindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _bind = _this.bind.bind(_this);\n                var bindingToSyntax = _bind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        var getUnbindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _unbind = _this.unbind.bind(_this);\n                _unbind(serviceIdentifier);\n            };\n        };\n        var getIsboundFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _isBound = _this.isBound.bind(_this);\n                return _isBound(serviceIdentifier);\n            };\n        };\n        var getRebindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _rebind = _this.rebind.bind(_this);\n                var bindingToSyntax = _rebind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        return function (mId) { return ({\n            bindFunction: getBindFunction(mId),\n            isboundFunction: getIsboundFunction(mId),\n            rebindFunction: getRebindFunction(mId),\n            unbindFunction: getUnbindFunction(mId)\n        }); };\n    };\n    Container.prototype._get = function (avoidConstraints, isMultiInject, targetType, serviceIdentifier, key, value) {\n        var result = null;\n        var defaultArgs = {\n            avoidConstraints: avoidConstraints,\n            contextInterceptor: function (context) { return context; },\n            isMultiInject: isMultiInject,\n            key: key,\n            serviceIdentifier: serviceIdentifier,\n            targetType: targetType,\n            value: value\n        };\n        if (this._middleware) {\n            result = this._middleware(defaultArgs);\n            if (result === undefined || result === null) {\n                throw new Error(ERROR_MSGS.INVALID_MIDDLEWARE_RETURN);\n            }\n        }\n        else {\n            result = this._planAndResolve()(defaultArgs);\n        }\n        return result;\n    };\n    Container.prototype._planAndResolve = function () {\n        var _this = this;\n        return function (args) {\n            var context = planner_1.plan(_this._metadataReader, _this, args.isMultiInject, args.targetType, args.serviceIdentifier, args.key, args.value, args.avoidConstraints);\n            context = args.contextInterceptor(context);\n            var result = resolver_1.resolve(context);\n            return result;\n        };\n    };\n    return Container;\n}());\nexports.Container = Container;\n//# sourceMappingURL=container.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncContainerModule = exports.ContainerModule = void 0;\nvar id_1 = require(\"../utils/id\");\nvar ContainerModule = (function () {\n    function ContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return ContainerModule;\n}());\nexports.ContainerModule = ContainerModule;\nvar AsyncContainerModule = (function () {\n    function AsyncContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return AsyncContainerModule;\n}());\nexports.AsyncContainerModule = AsyncContainerModule;\n//# sourceMappingURL=container_module.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContainerSnapshot = void 0;\nvar ContainerSnapshot = (function () {\n    function ContainerSnapshot() {\n    }\n    ContainerSnapshot.of = function (bindings, middleware) {\n        var snapshot = new ContainerSnapshot();\n        snapshot.bindings = bindings;\n        snapshot.middleware = middleware;\n        return snapshot;\n    };\n    return ContainerSnapshot;\n}());\nexports.ContainerSnapshot = ContainerSnapshot;\n//# sourceMappingURL=container_snapshot.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Lookup = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar Lookup = (function () {\n    function Lookup() {\n        this._map = new Map();\n    }\n    Lookup.prototype.getMap = function () {\n        return this._map;\n    };\n    Lookup.prototype.add = function (serviceIdentifier, value) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (value === null || value === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            entry.push(value);\n            this._map.set(serviceIdentifier, entry);\n        }\n        else {\n            this._map.set(serviceIdentifier, [value]);\n        }\n    };\n    Lookup.prototype.get = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            return entry;\n        }\n        else {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.remove = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (!this._map.delete(serviceIdentifier)) {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.removeByCondition = function (condition) {\n        var _this = this;\n        this._map.forEach(function (entries, key) {\n            var updatedEntries = entries.filter(function (entry) { return !condition(entry); });\n            if (updatedEntries.length > 0) {\n                _this._map.set(key, updatedEntries);\n            }\n            else {\n                _this._map.delete(key);\n            }\n        });\n    };\n    Lookup.prototype.hasKey = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        return this._map.has(serviceIdentifier);\n    };\n    Lookup.prototype.clone = function () {\n        var copy = new Lookup();\n        this._map.forEach(function (value, key) {\n            value.forEach(function (b) { return copy.add(key, b.clone()); });\n        });\n        return copy;\n    };\n    Lookup.prototype.traverse = function (func) {\n        this._map.forEach(function (value, key) {\n            func(key, value);\n        });\n    };\n    return Lookup;\n}());\nexports.Lookup = Lookup;\n//# sourceMappingURL=lookup.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiBindToService = exports.getServiceIdentifierAsString = exports.typeConstraint = exports.namedConstraint = exports.taggedConstraint = exports.traverseAncerstors = exports.decorate = exports.id = exports.MetadataReader = exports.postConstruct = exports.targetName = exports.multiInject = exports.unmanaged = exports.optional = exports.LazyServiceIdentifer = exports.inject = exports.named = exports.tagged = exports.injectable = exports.ContainerModule = exports.AsyncContainerModule = exports.TargetTypeEnum = exports.BindingTypeEnum = exports.BindingScopeEnum = exports.Container = exports.METADATA_KEY = void 0;\nvar keys = require(\"./constants/metadata_keys\");\nexports.METADATA_KEY = keys;\nvar container_1 = require(\"./container/container\");\nObject.defineProperty(exports, \"Container\", { enumerable: true, get: function () { return container_1.Container; } });\nvar literal_types_1 = require(\"./constants/literal_types\");\nObject.defineProperty(exports, \"BindingScopeEnum\", { enumerable: true, get: function () { return literal_types_1.BindingScopeEnum; } });\nObject.defineProperty(exports, \"BindingTypeEnum\", { enumerable: true, get: function () { return literal_types_1.BindingTypeEnum; } });\nObject.defineProperty(exports, \"TargetTypeEnum\", { enumerable: true, get: function () { return literal_types_1.TargetTypeEnum; } });\nvar container_module_1 = require(\"./container/container_module\");\nObject.defineProperty(exports, \"AsyncContainerModule\", { enumerable: true, get: function () { return container_module_1.AsyncContainerModule; } });\nObject.defineProperty(exports, \"ContainerModule\", { enumerable: true, get: function () { return container_module_1.ContainerModule; } });\nvar injectable_1 = require(\"./annotation/injectable\");\nObject.defineProperty(exports, \"injectable\", { enumerable: true, get: function () { return injectable_1.injectable; } });\nvar tagged_1 = require(\"./annotation/tagged\");\nObject.defineProperty(exports, \"tagged\", { enumerable: true, get: function () { return tagged_1.tagged; } });\nvar named_1 = require(\"./annotation/named\");\nObject.defineProperty(exports, \"named\", { enumerable: true, get: function () { return named_1.named; } });\nvar inject_1 = require(\"./annotation/inject\");\nObject.defineProperty(exports, \"inject\", { enumerable: true, get: function () { return inject_1.inject; } });\nObject.defineProperty(exports, \"LazyServiceIdentifer\", { enumerable: true, get: function () { return inject_1.LazyServiceIdentifer; } });\nvar optional_1 = require(\"./annotation/optional\");\nObject.defineProperty(exports, \"optional\", { enumerable: true, get: function () { return optional_1.optional; } });\nvar unmanaged_1 = require(\"./annotation/unmanaged\");\nObject.defineProperty(exports, \"unmanaged\", { enumerable: true, get: function () { return unmanaged_1.unmanaged; } });\nvar multi_inject_1 = require(\"./annotation/multi_inject\");\nObject.defineProperty(exports, \"multiInject\", { enumerable: true, get: function () { return multi_inject_1.multiInject; } });\nvar target_name_1 = require(\"./annotation/target_name\");\nObject.defineProperty(exports, \"targetName\", { enumerable: true, get: function () { return target_name_1.targetName; } });\nvar post_construct_1 = require(\"./annotation/post_construct\");\nObject.defineProperty(exports, \"postConstruct\", { enumerable: true, get: function () { return post_construct_1.postConstruct; } });\nvar metadata_reader_1 = require(\"./planning/metadata_reader\");\nObject.defineProperty(exports, \"MetadataReader\", { enumerable: true, get: function () { return metadata_reader_1.MetadataReader; } });\nvar id_1 = require(\"./utils/id\");\nObject.defineProperty(exports, \"id\", { enumerable: true, get: function () { return id_1.id; } });\nvar decorator_utils_1 = require(\"./annotation/decorator_utils\");\nObject.defineProperty(exports, \"decorate\", { enumerable: true, get: function () { return decorator_utils_1.decorate; } });\nvar constraint_helpers_1 = require(\"./syntax/constraint_helpers\");\nObject.defineProperty(exports, \"traverseAncerstors\", { enumerable: true, get: function () { return constraint_helpers_1.traverseAncerstors; } });\nObject.defineProperty(exports, \"taggedConstraint\", { enumerable: true, get: function () { return constraint_helpers_1.taggedConstraint; } });\nObject.defineProperty(exports, \"namedConstraint\", { enumerable: true, get: function () { return constraint_helpers_1.namedConstraint; } });\nObject.defineProperty(exports, \"typeConstraint\", { enumerable: true, get: function () { return constraint_helpers_1.typeConstraint; } });\nvar serialization_1 = require(\"./utils/serialization\");\nObject.defineProperty(exports, \"getServiceIdentifierAsString\", { enumerable: true, get: function () { return serialization_1.getServiceIdentifierAsString; } });\nvar binding_utils_1 = require(\"./utils/binding_utils\");\nObject.defineProperty(exports, \"multiBindToService\", { enumerable: true, get: function () { return binding_utils_1.multiBindToService; } });\n//# sourceMappingURL=inversify.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Context = void 0;\nvar id_1 = require(\"../utils/id\");\nvar Context = (function () {\n    function Context(container) {\n        this.id = id_1.id();\n        this.container = container;\n    }\n    Context.prototype.addPlan = function (plan) {\n        this.plan = plan;\n    };\n    Context.prototype.setCurrentRequest = function (currentRequest) {\n        this.currentRequest = currentRequest;\n    };\n    return Context;\n}());\nexports.Context = Context;\n//# sourceMappingURL=context.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Metadata = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar Metadata = (function () {\n    function Metadata(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    Metadata.prototype.toString = function () {\n        if (this.key === METADATA_KEY.NAMED_TAG) {\n            return \"named: \" + this.value.toString() + \" \";\n        }\n        else {\n            return \"tagged: { key:\" + this.key.toString() + \", value: \" + this.value + \" }\";\n        }\n    };\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n//# sourceMappingURL=metadata.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MetadataReader = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar MetadataReader = (function () {\n    function MetadataReader() {\n    }\n    MetadataReader.prototype.getConstructorMetadata = function (constructorFunc) {\n        var compilerGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.PARAM_TYPES, constructorFunc);\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED, constructorFunc);\n        return {\n            compilerGeneratedMetadata: compilerGeneratedMetadata,\n            userGeneratedMetadata: userGeneratedMetadata || {}\n        };\n    };\n    MetadataReader.prototype.getPropertiesMetadata = function (constructorFunc) {\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED_PROP, constructorFunc) || [];\n        return userGeneratedMetadata;\n    };\n    return MetadataReader;\n}());\nexports.MetadataReader = MetadataReader;\n//# sourceMappingURL=metadata_reader.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Plan = void 0;\nvar Plan = (function () {\n    function Plan(parentContext, rootRequest) {\n        this.parentContext = parentContext;\n        this.rootRequest = rootRequest;\n    }\n    return Plan;\n}());\nexports.Plan = Plan;\n//# sourceMappingURL=plan.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getBindingDictionary = exports.createMockRequest = exports.plan = void 0;\nvar binding_count_1 = require(\"../bindings/binding_count\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar context_1 = require(\"./context\");\nvar metadata_1 = require(\"./metadata\");\nvar plan_1 = require(\"./plan\");\nvar reflection_utils_1 = require(\"./reflection_utils\");\nvar request_1 = require(\"./request\");\nvar target_1 = require(\"./target\");\nfunction getBindingDictionary(cntnr) {\n    return cntnr._bindingDictionary;\n}\nexports.getBindingDictionary = getBindingDictionary;\nfunction _createTarget(isMultiInject, targetType, serviceIdentifier, name, key, value) {\n    var metadataKey = isMultiInject ? METADATA_KEY.MULTI_INJECT_TAG : METADATA_KEY.INJECT_TAG;\n    var injectMetadata = new metadata_1.Metadata(metadataKey, serviceIdentifier);\n    var target = new target_1.Target(targetType, name, serviceIdentifier, injectMetadata);\n    if (key !== undefined) {\n        var tagMetadata = new metadata_1.Metadata(key, value);\n        target.metadata.push(tagMetadata);\n    }\n    return target;\n}\nfunction _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target) {\n    var bindings = getBindings(context.container, target.serviceIdentifier);\n    var activeBindings = [];\n    if (bindings.length === binding_count_1.BindingCount.NoBindingsAvailable &&\n        context.container.options.autoBindInjectable &&\n        typeof target.serviceIdentifier === \"function\" &&\n        metadataReader.getConstructorMetadata(target.serviceIdentifier).compilerGeneratedMetadata) {\n        context.container.bind(target.serviceIdentifier).toSelf();\n        bindings = getBindings(context.container, target.serviceIdentifier);\n    }\n    if (!avoidConstraints) {\n        activeBindings = bindings.filter(function (binding) {\n            var request = new request_1.Request(binding.serviceIdentifier, context, parentRequest, binding, target);\n            return binding.constraint(request);\n        });\n    }\n    else {\n        activeBindings = bindings;\n    }\n    _validateActiveBindingCount(target.serviceIdentifier, activeBindings, target, context.container);\n    return activeBindings;\n}\nfunction _validateActiveBindingCount(serviceIdentifier, bindings, target, container) {\n    switch (bindings.length) {\n        case binding_count_1.BindingCount.NoBindingsAvailable:\n            if (target.isOptional()) {\n                return bindings;\n            }\n            else {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.NOT_REGISTERED;\n                msg += serialization_1.listMetadataForTarget(serviceIdentifierString, target);\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n        case binding_count_1.BindingCount.OnlyOneBindingAvailable:\n            if (!target.isArray()) {\n                return bindings;\n            }\n        case binding_count_1.BindingCount.MultipleBindingsAvailable:\n        default:\n            if (!target.isArray()) {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.AMBIGUOUS_MATCH + \" \" + serviceIdentifierString;\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n            else {\n                return bindings;\n            }\n    }\n}\nfunction _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, parentRequest, target) {\n    var activeBindings;\n    var childRequest;\n    if (parentRequest === null) {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, null, target);\n        childRequest = new request_1.Request(serviceIdentifier, context, null, activeBindings, target);\n        var thePlan = new plan_1.Plan(context, childRequest);\n        context.addPlan(thePlan);\n    }\n    else {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target);\n        childRequest = parentRequest.addChildRequest(target.serviceIdentifier, activeBindings, target);\n    }\n    activeBindings.forEach(function (binding) {\n        var subChildRequest = null;\n        if (target.isArray()) {\n            subChildRequest = childRequest.addChildRequest(binding.serviceIdentifier, binding, target);\n        }\n        else {\n            if (binding.cache) {\n                return;\n            }\n            subChildRequest = childRequest;\n        }\n        if (binding.type === literal_types_1.BindingTypeEnum.Instance && binding.implementationType !== null) {\n            var dependencies = reflection_utils_1.getDependencies(metadataReader, binding.implementationType);\n            if (!context.container.options.skipBaseClassChecks) {\n                var baseClassDependencyCount = reflection_utils_1.getBaseClassDependencyCount(metadataReader, binding.implementationType);\n                if (dependencies.length < baseClassDependencyCount) {\n                    var error = ERROR_MSGS.ARGUMENTS_LENGTH_MISMATCH(reflection_utils_1.getFunctionName(binding.implementationType));\n                    throw new Error(error);\n                }\n            }\n            dependencies.forEach(function (dependency) {\n                _createSubRequests(metadataReader, false, dependency.serviceIdentifier, context, subChildRequest, dependency);\n            });\n        }\n    });\n}\nfunction getBindings(container, serviceIdentifier) {\n    var bindings = [];\n    var bindingDictionary = getBindingDictionary(container);\n    if (bindingDictionary.hasKey(serviceIdentifier)) {\n        bindings = bindingDictionary.get(serviceIdentifier);\n    }\n    else if (container.parent !== null) {\n        bindings = getBindings(container.parent, serviceIdentifier);\n    }\n    return bindings;\n}\nfunction plan(metadataReader, container, isMultiInject, targetType, serviceIdentifier, key, value, avoidConstraints) {\n    if (avoidConstraints === void 0) { avoidConstraints = false; }\n    var context = new context_1.Context(container);\n    var target = _createTarget(isMultiInject, targetType, serviceIdentifier, \"\", key, value);\n    try {\n        _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, null, target);\n        return context;\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            if (context.plan) {\n                serialization_1.circularDependencyToException(context.plan.rootRequest);\n            }\n        }\n        throw error;\n    }\n}\nexports.plan = plan;\nfunction createMockRequest(container, serviceIdentifier, key, value) {\n    var target = new target_1.Target(literal_types_1.TargetTypeEnum.Variable, \"\", serviceIdentifier, new metadata_1.Metadata(key, value));\n    var context = new context_1.Context(container);\n    var request = new request_1.Request(serviceIdentifier, context, null, [], target);\n    return request;\n}\nexports.createMockRequest = createMockRequest;\n//# sourceMappingURL=planner.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueryableString = void 0;\nvar QueryableString = (function () {\n    function QueryableString(str) {\n        this.str = str;\n    }\n    QueryableString.prototype.startsWith = function (searchString) {\n        return this.str.indexOf(searchString) === 0;\n    };\n    QueryableString.prototype.endsWith = function (searchString) {\n        var reverseString = \"\";\n        var reverseSearchString = searchString.split(\"\").reverse().join(\"\");\n        reverseString = this.str.split(\"\").reverse().join(\"\");\n        return this.startsWith.call({ str: reverseString }, reverseSearchString);\n    };\n    QueryableString.prototype.contains = function (searchString) {\n        return (this.str.indexOf(searchString) !== -1);\n    };\n    QueryableString.prototype.equals = function (compareString) {\n        return this.str === compareString;\n    };\n    QueryableString.prototype.value = function () {\n        return this.str;\n    };\n    return QueryableString;\n}());\nexports.QueryableString = QueryableString;\n//# sourceMappingURL=queryable_string.js.map","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFunctionName = exports.getBaseClassDependencyCount = exports.getDependencies = void 0;\nvar inject_1 = require(\"../annotation/inject\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar serialization_1 = require(\"../utils/serialization\");\nObject.defineProperty(exports, \"getFunctionName\", { enumerable: true, get: function () { return serialization_1.getFunctionName; } });\nvar target_1 = require(\"./target\");\nfunction getDependencies(metadataReader, func) {\n    var constructorName = serialization_1.getFunctionName(func);\n    var targets = getTargets(metadataReader, constructorName, func, false);\n    return targets;\n}\nexports.getDependencies = getDependencies;\nfunction getTargets(metadataReader, constructorName, func, isBaseClass) {\n    var metadata = metadataReader.getConstructorMetadata(func);\n    var serviceIdentifiers = metadata.compilerGeneratedMetadata;\n    if (serviceIdentifiers === undefined) {\n        var msg = ERROR_MSGS.MISSING_INJECTABLE_ANNOTATION + \" \" + constructorName + \".\";\n        throw new Error(msg);\n    }\n    var constructorArgsMetadata = metadata.userGeneratedMetadata;\n    var keys = Object.keys(constructorArgsMetadata);\n    var hasUserDeclaredUnknownInjections = (func.length === 0 && keys.length > 0);\n    var hasOptionalParameters = keys.length > func.length;\n    var iterations = (hasUserDeclaredUnknownInjections || hasOptionalParameters) ? keys.length : func.length;\n    var constructorTargets = getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations);\n    var propertyTargets = getClassPropsAsTargets(metadataReader, func);\n    var targets = __spreadArray(__spreadArray([], constructorTargets), propertyTargets);\n    return targets;\n}\nfunction getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata) {\n    var targetMetadata = constructorArgsMetadata[index.toString()] || [];\n    var metadata = formatTargetMetadata(targetMetadata);\n    var isManaged = metadata.unmanaged !== true;\n    var serviceIdentifier = serviceIdentifiers[index];\n    var injectIdentifier = (metadata.inject || metadata.multiInject);\n    serviceIdentifier = (injectIdentifier) ? (injectIdentifier) : serviceIdentifier;\n    if (serviceIdentifier instanceof inject_1.LazyServiceIdentifer) {\n        serviceIdentifier = serviceIdentifier.unwrap();\n    }\n    if (isManaged) {\n        var isObject = serviceIdentifier === Object;\n        var isFunction = serviceIdentifier === Function;\n        var isUndefined = serviceIdentifier === undefined;\n        var isUnknownType = (isObject || isFunction || isUndefined);\n        if (!isBaseClass && isUnknownType) {\n            var msg = ERROR_MSGS.MISSING_INJECT_ANNOTATION + \" argument \" + index + \" in class \" + constructorName + \".\";\n            throw new Error(msg);\n        }\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ConstructorArgument, metadata.targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        return target;\n    }\n    return null;\n}\nfunction getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations) {\n    var targets = [];\n    for (var i = 0; i < iterations; i++) {\n        var index = i;\n        var target = getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata);\n        if (target !== null) {\n            targets.push(target);\n        }\n    }\n    return targets;\n}\nfunction getClassPropsAsTargets(metadataReader, constructorFunc) {\n    var classPropsMetadata = metadataReader.getPropertiesMetadata(constructorFunc);\n    var targets = [];\n    var keys = Object.keys(classPropsMetadata);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        var targetMetadata = classPropsMetadata[key];\n        var metadata = formatTargetMetadata(classPropsMetadata[key]);\n        var targetName = metadata.targetName || key;\n        var serviceIdentifier = (metadata.inject || metadata.multiInject);\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ClassProperty, targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        targets.push(target);\n    }\n    var baseConstructor = Object.getPrototypeOf(constructorFunc.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseTargets = getClassPropsAsTargets(metadataReader, baseConstructor);\n        targets = __spreadArray(__spreadArray([], targets), baseTargets);\n    }\n    return targets;\n}\nfunction getBaseClassDependencyCount(metadataReader, func) {\n    var baseConstructor = Object.getPrototypeOf(func.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseConstructorName = serialization_1.getFunctionName(baseConstructor);\n        var targets = getTargets(metadataReader, baseConstructorName, baseConstructor, true);\n        var metadata = targets.map(function (t) {\n            return t.metadata.filter(function (m) {\n                return m.key === METADATA_KEY.UNMANAGED_TAG;\n            });\n        });\n        var unmanagedCount = [].concat.apply([], metadata).length;\n        var dependencyCount = targets.length - unmanagedCount;\n        if (dependencyCount > 0) {\n            return dependencyCount;\n        }\n        else {\n            return getBaseClassDependencyCount(metadataReader, baseConstructor);\n        }\n    }\n    else {\n        return 0;\n    }\n}\nexports.getBaseClassDependencyCount = getBaseClassDependencyCount;\nfunction formatTargetMetadata(targetMetadata) {\n    var targetMetadataMap = {};\n    targetMetadata.forEach(function (m) {\n        targetMetadataMap[m.key.toString()] = m.value;\n    });\n    return {\n        inject: targetMetadataMap[METADATA_KEY.INJECT_TAG],\n        multiInject: targetMetadataMap[METADATA_KEY.MULTI_INJECT_TAG],\n        targetName: targetMetadataMap[METADATA_KEY.NAME_TAG],\n        unmanaged: targetMetadataMap[METADATA_KEY.UNMANAGED_TAG]\n    };\n}\n//# sourceMappingURL=reflection_utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Request = void 0;\nvar id_1 = require(\"../utils/id\");\nvar Request = (function () {\n    function Request(serviceIdentifier, parentContext, parentRequest, bindings, target) {\n        this.id = id_1.id();\n        this.serviceIdentifier = serviceIdentifier;\n        this.parentContext = parentContext;\n        this.parentRequest = parentRequest;\n        this.target = target;\n        this.childRequests = [];\n        this.bindings = (Array.isArray(bindings) ? bindings : [bindings]);\n        this.requestScope = parentRequest === null\n            ? new Map()\n            : null;\n    }\n    Request.prototype.addChildRequest = function (serviceIdentifier, bindings, target) {\n        var child = new Request(serviceIdentifier, this.parentContext, this, bindings, target);\n        this.childRequests.push(child);\n        return child;\n    };\n    return Request;\n}());\nexports.Request = Request;\n//# sourceMappingURL=request.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Target = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar id_1 = require(\"../utils/id\");\nvar metadata_1 = require(\"./metadata\");\nvar queryable_string_1 = require(\"./queryable_string\");\nvar Target = (function () {\n    function Target(type, name, serviceIdentifier, namedOrTagged) {\n        this.id = id_1.id();\n        this.type = type;\n        this.serviceIdentifier = serviceIdentifier;\n        this.name = new queryable_string_1.QueryableString(name || \"\");\n        this.metadata = new Array();\n        var metadataItem = null;\n        if (typeof namedOrTagged === \"string\") {\n            metadataItem = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, namedOrTagged);\n        }\n        else if (namedOrTagged instanceof metadata_1.Metadata) {\n            metadataItem = namedOrTagged;\n        }\n        if (metadataItem !== null) {\n            this.metadata.push(metadataItem);\n        }\n    }\n    Target.prototype.hasTag = function (key) {\n        for (var _i = 0, _a = this.metadata; _i < _a.length; _i++) {\n            var m = _a[_i];\n            if (m.key === key) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Target.prototype.isArray = function () {\n        return this.hasTag(METADATA_KEY.MULTI_INJECT_TAG);\n    };\n    Target.prototype.matchesArray = function (name) {\n        return this.matchesTag(METADATA_KEY.MULTI_INJECT_TAG)(name);\n    };\n    Target.prototype.isNamed = function () {\n        return this.hasTag(METADATA_KEY.NAMED_TAG);\n    };\n    Target.prototype.isTagged = function () {\n        return this.metadata.some(function (metadata) { return METADATA_KEY.NON_CUSTOM_TAG_KEYS.every(function (key) { return metadata.key !== key; }); });\n    };\n    Target.prototype.isOptional = function () {\n        return this.matchesTag(METADATA_KEY.OPTIONAL_TAG)(true);\n    };\n    Target.prototype.getNamedTag = function () {\n        if (this.isNamed()) {\n            return this.metadata.filter(function (m) { return m.key === METADATA_KEY.NAMED_TAG; })[0];\n        }\n        return null;\n    };\n    Target.prototype.getCustomTags = function () {\n        if (this.isTagged()) {\n            return this.metadata.filter(function (metadata) { return METADATA_KEY.NON_CUSTOM_TAG_KEYS.every(function (key) { return metadata.key !== key; }); });\n        }\n        else {\n            return null;\n        }\n    };\n    Target.prototype.matchesNamedTag = function (name) {\n        return this.matchesTag(METADATA_KEY.NAMED_TAG)(name);\n    };\n    Target.prototype.matchesTag = function (key) {\n        var _this = this;\n        return function (value) {\n            for (var _i = 0, _a = _this.metadata; _i < _a.length; _i++) {\n                var m = _a[_i];\n                if (m.key === key && m.value === value) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    };\n    return Target;\n}());\nexports.Target = Target;\n//# sourceMappingURL=target.js.map","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveInstance = void 0;\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, __spreadArray([void 0], injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n//# sourceMappingURL=instantiation.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolve = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar instantiation_1 = require(\"./instantiation\");\nvar invokeFactory = function (factoryType, serviceIdentifier, fn) {\n    try {\n        return fn();\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY_IN_FACTORY(factoryType, serviceIdentifier.toString()));\n        }\n        else {\n            throw error;\n        }\n    }\n};\nvar _resolveRequest = function (requestScope) {\n    return function (request) {\n        request.parentContext.setCurrentRequest(request);\n        var bindings = request.bindings;\n        var childRequests = request.childRequests;\n        var targetIsAnArray = request.target && request.target.isArray();\n        var targetParentIsNotAnArray = !request.parentRequest ||\n            !request.parentRequest.target ||\n            !request.target ||\n            !request.parentRequest.target.matchesArray(request.target.serviceIdentifier);\n        if (targetIsAnArray && targetParentIsNotAnArray) {\n            return childRequests.map(function (childRequest) {\n                var _f = _resolveRequest(requestScope);\n                return _f(childRequest);\n            });\n        }\n        else {\n            var result = null;\n            if (request.target.isOptional() && bindings.length === 0) {\n                return undefined;\n            }\n            var binding_1 = bindings[0];\n            var isSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Singleton;\n            var isRequestSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Request;\n            if (isSingleton && binding_1.activated) {\n                return binding_1.cache;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                requestScope.has(binding_1.id)) {\n                return requestScope.get(binding_1.id);\n            }\n            if (binding_1.type === literal_types_1.BindingTypeEnum.ConstantValue) {\n                result = binding_1.cache;\n                binding_1.activated = true;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Function) {\n                result = binding_1.cache;\n                binding_1.activated = true;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Constructor) {\n                result = binding_1.implementationType;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.DynamicValue && binding_1.dynamicValue !== null) {\n                result = invokeFactory(\"toDynamicValue\", binding_1.serviceIdentifier, function () { return binding_1.dynamicValue(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Factory && binding_1.factory !== null) {\n                result = invokeFactory(\"toFactory\", binding_1.serviceIdentifier, function () { return binding_1.factory(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Provider && binding_1.provider !== null) {\n                result = invokeFactory(\"toProvider\", binding_1.serviceIdentifier, function () { return binding_1.provider(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Instance && binding_1.implementationType !== null) {\n                result = instantiation_1.resolveInstance(binding_1.implementationType, childRequests, _resolveRequest(requestScope));\n            }\n            else {\n                var serviceIdentifier = serialization_1.getServiceIdentifierAsString(request.serviceIdentifier);\n                throw new Error(ERROR_MSGS.INVALID_BINDING_TYPE + \" \" + serviceIdentifier);\n            }\n            if (typeof binding_1.onActivation === \"function\") {\n                result = binding_1.onActivation(request.parentContext, result);\n            }\n            if (isSingleton) {\n                binding_1.cache = result;\n                binding_1.activated = true;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                !requestScope.has(binding_1.id)) {\n                requestScope.set(binding_1.id, result);\n            }\n            return result;\n        }\n    };\n};\nfunction resolve(context) {\n    var _f = _resolveRequest(context.plan.rootRequest.requestScope);\n    return _f(context.plan.rootRequest);\n}\nexports.resolve = resolve;\n//# sourceMappingURL=resolver.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingInSyntax = void 0;\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingInSyntax = (function () {\n    function BindingInSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingInSyntax.prototype.inRequestScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Request;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inSingletonScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inTransientScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Transient;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    return BindingInSyntax;\n}());\nexports.BindingInSyntax = BindingInSyntax;\n//# sourceMappingURL=binding_in_syntax.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingInWhenOnSyntax = void 0;\nvar binding_in_syntax_1 = require(\"./binding_in_syntax\");\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingInWhenOnSyntax = (function () {\n    function BindingInWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n        this._bindingInSyntax = new binding_in_syntax_1.BindingInSyntax(binding);\n    }\n    BindingInWhenOnSyntax.prototype.inRequestScope = function () {\n        return this._bindingInSyntax.inRequestScope();\n    };\n    BindingInWhenOnSyntax.prototype.inSingletonScope = function () {\n        return this._bindingInSyntax.inSingletonScope();\n    };\n    BindingInWhenOnSyntax.prototype.inTransientScope = function () {\n        return this._bindingInSyntax.inTransientScope();\n    };\n    BindingInWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingInWhenOnSyntax;\n}());\nexports.BindingInWhenOnSyntax = BindingInWhenOnSyntax;\n//# sourceMappingURL=binding_in_when_on_syntax.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingOnSyntax = void 0;\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingOnSyntax = (function () {\n    function BindingOnSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingOnSyntax.prototype.onActivation = function (handler) {\n        this._binding.onActivation = handler;\n        return new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n    };\n    return BindingOnSyntax;\n}());\nexports.BindingOnSyntax = BindingOnSyntax;\n//# sourceMappingURL=binding_on_syntax.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingToSyntax = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingToSyntax = (function () {\n    function BindingToSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingToSyntax.prototype.to = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n        this._binding.implementationType = constructor;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toSelf = function () {\n        if (typeof this._binding.serviceIdentifier !== \"function\") {\n            throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n        }\n        var self = this._binding.serviceIdentifier;\n        return this.to(self);\n    };\n    BindingToSyntax.prototype.toConstantValue = function (value) {\n        this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n        this._binding.cache = value;\n        this._binding.dynamicValue = null;\n        this._binding.implementationType = null;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toDynamicValue = function (func) {\n        this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n        this._binding.cache = null;\n        this._binding.dynamicValue = func;\n        this._binding.implementationType = null;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toConstructor = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n        this._binding.implementationType = constructor;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFactory = function (factory) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = factory;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFunction = function (func) {\n        if (typeof func !== \"function\") {\n            throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n        }\n        var bindingWhenOnSyntax = this.toConstantValue(func);\n        this._binding.type = literal_types_1.BindingTypeEnum.Function;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return bindingWhenOnSyntax;\n    };\n    BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = function (context) {\n            var autofactory = function () { return context.container.get(serviceIdentifier); };\n            return autofactory;\n        };\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toProvider = function (provider) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n        this._binding.provider = provider;\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toService = function (service) {\n        this.toDynamicValue(function (context) { return context.container.get(service); });\n    };\n    return BindingToSyntax;\n}());\nexports.BindingToSyntax = BindingToSyntax;\n//# sourceMappingURL=binding_to_syntax.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingWhenOnSyntax = void 0;\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingWhenOnSyntax = (function () {\n    function BindingWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    }\n    BindingWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingWhenOnSyntax;\n}());\nexports.BindingWhenOnSyntax = BindingWhenOnSyntax;\n//# sourceMappingURL=binding_when_on_syntax.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingWhenSyntax = void 0;\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = (function () {\n    function BindingWhenSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingWhenSyntax.prototype.when = function (constraint) {\n        this._binding.constraint = constraint;\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n        this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n        this._binding.constraint = function (request) {\n            var targetIsDefault = (request.target !== null) &&\n                (!request.target.isNamed()) &&\n                (!request.target.isTagged());\n            return targetIsDefault;\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n        this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    return BindingWhenSyntax;\n}());\nexports.BindingWhenSyntax = BindingWhenSyntax;\n//# sourceMappingURL=binding_when_syntax.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.typeConstraint = exports.namedConstraint = exports.taggedConstraint = exports.traverseAncerstors = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar traverseAncerstors = function (request, constraint) {\n    var parent = request.parentRequest;\n    if (parent !== null) {\n        return constraint(parent) ? true : traverseAncerstors(parent, constraint);\n    }\n    else {\n        return false;\n    }\n};\nexports.traverseAncerstors = traverseAncerstors;\nvar taggedConstraint = function (key) { return function (value) {\n    var constraint = function (request) {\n        return request !== null && request.target !== null && request.target.matchesTag(key)(value);\n    };\n    constraint.metaData = new metadata_1.Metadata(key, value);\n    return constraint;\n}; };\nexports.taggedConstraint = taggedConstraint;\nvar namedConstraint = taggedConstraint(METADATA_KEY.NAMED_TAG);\nexports.namedConstraint = namedConstraint;\nvar typeConstraint = function (type) { return function (request) {\n    var binding = null;\n    if (request !== null) {\n        binding = request.bindings[0];\n        if (typeof type === \"string\") {\n            var serviceIdentifier = binding.serviceIdentifier;\n            return serviceIdentifier === type;\n        }\n        else {\n            var constructor = request.bindings[0].implementationType;\n            return type === constructor;\n        }\n    }\n    return false;\n}; };\nexports.typeConstraint = typeConstraint;\n//# sourceMappingURL=constraint_helpers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiBindToService = void 0;\nvar multiBindToService = function (container) {\n    return function (service) {\n        return function () {\n            var types = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                types[_i] = arguments[_i];\n            }\n            return types.forEach(function (t) { return container.bind(t).toService(service); });\n        };\n    };\n};\nexports.multiBindToService = multiBindToService;\n//# sourceMappingURL=binding_utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isStackOverflowExeption = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction isStackOverflowExeption(error) {\n    return (error instanceof RangeError ||\n        error.message === ERROR_MSGS.STACK_OVERFLOW);\n}\nexports.isStackOverflowExeption = isStackOverflowExeption;\n//# sourceMappingURL=exceptions.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.id = void 0;\nvar idCounter = 0;\nfunction id() {\n    return idCounter++;\n}\nexports.id = id;\n//# sourceMappingURL=id.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.circularDependencyToException = exports.listMetadataForTarget = exports.listRegisteredBindingsForServiceIdentifier = exports.getServiceIdentifierAsString = exports.getFunctionName = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction getServiceIdentifierAsString(serviceIdentifier) {\n    if (typeof serviceIdentifier === \"function\") {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier.name;\n    }\n    else if (typeof serviceIdentifier === \"symbol\") {\n        return serviceIdentifier.toString();\n    }\n    else {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier;\n    }\n}\nexports.getServiceIdentifierAsString = getServiceIdentifierAsString;\nfunction listRegisteredBindingsForServiceIdentifier(container, serviceIdentifier, getBindings) {\n    var registeredBindingsList = \"\";\n    var registeredBindings = getBindings(container, serviceIdentifier);\n    if (registeredBindings.length !== 0) {\n        registeredBindingsList = \"\\nRegistered bindings:\";\n        registeredBindings.forEach(function (binding) {\n            var name = \"Object\";\n            if (binding.implementationType !== null) {\n                name = getFunctionName(binding.implementationType);\n            }\n            registeredBindingsList = registeredBindingsList + \"\\n \" + name;\n            if (binding.constraint.metaData) {\n                registeredBindingsList = registeredBindingsList + \" - \" + binding.constraint.metaData;\n            }\n        });\n    }\n    return registeredBindingsList;\n}\nexports.listRegisteredBindingsForServiceIdentifier = listRegisteredBindingsForServiceIdentifier;\nfunction alreadyDependencyChain(request, serviceIdentifier) {\n    if (request.parentRequest === null) {\n        return false;\n    }\n    else if (request.parentRequest.serviceIdentifier === serviceIdentifier) {\n        return true;\n    }\n    else {\n        return alreadyDependencyChain(request.parentRequest, serviceIdentifier);\n    }\n}\nfunction dependencyChainToString(request) {\n    function _createStringArr(req, result) {\n        if (result === void 0) { result = []; }\n        var serviceIdentifier = getServiceIdentifierAsString(req.serviceIdentifier);\n        result.push(serviceIdentifier);\n        if (req.parentRequest !== null) {\n            return _createStringArr(req.parentRequest, result);\n        }\n        return result;\n    }\n    var stringArr = _createStringArr(request);\n    return stringArr.reverse().join(\" --> \");\n}\nfunction circularDependencyToException(request) {\n    request.childRequests.forEach(function (childRequest) {\n        if (alreadyDependencyChain(childRequest, childRequest.serviceIdentifier)) {\n            var services = dependencyChainToString(childRequest);\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY + \" \" + services);\n        }\n        else {\n            circularDependencyToException(childRequest);\n        }\n    });\n}\nexports.circularDependencyToException = circularDependencyToException;\nfunction listMetadataForTarget(serviceIdentifierString, target) {\n    if (target.isTagged() || target.isNamed()) {\n        var m_1 = \"\";\n        var namedTag = target.getNamedTag();\n        var otherTags = target.getCustomTags();\n        if (namedTag !== null) {\n            m_1 += namedTag.toString() + \"\\n\";\n        }\n        if (otherTags !== null) {\n            otherTags.forEach(function (tag) {\n                m_1 += tag.toString() + \"\\n\";\n            });\n        }\n        return \" \" + serviceIdentifierString + \"\\n \" + serviceIdentifierString + \" - \" + m_1;\n    }\n    else {\n        return \" \" + serviceIdentifierString;\n    }\n}\nexports.listMetadataForTarget = listMetadataForTarget;\nfunction getFunctionName(v) {\n    if (v.name) {\n        return v.name;\n    }\n    else {\n        var name_1 = v.toString();\n        var match = name_1.match(/^function\\s*([^\\s(]+)/);\n        return match ? match[1] : \"Anonymous function: \" + name_1;\n    }\n}\nexports.getFunctionName = getFunctionName;\n//# sourceMappingURL=serialization.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tagProperty = exports.tagParameter = exports.decorate = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction tagParameter(annotationTarget, propertyName, parameterIndex, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED;\n    _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex);\n}\nexports.tagParameter = tagParameter;\nfunction tagProperty(annotationTarget, propertyName, metadata) {\n    var metadataKey = METADATA_KEY.TAGGED_PROP;\n    _tagParameterOrProperty(metadataKey, annotationTarget.constructor, propertyName, metadata);\n}\nexports.tagProperty = tagProperty;\nfunction _tagParameterOrProperty(metadataKey, annotationTarget, propertyName, metadata, parameterIndex) {\n    var paramsOrPropertiesMetadata = {};\n    var isParameterDecorator = (typeof parameterIndex === \"number\");\n    var key = (parameterIndex !== undefined && isParameterDecorator) ? parameterIndex.toString() : propertyName;\n    if (isParameterDecorator && propertyName !== undefined) {\n        throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);\n    }\n    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {\n        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);\n    }\n    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];\n    if (!Array.isArray(paramOrPropertyMetadata)) {\n        paramOrPropertyMetadata = [];\n    }\n    else {\n        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {\n            var m = paramOrPropertyMetadata_1[_i];\n            if (m.key === metadata.key) {\n                throw new Error(ERROR_MSGS.DUPLICATED_METADATA + \" \" + m.key.toString());\n            }\n        }\n    }\n    paramOrPropertyMetadata.push(metadata);\n    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;\n    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);\n}\nfunction _decorate(decorators, target) {\n    Reflect.decorate(decorators, target);\n}\nfunction _param(paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); };\n}\nfunction decorate(decorator, target, parameterIndex) {\n    if (typeof parameterIndex === \"number\") {\n        _decorate([_param(parameterIndex, decorator)], target);\n    }\n    else if (typeof parameterIndex === \"string\") {\n        Reflect.decorate([decorator], target, parameterIndex);\n    }\n    else {\n        _decorate([decorator], target);\n    }\n}\nexports.decorate = decorate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.inject = exports.LazyServiceIdentifer = void 0;\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nvar LazyServiceIdentifer = (function () {\n    function LazyServiceIdentifer(cb) {\n        this._cb = cb;\n    }\n    LazyServiceIdentifer.prototype.unwrap = function () {\n        return this._cb();\n    };\n    return LazyServiceIdentifer;\n}());\nexports.LazyServiceIdentifer = LazyServiceIdentifer;\nfunction inject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        if (serviceIdentifier === undefined) {\n            throw new Error(error_msgs_1.UNDEFINED_INJECT_ANNOTATION(target.name));\n        }\n        var metadata = new metadata_1.Metadata(METADATA_KEY.INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.inject = inject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectable = void 0;\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction injectable() {\n    return function (target) {\n        if (Reflect.hasOwnMetadata(METADATA_KEY.PARAM_TYPES, target)) {\n            throw new Error(ERRORS_MSGS.DUPLICATED_INJECTABLE_DECORATOR);\n        }\n        var types = Reflect.getMetadata(METADATA_KEY.DESIGN_PARAM_TYPES, target) || [];\n        Reflect.defineMetadata(METADATA_KEY.PARAM_TYPES, types, target);\n        return target;\n    };\n}\nexports.injectable = injectable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiInject = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction multiInject(serviceIdentifier) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.MULTI_INJECT_TAG, serviceIdentifier);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.multiInject = multiInject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.named = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction named(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, name);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.named = named;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.optional = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction optional() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.OPTIONAL_TAG, true);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.optional = optional;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.postConstruct = void 0;\nvar ERRORS_MSGS = require(\"../constants/error_msgs\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nfunction postConstruct() {\n    return function (target, propertyKey, descriptor) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.POST_CONSTRUCT, propertyKey);\n        if (Reflect.hasOwnMetadata(METADATA_KEY.POST_CONSTRUCT, target.constructor)) {\n            throw new Error(ERRORS_MSGS.MULTIPLE_POST_CONSTRUCT_METHODS);\n        }\n        Reflect.defineMetadata(METADATA_KEY.POST_CONSTRUCT, metadata, target.constructor);\n    };\n}\nexports.postConstruct = postConstruct;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tagged = void 0;\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction tagged(metadataKey, metadataValue) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(metadataKey, metadataValue);\n        if (typeof index === \"number\") {\n            decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n        }\n        else {\n            decorator_utils_1.tagProperty(target, targetKey, metadata);\n        }\n    };\n}\nexports.tagged = tagged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.targetName = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction targetName(name) {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.NAME_TAG, name);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.targetName = targetName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unmanaged = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar decorator_utils_1 = require(\"./decorator_utils\");\nfunction unmanaged() {\n    return function (target, targetKey, index) {\n        var metadata = new metadata_1.Metadata(METADATA_KEY.UNMANAGED_TAG, true);\n        decorator_utils_1.tagParameter(target, targetKey, index, metadata);\n    };\n}\nexports.unmanaged = unmanaged;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Binding = void 0;\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar id_1 = require(\"../utils/id\");\nvar Binding = (function () {\n    function Binding(serviceIdentifier, scope) {\n        this.id = id_1.id();\n        this.activated = false;\n        this.serviceIdentifier = serviceIdentifier;\n        this.scope = scope;\n        this.type = literal_types_1.BindingTypeEnum.Invalid;\n        this.constraint = function (request) { return true; };\n        this.implementationType = null;\n        this.cache = null;\n        this.factory = null;\n        this.provider = null;\n        this.onActivation = null;\n        this.dynamicValue = null;\n    }\n    Binding.prototype.clone = function () {\n        var clone = new Binding(this.serviceIdentifier, this.scope);\n        clone.activated = false;\n        clone.implementationType = this.implementationType;\n        clone.dynamicValue = this.dynamicValue;\n        clone.scope = this.scope;\n        clone.type = this.type;\n        clone.factory = this.factory;\n        clone.provider = this.provider;\n        clone.constraint = this.constraint;\n        clone.onActivation = this.onActivation;\n        clone.cache = this.cache;\n        return clone;\n    };\n    return Binding;\n}());\nexports.Binding = Binding;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingCount = void 0;\nvar BindingCount = {\n    MultipleBindingsAvailable: 2,\n    NoBindingsAvailable: 0,\n    OnlyOneBindingAvailable: 1\n};\nexports.BindingCount = BindingCount;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.STACK_OVERFLOW = exports.CIRCULAR_DEPENDENCY_IN_FACTORY = exports.POST_CONSTRUCT_ERROR = exports.MULTIPLE_POST_CONSTRUCT_METHODS = exports.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = exports.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = exports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = exports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = exports.ARGUMENTS_LENGTH_MISMATCH = exports.INVALID_DECORATOR_OPERATION = exports.INVALID_TO_SELF_VALUE = exports.INVALID_FUNCTION_BINDING = exports.INVALID_MIDDLEWARE_RETURN = exports.NO_MORE_SNAPSHOTS_AVAILABLE = exports.INVALID_BINDING_TYPE = exports.NOT_IMPLEMENTED = exports.CIRCULAR_DEPENDENCY = exports.UNDEFINED_INJECT_ANNOTATION = exports.MISSING_INJECT_ANNOTATION = exports.MISSING_INJECTABLE_ANNOTATION = exports.NOT_REGISTERED = exports.CANNOT_UNBIND = exports.AMBIGUOUS_MATCH = exports.KEY_NOT_FOUND = exports.NULL_ARGUMENT = exports.DUPLICATED_METADATA = exports.DUPLICATED_INJECTABLE_DECORATOR = void 0;\nexports.DUPLICATED_INJECTABLE_DECORATOR = \"Cannot apply @injectable decorator multiple times.\";\nexports.DUPLICATED_METADATA = \"Metadata key was used more than once in a parameter:\";\nexports.NULL_ARGUMENT = \"NULL argument\";\nexports.KEY_NOT_FOUND = \"Key Not Found\";\nexports.AMBIGUOUS_MATCH = \"Ambiguous match found for serviceIdentifier:\";\nexports.CANNOT_UNBIND = \"Could not unbind serviceIdentifier:\";\nexports.NOT_REGISTERED = \"No matching bindings found for serviceIdentifier:\";\nexports.MISSING_INJECTABLE_ANNOTATION = \"Missing required @injectable annotation in:\";\nexports.MISSING_INJECT_ANNOTATION = \"Missing required @inject or @multiInject annotation in:\";\nexports.UNDEFINED_INJECT_ANNOTATION = function (name) {\n    return \"@inject called with undefined this could mean that the class \" + name + \" has \" +\n        \"a circular dependency problem. You can use a LazyServiceIdentifer to  \" +\n        \"overcome this limitation.\";\n};\nexports.CIRCULAR_DEPENDENCY = \"Circular dependency found:\";\nexports.NOT_IMPLEMENTED = \"Sorry, this feature is not fully implemented yet.\";\nexports.INVALID_BINDING_TYPE = \"Invalid binding type:\";\nexports.NO_MORE_SNAPSHOTS_AVAILABLE = \"No snapshot available to restore.\";\nexports.INVALID_MIDDLEWARE_RETURN = \"Invalid return type in middleware. Middleware must return!\";\nexports.INVALID_FUNCTION_BINDING = \"Value provided to function binding must be a function!\";\nexports.INVALID_TO_SELF_VALUE = \"The toSelf function can only be applied when a constructor is \" +\n    \"used as service identifier\";\nexports.INVALID_DECORATOR_OPERATION = \"The @inject @multiInject @tagged and @named decorators \" +\n    \"must be applied to the parameters of a class constructor or a class property.\";\nexports.ARGUMENTS_LENGTH_MISMATCH = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"The number of constructor arguments in the derived class \" +\n        (values[0] + \" must be >= than the number of constructor arguments of its base class.\");\n};\nexports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = \"Invalid Container constructor argument. Container options \" +\n    \"must be an object.\";\nexports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = \"Invalid Container option. Default scope must \" +\n    \"be a string ('singleton' or 'transient').\";\nexports.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = \"Invalid Container option. Auto bind injectable must \" +\n    \"be a boolean\";\nexports.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = \"Invalid Container option. Skip base check must \" +\n    \"be a boolean\";\nexports.MULTIPLE_POST_CONSTRUCT_METHODS = \"Cannot apply @postConstruct decorator multiple times in the same class\";\nexports.POST_CONSTRUCT_ERROR = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"@postConstruct error in class \" + values[0] + \": \" + values[1];\n};\nexports.CIRCULAR_DEPENDENCY_IN_FACTORY = function () {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    return \"It looks like there is a circular dependency \" +\n        (\"in one of the '\" + values[0] + \"' bindings. Please investigate bindings with\") +\n        (\"service identifier '\" + values[1] + \"'.\");\n};\nexports.STACK_OVERFLOW = \"Maximum call stack size exceeded\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TargetTypeEnum = exports.BindingTypeEnum = exports.BindingScopeEnum = void 0;\nvar BindingScopeEnum = {\n    Request: \"Request\",\n    Singleton: \"Singleton\",\n    Transient: \"Transient\"\n};\nexports.BindingScopeEnum = BindingScopeEnum;\nvar BindingTypeEnum = {\n    ConstantValue: \"ConstantValue\",\n    Constructor: \"Constructor\",\n    DynamicValue: \"DynamicValue\",\n    Factory: \"Factory\",\n    Function: \"Function\",\n    Instance: \"Instance\",\n    Invalid: \"Invalid\",\n    Provider: \"Provider\"\n};\nexports.BindingTypeEnum = BindingTypeEnum;\nvar TargetTypeEnum = {\n    ClassProperty: \"ClassProperty\",\n    ConstructorArgument: \"ConstructorArgument\",\n    Variable: \"Variable\"\n};\nexports.TargetTypeEnum = TargetTypeEnum;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.POST_CONSTRUCT = exports.DESIGN_PARAM_TYPES = exports.PARAM_TYPES = exports.TAGGED_PROP = exports.TAGGED = exports.MULTI_INJECT_TAG = exports.INJECT_TAG = exports.OPTIONAL_TAG = exports.UNMANAGED_TAG = exports.NAME_TAG = exports.NAMED_TAG = void 0;\nexports.NAMED_TAG = \"named\";\nexports.NAME_TAG = \"name\";\nexports.UNMANAGED_TAG = \"unmanaged\";\nexports.OPTIONAL_TAG = \"optional\";\nexports.INJECT_TAG = \"inject\";\nexports.MULTI_INJECT_TAG = \"multi_inject\";\nexports.TAGGED = \"inversify:tagged\";\nexports.TAGGED_PROP = \"inversify:tagged_props\";\nexports.PARAM_TYPES = \"inversify:paramtypes\";\nexports.DESIGN_PARAM_TYPES = \"design:paramtypes\";\nexports.POST_CONSTRUCT = \"post_construct\";\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Container = void 0;\nvar binding_1 = require(\"../bindings/binding\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_reader_1 = require(\"../planning/metadata_reader\");\nvar planner_1 = require(\"../planning/planner\");\nvar resolver_1 = require(\"../resolution/resolver\");\nvar binding_to_syntax_1 = require(\"../syntax/binding_to_syntax\");\nvar id_1 = require(\"../utils/id\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar container_snapshot_1 = require(\"./container_snapshot\");\nvar lookup_1 = require(\"./lookup\");\nvar Container = (function () {\n    function Container(containerOptions) {\n        var options = containerOptions || {};\n        if (typeof options !== \"object\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);\n        }\n        if (options.defaultScope === undefined) {\n            options.defaultScope = literal_types_1.BindingScopeEnum.Transient;\n        }\n        else if (options.defaultScope !== literal_types_1.BindingScopeEnum.Singleton &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Transient &&\n            options.defaultScope !== literal_types_1.BindingScopeEnum.Request) {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);\n        }\n        if (options.autoBindInjectable === undefined) {\n            options.autoBindInjectable = false;\n        }\n        else if (typeof options.autoBindInjectable !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);\n        }\n        if (options.skipBaseClassChecks === undefined) {\n            options.skipBaseClassChecks = false;\n        }\n        else if (typeof options.skipBaseClassChecks !== \"boolean\") {\n            throw new Error(\"\" + ERROR_MSGS.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);\n        }\n        this.options = {\n            autoBindInjectable: options.autoBindInjectable,\n            defaultScope: options.defaultScope,\n            skipBaseClassChecks: options.skipBaseClassChecks\n        };\n        this.id = id_1.id();\n        this._bindingDictionary = new lookup_1.Lookup();\n        this._snapshots = [];\n        this._middleware = null;\n        this.parent = null;\n        this._metadataReader = new metadata_reader_1.MetadataReader();\n    }\n    Container.merge = function (container1, container2) {\n        var container = new Container();\n        var bindingDictionary = planner_1.getBindingDictionary(container);\n        var bindingDictionary1 = planner_1.getBindingDictionary(container1);\n        var bindingDictionary2 = planner_1.getBindingDictionary(container2);\n        function copyDictionary(origin, destination) {\n            origin.traverse(function (key, value) {\n                value.forEach(function (binding) {\n                    destination.add(binding.serviceIdentifier, binding.clone());\n                });\n            });\n        }\n        copyDictionary(bindingDictionary1, bindingDictionary);\n        copyDictionary(bindingDictionary2, bindingDictionary);\n        return container;\n    };\n    Container.prototype.load = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var getHelpers = this._getContainerModuleHelpersFactory();\n        for (var _a = 0, modules_1 = modules; _a < modules_1.length; _a++) {\n            var currentModule = modules_1[_a];\n            var containerModuleHelpers = getHelpers(currentModule.id);\n            currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction);\n        }\n    };\n    Container.prototype.loadAsync = function () {\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        return __awaiter(this, void 0, void 0, function () {\n            var getHelpers, _a, modules_2, currentModule, containerModuleHelpers;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        getHelpers = this._getContainerModuleHelpersFactory();\n                        _a = 0, modules_2 = modules;\n                        _b.label = 1;\n                    case 1:\n                        if (!(_a < modules_2.length)) return [3, 4];\n                        currentModule = modules_2[_a];\n                        containerModuleHelpers = getHelpers(currentModule.id);\n                        return [4, currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction)];\n                    case 2:\n                        _b.sent();\n                        _b.label = 3;\n                    case 3:\n                        _a++;\n                        return [3, 1];\n                    case 4: return [2];\n                }\n            });\n        });\n    };\n    Container.prototype.unload = function () {\n        var _this = this;\n        var modules = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            modules[_i] = arguments[_i];\n        }\n        var conditionFactory = function (expected) { return function (item) {\n            return item.moduleId === expected;\n        }; };\n        modules.forEach(function (module) {\n            var condition = conditionFactory(module.id);\n            _this._bindingDictionary.removeByCondition(condition);\n        });\n    };\n    Container.prototype.bind = function (serviceIdentifier) {\n        var scope = this.options.defaultScope || literal_types_1.BindingScopeEnum.Transient;\n        var binding = new binding_1.Binding(serviceIdentifier, scope);\n        this._bindingDictionary.add(serviceIdentifier, binding);\n        return new binding_to_syntax_1.BindingToSyntax(binding);\n    };\n    Container.prototype.rebind = function (serviceIdentifier) {\n        this.unbind(serviceIdentifier);\n        return this.bind(serviceIdentifier);\n    };\n    Container.prototype.unbind = function (serviceIdentifier) {\n        try {\n            this._bindingDictionary.remove(serviceIdentifier);\n        }\n        catch (e) {\n            throw new Error(ERROR_MSGS.CANNOT_UNBIND + \" \" + serialization_1.getServiceIdentifierAsString(serviceIdentifier));\n        }\n    };\n    Container.prototype.unbindAll = function () {\n        this._bindingDictionary = new lookup_1.Lookup();\n    };\n    Container.prototype.isBound = function (serviceIdentifier) {\n        var bound = this._bindingDictionary.hasKey(serviceIdentifier);\n        if (!bound && this.parent) {\n            bound = this.parent.isBound(serviceIdentifier);\n        }\n        return bound;\n    };\n    Container.prototype.isBoundNamed = function (serviceIdentifier, named) {\n        return this.isBoundTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.isBoundTagged = function (serviceIdentifier, key, value) {\n        var bound = false;\n        if (this._bindingDictionary.hasKey(serviceIdentifier)) {\n            var bindings = this._bindingDictionary.get(serviceIdentifier);\n            var request_1 = planner_1.createMockRequest(this, serviceIdentifier, key, value);\n            bound = bindings.some(function (b) { return b.constraint(request_1); });\n        }\n        if (!bound && this.parent) {\n            bound = this.parent.isBoundTagged(serviceIdentifier, key, value);\n        }\n        return bound;\n    };\n    Container.prototype.snapshot = function () {\n        this._snapshots.push(container_snapshot_1.ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware));\n    };\n    Container.prototype.restore = function () {\n        var snapshot = this._snapshots.pop();\n        if (snapshot === undefined) {\n            throw new Error(ERROR_MSGS.NO_MORE_SNAPSHOTS_AVAILABLE);\n        }\n        this._bindingDictionary = snapshot.bindings;\n        this._middleware = snapshot.middleware;\n    };\n    Container.prototype.createChild = function (containerOptions) {\n        var child = new Container(containerOptions || this.options);\n        child.parent = this;\n        return child;\n    };\n    Container.prototype.applyMiddleware = function () {\n        var middlewares = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            middlewares[_i] = arguments[_i];\n        }\n        var initial = (this._middleware) ? this._middleware : this._planAndResolve();\n        this._middleware = middlewares.reduce(function (prev, curr) { return curr(prev); }, initial);\n    };\n    Container.prototype.applyCustomMetadataReader = function (metadataReader) {\n        this._metadataReader = metadataReader;\n    };\n    Container.prototype.get = function (serviceIdentifier) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, false, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getNamed = function (serviceIdentifier, named) {\n        return this.getTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.getAll = function (serviceIdentifier) {\n        return this._get(true, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier);\n    };\n    Container.prototype.getAllTagged = function (serviceIdentifier, key, value) {\n        return this._get(false, true, literal_types_1.TargetTypeEnum.Variable, serviceIdentifier, key, value);\n    };\n    Container.prototype.getAllNamed = function (serviceIdentifier, named) {\n        return this.getAllTagged(serviceIdentifier, METADATA_KEY.NAMED_TAG, named);\n    };\n    Container.prototype.resolve = function (constructorFunction) {\n        var tempContainer = this.createChild();\n        tempContainer.bind(constructorFunction).toSelf();\n        return tempContainer.get(constructorFunction);\n    };\n    Container.prototype._getContainerModuleHelpersFactory = function () {\n        var _this = this;\n        var setModuleId = function (bindingToSyntax, moduleId) {\n            bindingToSyntax._binding.moduleId = moduleId;\n        };\n        var getBindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _bind = _this.bind.bind(_this);\n                var bindingToSyntax = _bind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        var getUnbindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _unbind = _this.unbind.bind(_this);\n                _unbind(serviceIdentifier);\n            };\n        };\n        var getIsboundFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _isBound = _this.isBound.bind(_this);\n                return _isBound(serviceIdentifier);\n            };\n        };\n        var getRebindFunction = function (moduleId) {\n            return function (serviceIdentifier) {\n                var _rebind = _this.rebind.bind(_this);\n                var bindingToSyntax = _rebind(serviceIdentifier);\n                setModuleId(bindingToSyntax, moduleId);\n                return bindingToSyntax;\n            };\n        };\n        return function (mId) { return ({\n            bindFunction: getBindFunction(mId),\n            isboundFunction: getIsboundFunction(mId),\n            rebindFunction: getRebindFunction(mId),\n            unbindFunction: getUnbindFunction(mId)\n        }); };\n    };\n    Container.prototype._get = function (avoidConstraints, isMultiInject, targetType, serviceIdentifier, key, value) {\n        var result = null;\n        var defaultArgs = {\n            avoidConstraints: avoidConstraints,\n            contextInterceptor: function (context) { return context; },\n            isMultiInject: isMultiInject,\n            key: key,\n            serviceIdentifier: serviceIdentifier,\n            targetType: targetType,\n            value: value\n        };\n        if (this._middleware) {\n            result = this._middleware(defaultArgs);\n            if (result === undefined || result === null) {\n                throw new Error(ERROR_MSGS.INVALID_MIDDLEWARE_RETURN);\n            }\n        }\n        else {\n            result = this._planAndResolve()(defaultArgs);\n        }\n        return result;\n    };\n    Container.prototype._planAndResolve = function () {\n        var _this = this;\n        return function (args) {\n            var context = planner_1.plan(_this._metadataReader, _this, args.isMultiInject, args.targetType, args.serviceIdentifier, args.key, args.value, args.avoidConstraints);\n            context = args.contextInterceptor(context);\n            var result = resolver_1.resolve(context);\n            return result;\n        };\n    };\n    return Container;\n}());\nexports.Container = Container;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AsyncContainerModule = exports.ContainerModule = void 0;\nvar id_1 = require(\"../utils/id\");\nvar ContainerModule = (function () {\n    function ContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return ContainerModule;\n}());\nexports.ContainerModule = ContainerModule;\nvar AsyncContainerModule = (function () {\n    function AsyncContainerModule(registry) {\n        this.id = id_1.id();\n        this.registry = registry;\n    }\n    return AsyncContainerModule;\n}());\nexports.AsyncContainerModule = AsyncContainerModule;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContainerSnapshot = void 0;\nvar ContainerSnapshot = (function () {\n    function ContainerSnapshot() {\n    }\n    ContainerSnapshot.of = function (bindings, middleware) {\n        var snapshot = new ContainerSnapshot();\n        snapshot.bindings = bindings;\n        snapshot.middleware = middleware;\n        return snapshot;\n    };\n    return ContainerSnapshot;\n}());\nexports.ContainerSnapshot = ContainerSnapshot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Lookup = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar Lookup = (function () {\n    function Lookup() {\n        this._map = new Map();\n    }\n    Lookup.prototype.getMap = function () {\n        return this._map;\n    };\n    Lookup.prototype.add = function (serviceIdentifier, value) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (value === null || value === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            entry.push(value);\n            this._map.set(serviceIdentifier, entry);\n        }\n        else {\n            this._map.set(serviceIdentifier, [value]);\n        }\n    };\n    Lookup.prototype.get = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        var entry = this._map.get(serviceIdentifier);\n        if (entry !== undefined) {\n            return entry;\n        }\n        else {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.remove = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        if (!this._map.delete(serviceIdentifier)) {\n            throw new Error(ERROR_MSGS.KEY_NOT_FOUND);\n        }\n    };\n    Lookup.prototype.removeByCondition = function (condition) {\n        var _this = this;\n        this._map.forEach(function (entries, key) {\n            var updatedEntries = entries.filter(function (entry) { return !condition(entry); });\n            if (updatedEntries.length > 0) {\n                _this._map.set(key, updatedEntries);\n            }\n            else {\n                _this._map.delete(key);\n            }\n        });\n    };\n    Lookup.prototype.hasKey = function (serviceIdentifier) {\n        if (serviceIdentifier === null || serviceIdentifier === undefined) {\n            throw new Error(ERROR_MSGS.NULL_ARGUMENT);\n        }\n        return this._map.has(serviceIdentifier);\n    };\n    Lookup.prototype.clone = function () {\n        var copy = new Lookup();\n        this._map.forEach(function (value, key) {\n            value.forEach(function (b) { return copy.add(key, b.clone()); });\n        });\n        return copy;\n    };\n    Lookup.prototype.traverse = function (func) {\n        this._map.forEach(function (value, key) {\n            func(key, value);\n        });\n    };\n    return Lookup;\n}());\nexports.Lookup = Lookup;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.METADATA_KEY = void 0;\nvar keys = require(\"./constants/metadata_keys\");\nexports.METADATA_KEY = keys;\nvar container_1 = require(\"./container/container\");\nObject.defineProperty(exports, \"Container\", { enumerable: true, get: function () { return container_1.Container; } });\nvar literal_types_1 = require(\"./constants/literal_types\");\nObject.defineProperty(exports, \"BindingScopeEnum\", { enumerable: true, get: function () { return literal_types_1.BindingScopeEnum; } });\nObject.defineProperty(exports, \"BindingTypeEnum\", { enumerable: true, get: function () { return literal_types_1.BindingTypeEnum; } });\nObject.defineProperty(exports, \"TargetTypeEnum\", { enumerable: true, get: function () { return literal_types_1.TargetTypeEnum; } });\nvar container_module_1 = require(\"./container/container_module\");\nObject.defineProperty(exports, \"AsyncContainerModule\", { enumerable: true, get: function () { return container_module_1.AsyncContainerModule; } });\nObject.defineProperty(exports, \"ContainerModule\", { enumerable: true, get: function () { return container_module_1.ContainerModule; } });\nvar injectable_1 = require(\"./annotation/injectable\");\nObject.defineProperty(exports, \"injectable\", { enumerable: true, get: function () { return injectable_1.injectable; } });\nvar tagged_1 = require(\"./annotation/tagged\");\nObject.defineProperty(exports, \"tagged\", { enumerable: true, get: function () { return tagged_1.tagged; } });\nvar named_1 = require(\"./annotation/named\");\nObject.defineProperty(exports, \"named\", { enumerable: true, get: function () { return named_1.named; } });\nvar inject_1 = require(\"./annotation/inject\");\nObject.defineProperty(exports, \"inject\", { enumerable: true, get: function () { return inject_1.inject; } });\nObject.defineProperty(exports, \"LazyServiceIdentifer\", { enumerable: true, get: function () { return inject_1.LazyServiceIdentifer; } });\nvar optional_1 = require(\"./annotation/optional\");\nObject.defineProperty(exports, \"optional\", { enumerable: true, get: function () { return optional_1.optional; } });\nvar unmanaged_1 = require(\"./annotation/unmanaged\");\nObject.defineProperty(exports, \"unmanaged\", { enumerable: true, get: function () { return unmanaged_1.unmanaged; } });\nvar multi_inject_1 = require(\"./annotation/multi_inject\");\nObject.defineProperty(exports, \"multiInject\", { enumerable: true, get: function () { return multi_inject_1.multiInject; } });\nvar target_name_1 = require(\"./annotation/target_name\");\nObject.defineProperty(exports, \"targetName\", { enumerable: true, get: function () { return target_name_1.targetName; } });\nvar post_construct_1 = require(\"./annotation/post_construct\");\nObject.defineProperty(exports, \"postConstruct\", { enumerable: true, get: function () { return post_construct_1.postConstruct; } });\nvar metadata_reader_1 = require(\"./planning/metadata_reader\");\nObject.defineProperty(exports, \"MetadataReader\", { enumerable: true, get: function () { return metadata_reader_1.MetadataReader; } });\nvar id_1 = require(\"./utils/id\");\nObject.defineProperty(exports, \"id\", { enumerable: true, get: function () { return id_1.id; } });\nvar decorator_utils_1 = require(\"./annotation/decorator_utils\");\nObject.defineProperty(exports, \"decorate\", { enumerable: true, get: function () { return decorator_utils_1.decorate; } });\nvar constraint_helpers_1 = require(\"./syntax/constraint_helpers\");\nObject.defineProperty(exports, \"traverseAncerstors\", { enumerable: true, get: function () { return constraint_helpers_1.traverseAncerstors; } });\nObject.defineProperty(exports, \"taggedConstraint\", { enumerable: true, get: function () { return constraint_helpers_1.taggedConstraint; } });\nObject.defineProperty(exports, \"namedConstraint\", { enumerable: true, get: function () { return constraint_helpers_1.namedConstraint; } });\nObject.defineProperty(exports, \"typeConstraint\", { enumerable: true, get: function () { return constraint_helpers_1.typeConstraint; } });\nvar serialization_1 = require(\"./utils/serialization\");\nObject.defineProperty(exports, \"getServiceIdentifierAsString\", { enumerable: true, get: function () { return serialization_1.getServiceIdentifierAsString; } });\nvar binding_utils_1 = require(\"./utils/binding_utils\");\nObject.defineProperty(exports, \"multiBindToService\", { enumerable: true, get: function () { return binding_utils_1.multiBindToService; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Context = void 0;\nvar id_1 = require(\"../utils/id\");\nvar Context = (function () {\n    function Context(container) {\n        this.id = id_1.id();\n        this.container = container;\n    }\n    Context.prototype.addPlan = function (plan) {\n        this.plan = plan;\n    };\n    Context.prototype.setCurrentRequest = function (currentRequest) {\n        this.currentRequest = currentRequest;\n    };\n    return Context;\n}());\nexports.Context = Context;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Metadata = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar Metadata = (function () {\n    function Metadata(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    Metadata.prototype.toString = function () {\n        if (this.key === METADATA_KEY.NAMED_TAG) {\n            return \"named: \" + this.value.toString() + \" \";\n        }\n        else {\n            return \"tagged: { key:\" + this.key.toString() + \", value: \" + this.value + \" }\";\n        }\n    };\n    return Metadata;\n}());\nexports.Metadata = Metadata;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MetadataReader = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar MetadataReader = (function () {\n    function MetadataReader() {\n    }\n    MetadataReader.prototype.getConstructorMetadata = function (constructorFunc) {\n        var compilerGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.PARAM_TYPES, constructorFunc);\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED, constructorFunc);\n        return {\n            compilerGeneratedMetadata: compilerGeneratedMetadata,\n            userGeneratedMetadata: userGeneratedMetadata || {}\n        };\n    };\n    MetadataReader.prototype.getPropertiesMetadata = function (constructorFunc) {\n        var userGeneratedMetadata = Reflect.getMetadata(METADATA_KEY.TAGGED_PROP, constructorFunc) || [];\n        return userGeneratedMetadata;\n    };\n    return MetadataReader;\n}());\nexports.MetadataReader = MetadataReader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Plan = void 0;\nvar Plan = (function () {\n    function Plan(parentContext, rootRequest) {\n        this.parentContext = parentContext;\n        this.rootRequest = rootRequest;\n    }\n    return Plan;\n}());\nexports.Plan = Plan;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getBindingDictionary = exports.createMockRequest = exports.plan = void 0;\nvar binding_count_1 = require(\"../bindings/binding_count\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar context_1 = require(\"./context\");\nvar metadata_1 = require(\"./metadata\");\nvar plan_1 = require(\"./plan\");\nvar reflection_utils_1 = require(\"./reflection_utils\");\nvar request_1 = require(\"./request\");\nvar target_1 = require(\"./target\");\nfunction getBindingDictionary(cntnr) {\n    return cntnr._bindingDictionary;\n}\nexports.getBindingDictionary = getBindingDictionary;\nfunction _createTarget(isMultiInject, targetType, serviceIdentifier, name, key, value) {\n    var metadataKey = isMultiInject ? METADATA_KEY.MULTI_INJECT_TAG : METADATA_KEY.INJECT_TAG;\n    var injectMetadata = new metadata_1.Metadata(metadataKey, serviceIdentifier);\n    var target = new target_1.Target(targetType, name, serviceIdentifier, injectMetadata);\n    if (key !== undefined) {\n        var tagMetadata = new metadata_1.Metadata(key, value);\n        target.metadata.push(tagMetadata);\n    }\n    return target;\n}\nfunction _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target) {\n    var bindings = getBindings(context.container, target.serviceIdentifier);\n    var activeBindings = [];\n    if (bindings.length === binding_count_1.BindingCount.NoBindingsAvailable &&\n        context.container.options.autoBindInjectable &&\n        typeof target.serviceIdentifier === \"function\" &&\n        metadataReader.getConstructorMetadata(target.serviceIdentifier).compilerGeneratedMetadata) {\n        context.container.bind(target.serviceIdentifier).toSelf();\n        bindings = getBindings(context.container, target.serviceIdentifier);\n    }\n    if (!avoidConstraints) {\n        activeBindings = bindings.filter(function (binding) {\n            var request = new request_1.Request(binding.serviceIdentifier, context, parentRequest, binding, target);\n            return binding.constraint(request);\n        });\n    }\n    else {\n        activeBindings = bindings;\n    }\n    _validateActiveBindingCount(target.serviceIdentifier, activeBindings, target, context.container);\n    return activeBindings;\n}\nfunction _validateActiveBindingCount(serviceIdentifier, bindings, target, container) {\n    switch (bindings.length) {\n        case binding_count_1.BindingCount.NoBindingsAvailable:\n            if (target.isOptional()) {\n                return bindings;\n            }\n            else {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.NOT_REGISTERED;\n                msg += serialization_1.listMetadataForTarget(serviceIdentifierString, target);\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n        case binding_count_1.BindingCount.OnlyOneBindingAvailable:\n            if (!target.isArray()) {\n                return bindings;\n            }\n        case binding_count_1.BindingCount.MultipleBindingsAvailable:\n        default:\n            if (!target.isArray()) {\n                var serviceIdentifierString = serialization_1.getServiceIdentifierAsString(serviceIdentifier);\n                var msg = ERROR_MSGS.AMBIGUOUS_MATCH + \" \" + serviceIdentifierString;\n                msg += serialization_1.listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);\n                throw new Error(msg);\n            }\n            else {\n                return bindings;\n            }\n    }\n}\nfunction _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, parentRequest, target) {\n    var activeBindings;\n    var childRequest;\n    if (parentRequest === null) {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, null, target);\n        childRequest = new request_1.Request(serviceIdentifier, context, null, activeBindings, target);\n        var thePlan = new plan_1.Plan(context, childRequest);\n        context.addPlan(thePlan);\n    }\n    else {\n        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target);\n        childRequest = parentRequest.addChildRequest(target.serviceIdentifier, activeBindings, target);\n    }\n    activeBindings.forEach(function (binding) {\n        var subChildRequest = null;\n        if (target.isArray()) {\n            subChildRequest = childRequest.addChildRequest(binding.serviceIdentifier, binding, target);\n        }\n        else {\n            if (binding.cache) {\n                return;\n            }\n            subChildRequest = childRequest;\n        }\n        if (binding.type === literal_types_1.BindingTypeEnum.Instance && binding.implementationType !== null) {\n            var dependencies = reflection_utils_1.getDependencies(metadataReader, binding.implementationType);\n            if (!context.container.options.skipBaseClassChecks) {\n                var baseClassDependencyCount = reflection_utils_1.getBaseClassDependencyCount(metadataReader, binding.implementationType);\n                if (dependencies.length < baseClassDependencyCount) {\n                    var error = ERROR_MSGS.ARGUMENTS_LENGTH_MISMATCH(reflection_utils_1.getFunctionName(binding.implementationType));\n                    throw new Error(error);\n                }\n            }\n            dependencies.forEach(function (dependency) {\n                _createSubRequests(metadataReader, false, dependency.serviceIdentifier, context, subChildRequest, dependency);\n            });\n        }\n    });\n}\nfunction getBindings(container, serviceIdentifier) {\n    var bindings = [];\n    var bindingDictionary = getBindingDictionary(container);\n    if (bindingDictionary.hasKey(serviceIdentifier)) {\n        bindings = bindingDictionary.get(serviceIdentifier);\n    }\n    else if (container.parent !== null) {\n        bindings = getBindings(container.parent, serviceIdentifier);\n    }\n    return bindings;\n}\nfunction plan(metadataReader, container, isMultiInject, targetType, serviceIdentifier, key, value, avoidConstraints) {\n    if (avoidConstraints === void 0) { avoidConstraints = false; }\n    var context = new context_1.Context(container);\n    var target = _createTarget(isMultiInject, targetType, serviceIdentifier, \"\", key, value);\n    try {\n        _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, null, target);\n        return context;\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            if (context.plan) {\n                serialization_1.circularDependencyToException(context.plan.rootRequest);\n            }\n        }\n        throw error;\n    }\n}\nexports.plan = plan;\nfunction createMockRequest(container, serviceIdentifier, key, value) {\n    var target = new target_1.Target(literal_types_1.TargetTypeEnum.Variable, \"\", serviceIdentifier, new metadata_1.Metadata(key, value));\n    var context = new context_1.Context(container);\n    var request = new request_1.Request(serviceIdentifier, context, null, [], target);\n    return request;\n}\nexports.createMockRequest = createMockRequest;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueryableString = void 0;\nvar QueryableString = (function () {\n    function QueryableString(str) {\n        this.str = str;\n    }\n    QueryableString.prototype.startsWith = function (searchString) {\n        return this.str.indexOf(searchString) === 0;\n    };\n    QueryableString.prototype.endsWith = function (searchString) {\n        var reverseString = \"\";\n        var reverseSearchString = searchString.split(\"\").reverse().join(\"\");\n        reverseString = this.str.split(\"\").reverse().join(\"\");\n        return this.startsWith.call({ str: reverseString }, reverseSearchString);\n    };\n    QueryableString.prototype.contains = function (searchString) {\n        return (this.str.indexOf(searchString) !== -1);\n    };\n    QueryableString.prototype.equals = function (compareString) {\n        return this.str === compareString;\n    };\n    QueryableString.prototype.value = function () {\n        return this.str;\n    };\n    return QueryableString;\n}());\nexports.QueryableString = QueryableString;\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFunctionName = exports.getBaseClassDependencyCount = exports.getDependencies = void 0;\nvar inject_1 = require(\"../annotation/inject\");\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar serialization_1 = require(\"../utils/serialization\");\nObject.defineProperty(exports, \"getFunctionName\", { enumerable: true, get: function () { return serialization_1.getFunctionName; } });\nvar target_1 = require(\"./target\");\nfunction getDependencies(metadataReader, func) {\n    var constructorName = serialization_1.getFunctionName(func);\n    var targets = getTargets(metadataReader, constructorName, func, false);\n    return targets;\n}\nexports.getDependencies = getDependencies;\nfunction getTargets(metadataReader, constructorName, func, isBaseClass) {\n    var metadata = metadataReader.getConstructorMetadata(func);\n    var serviceIdentifiers = metadata.compilerGeneratedMetadata;\n    if (serviceIdentifiers === undefined) {\n        var msg = ERROR_MSGS.MISSING_INJECTABLE_ANNOTATION + \" \" + constructorName + \".\";\n        throw new Error(msg);\n    }\n    var constructorArgsMetadata = metadata.userGeneratedMetadata;\n    var keys = Object.keys(constructorArgsMetadata);\n    var hasUserDeclaredUnknownInjections = (func.length === 0 && keys.length > 0);\n    var iterations = (hasUserDeclaredUnknownInjections) ? keys.length : func.length;\n    var constructorTargets = getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations);\n    var propertyTargets = getClassPropsAsTargets(metadataReader, func);\n    var targets = __spreadArrays(constructorTargets, propertyTargets);\n    return targets;\n}\nfunction getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata) {\n    var targetMetadata = constructorArgsMetadata[index.toString()] || [];\n    var metadata = formatTargetMetadata(targetMetadata);\n    var isManaged = metadata.unmanaged !== true;\n    var serviceIdentifier = serviceIdentifiers[index];\n    var injectIdentifier = (metadata.inject || metadata.multiInject);\n    serviceIdentifier = (injectIdentifier) ? (injectIdentifier) : serviceIdentifier;\n    if (serviceIdentifier instanceof inject_1.LazyServiceIdentifer) {\n        serviceIdentifier = serviceIdentifier.unwrap();\n    }\n    if (isManaged) {\n        var isObject = serviceIdentifier === Object;\n        var isFunction = serviceIdentifier === Function;\n        var isUndefined = serviceIdentifier === undefined;\n        var isUnknownType = (isObject || isFunction || isUndefined);\n        if (!isBaseClass && isUnknownType) {\n            var msg = ERROR_MSGS.MISSING_INJECT_ANNOTATION + \" argument \" + index + \" in class \" + constructorName + \".\";\n            throw new Error(msg);\n        }\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ConstructorArgument, metadata.targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        return target;\n    }\n    return null;\n}\nfunction getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations) {\n    var targets = [];\n    for (var i = 0; i < iterations; i++) {\n        var index = i;\n        var target = getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata);\n        if (target !== null) {\n            targets.push(target);\n        }\n    }\n    return targets;\n}\nfunction getClassPropsAsTargets(metadataReader, constructorFunc) {\n    var classPropsMetadata = metadataReader.getPropertiesMetadata(constructorFunc);\n    var targets = [];\n    var keys = Object.keys(classPropsMetadata);\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var key = keys_1[_i];\n        var targetMetadata = classPropsMetadata[key];\n        var metadata = formatTargetMetadata(classPropsMetadata[key]);\n        var targetName = metadata.targetName || key;\n        var serviceIdentifier = (metadata.inject || metadata.multiInject);\n        var target = new target_1.Target(literal_types_1.TargetTypeEnum.ClassProperty, targetName, serviceIdentifier);\n        target.metadata = targetMetadata;\n        targets.push(target);\n    }\n    var baseConstructor = Object.getPrototypeOf(constructorFunc.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseTargets = getClassPropsAsTargets(metadataReader, baseConstructor);\n        targets = __spreadArrays(targets, baseTargets);\n    }\n    return targets;\n}\nfunction getBaseClassDependencyCount(metadataReader, func) {\n    var baseConstructor = Object.getPrototypeOf(func.prototype).constructor;\n    if (baseConstructor !== Object) {\n        var baseConstructorName = serialization_1.getFunctionName(baseConstructor);\n        var targets = getTargets(metadataReader, baseConstructorName, baseConstructor, true);\n        var metadata = targets.map(function (t) {\n            return t.metadata.filter(function (m) {\n                return m.key === METADATA_KEY.UNMANAGED_TAG;\n            });\n        });\n        var unmanagedCount = [].concat.apply([], metadata).length;\n        var dependencyCount = targets.length - unmanagedCount;\n        if (dependencyCount > 0) {\n            return dependencyCount;\n        }\n        else {\n            return getBaseClassDependencyCount(metadataReader, baseConstructor);\n        }\n    }\n    else {\n        return 0;\n    }\n}\nexports.getBaseClassDependencyCount = getBaseClassDependencyCount;\nfunction formatTargetMetadata(targetMetadata) {\n    var targetMetadataMap = {};\n    targetMetadata.forEach(function (m) {\n        targetMetadataMap[m.key.toString()] = m.value;\n    });\n    return {\n        inject: targetMetadataMap[METADATA_KEY.INJECT_TAG],\n        multiInject: targetMetadataMap[METADATA_KEY.MULTI_INJECT_TAG],\n        targetName: targetMetadataMap[METADATA_KEY.NAME_TAG],\n        unmanaged: targetMetadataMap[METADATA_KEY.UNMANAGED_TAG]\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Request = void 0;\nvar id_1 = require(\"../utils/id\");\nvar Request = (function () {\n    function Request(serviceIdentifier, parentContext, parentRequest, bindings, target) {\n        this.id = id_1.id();\n        this.serviceIdentifier = serviceIdentifier;\n        this.parentContext = parentContext;\n        this.parentRequest = parentRequest;\n        this.target = target;\n        this.childRequests = [];\n        this.bindings = (Array.isArray(bindings) ? bindings : [bindings]);\n        this.requestScope = parentRequest === null\n            ? new Map()\n            : null;\n    }\n    Request.prototype.addChildRequest = function (serviceIdentifier, bindings, target) {\n        var child = new Request(serviceIdentifier, this.parentContext, this, bindings, target);\n        this.childRequests.push(child);\n        return child;\n    };\n    return Request;\n}());\nexports.Request = Request;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Target = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar id_1 = require(\"../utils/id\");\nvar metadata_1 = require(\"./metadata\");\nvar queryable_string_1 = require(\"./queryable_string\");\nvar Target = (function () {\n    function Target(type, name, serviceIdentifier, namedOrTagged) {\n        this.id = id_1.id();\n        this.type = type;\n        this.serviceIdentifier = serviceIdentifier;\n        this.name = new queryable_string_1.QueryableString(name || \"\");\n        this.metadata = new Array();\n        var metadataItem = null;\n        if (typeof namedOrTagged === \"string\") {\n            metadataItem = new metadata_1.Metadata(METADATA_KEY.NAMED_TAG, namedOrTagged);\n        }\n        else if (namedOrTagged instanceof metadata_1.Metadata) {\n            metadataItem = namedOrTagged;\n        }\n        if (metadataItem !== null) {\n            this.metadata.push(metadataItem);\n        }\n    }\n    Target.prototype.hasTag = function (key) {\n        for (var _i = 0, _a = this.metadata; _i < _a.length; _i++) {\n            var m = _a[_i];\n            if (m.key === key) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Target.prototype.isArray = function () {\n        return this.hasTag(METADATA_KEY.MULTI_INJECT_TAG);\n    };\n    Target.prototype.matchesArray = function (name) {\n        return this.matchesTag(METADATA_KEY.MULTI_INJECT_TAG)(name);\n    };\n    Target.prototype.isNamed = function () {\n        return this.hasTag(METADATA_KEY.NAMED_TAG);\n    };\n    Target.prototype.isTagged = function () {\n        return this.metadata.some(function (m) {\n            return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                (m.key !== METADATA_KEY.NAME_TAG) &&\n                (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                (m.key !== METADATA_KEY.NAMED_TAG);\n        });\n    };\n    Target.prototype.isOptional = function () {\n        return this.matchesTag(METADATA_KEY.OPTIONAL_TAG)(true);\n    };\n    Target.prototype.getNamedTag = function () {\n        if (this.isNamed()) {\n            return this.metadata.filter(function (m) { return m.key === METADATA_KEY.NAMED_TAG; })[0];\n        }\n        return null;\n    };\n    Target.prototype.getCustomTags = function () {\n        if (this.isTagged()) {\n            return this.metadata.filter(function (m) {\n                return (m.key !== METADATA_KEY.INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.MULTI_INJECT_TAG) &&\n                    (m.key !== METADATA_KEY.NAME_TAG) &&\n                    (m.key !== METADATA_KEY.UNMANAGED_TAG) &&\n                    (m.key !== METADATA_KEY.NAMED_TAG);\n            });\n        }\n        return null;\n    };\n    Target.prototype.matchesNamedTag = function (name) {\n        return this.matchesTag(METADATA_KEY.NAMED_TAG)(name);\n    };\n    Target.prototype.matchesTag = function (key) {\n        var _this = this;\n        return function (value) {\n            for (var _i = 0, _a = _this.metadata; _i < _a.length; _i++) {\n                var m = _a[_i];\n                if (m.key === key && m.value === value) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    };\n    return Target;\n}());\nexports.Target = Target;\n","\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolveInstance = void 0;\nvar error_msgs_1 = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nfunction _injectProperties(instance, childRequests, resolveRequest) {\n    var propertyInjectionsRequests = childRequests.filter(function (childRequest) {\n        return (childRequest.target !== null &&\n            childRequest.target.type === literal_types_1.TargetTypeEnum.ClassProperty);\n    });\n    var propertyInjections = propertyInjectionsRequests.map(resolveRequest);\n    propertyInjectionsRequests.forEach(function (r, index) {\n        var propertyName = \"\";\n        propertyName = r.target.name.value();\n        var injection = propertyInjections[index];\n        instance[propertyName] = injection;\n    });\n    return instance;\n}\nfunction _createInstance(Func, injections) {\n    return new (Func.bind.apply(Func, __spreadArrays([void 0], injections)))();\n}\nfunction _postConstruct(constr, result) {\n    if (Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT, constr)) {\n        var data = Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT, constr);\n        try {\n            result[data.value]();\n        }\n        catch (e) {\n            throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(constr.name, e.message));\n        }\n    }\n}\nfunction resolveInstance(constr, childRequests, resolveRequest) {\n    var result = null;\n    if (childRequests.length > 0) {\n        var constructorInjectionsRequests = childRequests.filter(function (childRequest) {\n            return (childRequest.target !== null && childRequest.target.type === literal_types_1.TargetTypeEnum.ConstructorArgument);\n        });\n        var constructorInjections = constructorInjectionsRequests.map(resolveRequest);\n        result = _createInstance(constr, constructorInjections);\n        result = _injectProperties(result, childRequests, resolveRequest);\n    }\n    else {\n        result = new constr();\n    }\n    _postConstruct(constr, result);\n    return result;\n}\nexports.resolveInstance = resolveInstance;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.resolve = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar exceptions_1 = require(\"../utils/exceptions\");\nvar serialization_1 = require(\"../utils/serialization\");\nvar instantiation_1 = require(\"./instantiation\");\nvar invokeFactory = function (factoryType, serviceIdentifier, fn) {\n    try {\n        return fn();\n    }\n    catch (error) {\n        if (exceptions_1.isStackOverflowExeption(error)) {\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY_IN_FACTORY(factoryType, serviceIdentifier.toString()));\n        }\n        else {\n            throw error;\n        }\n    }\n};\nvar _resolveRequest = function (requestScope) {\n    return function (request) {\n        request.parentContext.setCurrentRequest(request);\n        var bindings = request.bindings;\n        var childRequests = request.childRequests;\n        var targetIsAnArray = request.target && request.target.isArray();\n        var targetParentIsNotAnArray = !request.parentRequest ||\n            !request.parentRequest.target ||\n            !request.target ||\n            !request.parentRequest.target.matchesArray(request.target.serviceIdentifier);\n        if (targetIsAnArray && targetParentIsNotAnArray) {\n            return childRequests.map(function (childRequest) {\n                var _f = _resolveRequest(requestScope);\n                return _f(childRequest);\n            });\n        }\n        else {\n            var result = null;\n            if (request.target.isOptional() && bindings.length === 0) {\n                return undefined;\n            }\n            var binding_1 = bindings[0];\n            var isSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Singleton;\n            var isRequestSingleton = binding_1.scope === literal_types_1.BindingScopeEnum.Request;\n            if (isSingleton && binding_1.activated) {\n                return binding_1.cache;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                requestScope.has(binding_1.id)) {\n                return requestScope.get(binding_1.id);\n            }\n            if (binding_1.type === literal_types_1.BindingTypeEnum.ConstantValue) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Function) {\n                result = binding_1.cache;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Constructor) {\n                result = binding_1.implementationType;\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.DynamicValue && binding_1.dynamicValue !== null) {\n                result = invokeFactory(\"toDynamicValue\", binding_1.serviceIdentifier, function () { return binding_1.dynamicValue(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Factory && binding_1.factory !== null) {\n                result = invokeFactory(\"toFactory\", binding_1.serviceIdentifier, function () { return binding_1.factory(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Provider && binding_1.provider !== null) {\n                result = invokeFactory(\"toProvider\", binding_1.serviceIdentifier, function () { return binding_1.provider(request.parentContext); });\n            }\n            else if (binding_1.type === literal_types_1.BindingTypeEnum.Instance && binding_1.implementationType !== null) {\n                result = instantiation_1.resolveInstance(binding_1.implementationType, childRequests, _resolveRequest(requestScope));\n            }\n            else {\n                var serviceIdentifier = serialization_1.getServiceIdentifierAsString(request.serviceIdentifier);\n                throw new Error(ERROR_MSGS.INVALID_BINDING_TYPE + \" \" + serviceIdentifier);\n            }\n            if (typeof binding_1.onActivation === \"function\") {\n                result = binding_1.onActivation(request.parentContext, result);\n            }\n            if (isSingleton) {\n                binding_1.cache = result;\n                binding_1.activated = true;\n            }\n            if (isRequestSingleton &&\n                requestScope !== null &&\n                !requestScope.has(binding_1.id)) {\n                requestScope.set(binding_1.id, result);\n            }\n            return result;\n        }\n    };\n};\nfunction resolve(context) {\n    var _f = _resolveRequest(context.plan.rootRequest.requestScope);\n    return _f(context.plan.rootRequest);\n}\nexports.resolve = resolve;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingInSyntax = void 0;\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingInSyntax = (function () {\n    function BindingInSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingInSyntax.prototype.inRequestScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Request;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inSingletonScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Singleton;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingInSyntax.prototype.inTransientScope = function () {\n        this._binding.scope = literal_types_1.BindingScopeEnum.Transient;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    return BindingInSyntax;\n}());\nexports.BindingInSyntax = BindingInSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingInWhenOnSyntax = void 0;\nvar binding_in_syntax_1 = require(\"./binding_in_syntax\");\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingInWhenOnSyntax = (function () {\n    function BindingInWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n        this._bindingInSyntax = new binding_in_syntax_1.BindingInSyntax(binding);\n    }\n    BindingInWhenOnSyntax.prototype.inRequestScope = function () {\n        return this._bindingInSyntax.inRequestScope();\n    };\n    BindingInWhenOnSyntax.prototype.inSingletonScope = function () {\n        return this._bindingInSyntax.inSingletonScope();\n    };\n    BindingInWhenOnSyntax.prototype.inTransientScope = function () {\n        return this._bindingInSyntax.inTransientScope();\n    };\n    BindingInWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingInWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingInWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingInWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingInWhenOnSyntax;\n}());\nexports.BindingInWhenOnSyntax = BindingInWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingOnSyntax = void 0;\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingOnSyntax = (function () {\n    function BindingOnSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingOnSyntax.prototype.onActivation = function (handler) {\n        this._binding.onActivation = handler;\n        return new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n    };\n    return BindingOnSyntax;\n}());\nexports.BindingOnSyntax = BindingOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingToSyntax = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nvar literal_types_1 = require(\"../constants/literal_types\");\nvar binding_in_when_on_syntax_1 = require(\"./binding_in_when_on_syntax\");\nvar binding_when_on_syntax_1 = require(\"./binding_when_on_syntax\");\nvar BindingToSyntax = (function () {\n    function BindingToSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingToSyntax.prototype.to = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Instance;\n        this._binding.implementationType = constructor;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toSelf = function () {\n        if (typeof this._binding.serviceIdentifier !== \"function\") {\n            throw new Error(\"\" + ERROR_MSGS.INVALID_TO_SELF_VALUE);\n        }\n        var self = this._binding.serviceIdentifier;\n        return this.to(self);\n    };\n    BindingToSyntax.prototype.toConstantValue = function (value) {\n        this._binding.type = literal_types_1.BindingTypeEnum.ConstantValue;\n        this._binding.cache = value;\n        this._binding.dynamicValue = null;\n        this._binding.implementationType = null;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toDynamicValue = function (func) {\n        this._binding.type = literal_types_1.BindingTypeEnum.DynamicValue;\n        this._binding.cache = null;\n        this._binding.dynamicValue = func;\n        this._binding.implementationType = null;\n        return new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toConstructor = function (constructor) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Constructor;\n        this._binding.implementationType = constructor;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFactory = function (factory) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = factory;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toFunction = function (func) {\n        if (typeof func !== \"function\") {\n            throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);\n        }\n        var bindingWhenOnSyntax = this.toConstantValue(func);\n        this._binding.type = literal_types_1.BindingTypeEnum.Function;\n        return bindingWhenOnSyntax;\n    };\n    BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Factory;\n        this._binding.factory = function (context) {\n            var autofactory = function () { return context.container.get(serviceIdentifier); };\n            return autofactory;\n        };\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toProvider = function (provider) {\n        this._binding.type = literal_types_1.BindingTypeEnum.Provider;\n        this._binding.provider = provider;\n        return new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding);\n    };\n    BindingToSyntax.prototype.toService = function (service) {\n        this.toDynamicValue(function (context) { return context.container.get(service); });\n    };\n    return BindingToSyntax;\n}());\nexports.BindingToSyntax = BindingToSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingWhenOnSyntax = void 0;\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar binding_when_syntax_1 = require(\"./binding_when_syntax\");\nvar BindingWhenOnSyntax = (function () {\n    function BindingWhenOnSyntax(binding) {\n        this._binding = binding;\n        this._bindingWhenSyntax = new binding_when_syntax_1.BindingWhenSyntax(this._binding);\n        this._bindingOnSyntax = new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    }\n    BindingWhenOnSyntax.prototype.when = function (constraint) {\n        return this._bindingWhenSyntax.when(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetNamed = function (name) {\n        return this._bindingWhenSyntax.whenTargetNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenTargetIsDefault = function () {\n        return this._bindingWhenSyntax.whenTargetIsDefault();\n    };\n    BindingWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenTargetTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenInjectedInto = function (parent) {\n        return this._bindingWhenSyntax.whenInjectedInto(parent);\n    };\n    BindingWhenOnSyntax.prototype.whenParentNamed = function (name) {\n        return this._bindingWhenSyntax.whenParentNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenParentTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {\n        return this._bindingWhenSyntax.whenNoAncestorNamed(name);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);\n    };\n    BindingWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);\n    };\n    BindingWhenOnSyntax.prototype.onActivation = function (handler) {\n        return this._bindingOnSyntax.onActivation(handler);\n    };\n    return BindingWhenOnSyntax;\n}());\nexports.BindingWhenOnSyntax = BindingWhenOnSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BindingWhenSyntax = void 0;\nvar binding_on_syntax_1 = require(\"./binding_on_syntax\");\nvar constraint_helpers_1 = require(\"./constraint_helpers\");\nvar BindingWhenSyntax = (function () {\n    function BindingWhenSyntax(binding) {\n        this._binding = binding;\n    }\n    BindingWhenSyntax.prototype.when = function (constraint) {\n        this._binding.constraint = constraint;\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n        this._binding.constraint = constraint_helpers_1.namedConstraint(name);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n        this._binding.constraint = function (request) {\n            var targetIsDefault = (request.target !== null) &&\n                (!request.target.isNamed()) &&\n                (!request.target.isTagged());\n            return targetIsDefault;\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n        this._binding.constraint = constraint_helpers_1.taggedConstraint(tag)(value);\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.typeConstraint(parent)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.namedConstraint(name)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.taggedConstraint(tag)(value)(request.parentRequest);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.typeConstraint(ancestor));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.namedConstraint(name));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint_helpers_1.taggedConstraint(tag)(value));\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n        this._binding.constraint = function (request) {\n            return !constraint_helpers_1.traverseAncerstors(request, constraint);\n        };\n        return new binding_on_syntax_1.BindingOnSyntax(this._binding);\n    };\n    return BindingWhenSyntax;\n}());\nexports.BindingWhenSyntax = BindingWhenSyntax;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.typeConstraint = exports.namedConstraint = exports.taggedConstraint = exports.traverseAncerstors = void 0;\nvar METADATA_KEY = require(\"../constants/metadata_keys\");\nvar metadata_1 = require(\"../planning/metadata\");\nvar traverseAncerstors = function (request, constraint) {\n    var parent = request.parentRequest;\n    if (parent !== null) {\n        return constraint(parent) ? true : traverseAncerstors(parent, constraint);\n    }\n    else {\n        return false;\n    }\n};\nexports.traverseAncerstors = traverseAncerstors;\nvar taggedConstraint = function (key) { return function (value) {\n    var constraint = function (request) {\n        return request !== null && request.target !== null && request.target.matchesTag(key)(value);\n    };\n    constraint.metaData = new metadata_1.Metadata(key, value);\n    return constraint;\n}; };\nexports.taggedConstraint = taggedConstraint;\nvar namedConstraint = taggedConstraint(METADATA_KEY.NAMED_TAG);\nexports.namedConstraint = namedConstraint;\nvar typeConstraint = function (type) { return function (request) {\n    var binding = null;\n    if (request !== null) {\n        binding = request.bindings[0];\n        if (typeof type === \"string\") {\n            var serviceIdentifier = binding.serviceIdentifier;\n            return serviceIdentifier === type;\n        }\n        else {\n            var constructor = request.bindings[0].implementationType;\n            return type === constructor;\n        }\n    }\n    return false;\n}; };\nexports.typeConstraint = typeConstraint;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.multiBindToService = void 0;\nexports.multiBindToService = function (container) {\n    return function (service) {\n        return function () {\n            var types = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                types[_i] = arguments[_i];\n            }\n            return types.forEach(function (t) { return container.bind(t).toService(service); });\n        };\n    };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isStackOverflowExeption = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction isStackOverflowExeption(error) {\n    return (error instanceof RangeError ||\n        error.message === ERROR_MSGS.STACK_OVERFLOW);\n}\nexports.isStackOverflowExeption = isStackOverflowExeption;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.id = void 0;\nvar idCounter = 0;\nfunction id() {\n    return idCounter++;\n}\nexports.id = id;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.circularDependencyToException = exports.listMetadataForTarget = exports.listRegisteredBindingsForServiceIdentifier = exports.getServiceIdentifierAsString = exports.getFunctionName = void 0;\nvar ERROR_MSGS = require(\"../constants/error_msgs\");\nfunction getServiceIdentifierAsString(serviceIdentifier) {\n    if (typeof serviceIdentifier === \"function\") {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier.name;\n    }\n    else if (typeof serviceIdentifier === \"symbol\") {\n        return serviceIdentifier.toString();\n    }\n    else {\n        var _serviceIdentifier = serviceIdentifier;\n        return _serviceIdentifier;\n    }\n}\nexports.getServiceIdentifierAsString = getServiceIdentifierAsString;\nfunction listRegisteredBindingsForServiceIdentifier(container, serviceIdentifier, getBindings) {\n    var registeredBindingsList = \"\";\n    var registeredBindings = getBindings(container, serviceIdentifier);\n    if (registeredBindings.length !== 0) {\n        registeredBindingsList = \"\\nRegistered bindings:\";\n        registeredBindings.forEach(function (binding) {\n            var name = \"Object\";\n            if (binding.implementationType !== null) {\n                name = getFunctionName(binding.implementationType);\n            }\n            registeredBindingsList = registeredBindingsList + \"\\n \" + name;\n            if (binding.constraint.metaData) {\n                registeredBindingsList = registeredBindingsList + \" - \" + binding.constraint.metaData;\n            }\n        });\n    }\n    return registeredBindingsList;\n}\nexports.listRegisteredBindingsForServiceIdentifier = listRegisteredBindingsForServiceIdentifier;\nfunction alreadyDependencyChain(request, serviceIdentifier) {\n    if (request.parentRequest === null) {\n        return false;\n    }\n    else if (request.parentRequest.serviceIdentifier === serviceIdentifier) {\n        return true;\n    }\n    else {\n        return alreadyDependencyChain(request.parentRequest, serviceIdentifier);\n    }\n}\nfunction dependencyChainToString(request) {\n    function _createStringArr(req, result) {\n        if (result === void 0) { result = []; }\n        var serviceIdentifier = getServiceIdentifierAsString(req.serviceIdentifier);\n        result.push(serviceIdentifier);\n        if (req.parentRequest !== null) {\n            return _createStringArr(req.parentRequest, result);\n        }\n        return result;\n    }\n    var stringArr = _createStringArr(request);\n    return stringArr.reverse().join(\" --> \");\n}\nfunction circularDependencyToException(request) {\n    request.childRequests.forEach(function (childRequest) {\n        if (alreadyDependencyChain(childRequest, childRequest.serviceIdentifier)) {\n            var services = dependencyChainToString(childRequest);\n            throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY + \" \" + services);\n        }\n        else {\n            circularDependencyToException(childRequest);\n        }\n    });\n}\nexports.circularDependencyToException = circularDependencyToException;\nfunction listMetadataForTarget(serviceIdentifierString, target) {\n    if (target.isTagged() || target.isNamed()) {\n        var m_1 = \"\";\n        var namedTag = target.getNamedTag();\n        var otherTags = target.getCustomTags();\n        if (namedTag !== null) {\n            m_1 += namedTag.toString() + \"\\n\";\n        }\n        if (otherTags !== null) {\n            otherTags.forEach(function (tag) {\n                m_1 += tag.toString() + \"\\n\";\n            });\n        }\n        return \" \" + serviceIdentifierString + \"\\n \" + serviceIdentifierString + \" - \" + m_1;\n    }\n    else {\n        return \" \" + serviceIdentifierString;\n    }\n}\nexports.listMetadataForTarget = listMetadataForTarget;\nfunction getFunctionName(v) {\n    if (v.name) {\n        return v.name;\n    }\n    else {\n        var name_1 = v.toString();\n        var match = name_1.match(/^function\\s*([^\\s(]+)/);\n        return match ? match[1] : \"Anonymous function: \" + name_1;\n    }\n}\nexports.getFunctionName = getFunctionName;\n","module.exports = require(\"fs\");;","module.exports = require(\"path\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nvar initAvoidModule = (function() {\n  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;\n  if (typeof __filename !== 'undefined') _scriptDir = _scriptDir || __filename;\n  return (\nfunction(initAvoidModule) {\n  initAvoidModule = initAvoidModule || {};\n\n\nvar a;a||(a=typeof initAvoidModule !== 'undefined' ? initAvoidModule : {});var aa,ba;a.ready=new Promise(function(b,c){aa=b;ba=c});var ca={},k;for(k in a)a.hasOwnProperty(k)&&(ca[k]=a[k]);var ea=\"./this.program\",fa=!1,ha=!1,ja=!1,ka=!1;fa=\"object\"===typeof window;ha=\"function\"===typeof importScripts;ja=\"object\"===typeof process&&\"object\"===typeof process.versions&&\"string\"===typeof process.versions.node;ka=!fa&&!ja&&!ha;var l=\"\",la,ma,na,oa,pa;\nif(ja)l=ha?require(\"path\").dirname(l)+\"/\":__dirname+\"/\",la=function(b,c){oa||(oa=require(\"fs\"));pa||(pa=require(\"path\"));b=pa.normalize(b);return oa.readFileSync(b,c?null:\"utf8\")},na=function(b){b=la(b,!0);b.buffer||(b=new Uint8Array(b));assert(b.buffer);return b},1<process.argv.length&&(ea=process.argv[1].replace(/\\\\/g,\"/\")),process.argv.slice(2),process.on(\"uncaughtException\",function(b){throw b;}),process.on(\"unhandledRejection\",m),a.inspect=function(){return\"[Emscripten Module object]\"};else if(ka)\"undefined\"!=\ntypeof read&&(la=function(b){return read(b)}),na=function(b){if(\"function\"===typeof readbuffer)return new Uint8Array(readbuffer(b));b=read(b,\"binary\");assert(\"object\"===typeof b);return b},\"undefined\"!==typeof print&&(\"undefined\"===typeof console&&(console={}),console.log=print,console.warn=console.error=\"undefined\"!==typeof printErr?printErr:print);else if(fa||ha)ha?l=self.location.href:\"undefined\"!==typeof document&&document.currentScript&&(l=document.currentScript.src),_scriptDir&&(l=_scriptDir),\n0!==l.indexOf(\"blob:\")?l=l.substr(0,l.lastIndexOf(\"/\")+1):l=\"\",la=function(b){var c=new XMLHttpRequest;c.open(\"GET\",b,!1);c.send(null);return c.responseText},ha&&(na=function(b){var c=new XMLHttpRequest;c.open(\"GET\",b,!1);c.responseType=\"arraybuffer\";c.send(null);return new Uint8Array(c.response)}),ma=function(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b,!0);e.responseType=\"arraybuffer\";e.onload=function(){200==e.status||0==e.status&&e.response?c(e.response):d()};e.onerror=d;e.send(null)};\nvar qa=a.print||console.log.bind(console),ra=a.printErr||console.warn.bind(console);for(k in ca)ca.hasOwnProperty(k)&&(a[k]=ca[k]);ca=null;a.thisProgram&&(ea=a.thisProgram);var sa=[],ta,ua;a.wasmBinary&&(ua=a.wasmBinary);var noExitRuntime=a.noExitRuntime||!0;\"object\"!==typeof WebAssembly&&m(\"no native wasm support detected\");var va,wa=!1;function assert(b,c){b||m(\"Assertion failed: \"+c)}var xa=\"undefined\"!==typeof TextDecoder?new TextDecoder(\"utf8\"):void 0;\nfunction ya(b,c,d){var e=c+d;for(d=c;b[d]&&!(d>=e);)++d;if(16<d-c&&b.subarray&&xa)return xa.decode(b.subarray(c,d));for(e=\"\";c<d;){var g=b[c++];if(g&128){var h=b[c++]&63;if(192==(g&224))e+=String.fromCharCode((g&31)<<6|h);else{var t=b[c++]&63;g=224==(g&240)?(g&15)<<12|h<<6|t:(g&7)<<18|h<<12|t<<6|b[c++]&63;65536>g?e+=String.fromCharCode(g):(g-=65536,e+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else e+=String.fromCharCode(g)}return e}function za(b){return b?ya(Aa,b,void 0):\"\"}\nvar Ba,Aa,n,q,Ca=[],Da=[],Ea=[],Fa=[],Ga=!1;Da.push({Uc:function(){Ha()}});function Ia(){var b=a.preRun.shift();Ca.unshift(b)}var Ja=0,Ka=null,La=null;a.preloadedImages={};a.preloadedAudios={};function m(b){if(a.onAbort)a.onAbort(b);ra(b);wa=!0;b=new WebAssembly.RuntimeError(\"abort(\"+b+\"). Build with -s ASSERTIONS=1 for more info.\");ba(b);throw b;}function Ma(b){var c=r;return String.prototype.startsWith?c.startsWith(b):0===c.indexOf(b)}\nfunction Na(){return Ma(\"data:application/octet-stream;base64,\")}var r=\"libavoid.wasm\";if(!Na()){var Oa=r;r=a.locateFile?a.locateFile(Oa,l):l+Oa}function Pa(){var b=r;try{if(b==r&&ua)return new Uint8Array(ua);if(na)return na(b);throw\"both async and sync fetching of the wasm failed\";}catch(c){m(c)}}\nfunction Qa(){if(!ua&&(fa||ha)){if(\"function\"===typeof fetch&&!Ma(\"file://\"))return fetch(r,{credentials:\"same-origin\"}).then(function(b){if(!b.ok)throw\"failed to load wasm binary file at '\"+r+\"'\";return b.arrayBuffer()}).catch(function(){return Pa()});if(ma)return new Promise(function(b,c){ma(r,function(d){b(new Uint8Array(d))},c)})}return Promise.resolve().then(function(){return Pa()})}\nfunction Ra(b){for(;0<b.length;){var c=b.shift();if(\"function\"==typeof c)c(a);else{var d=c.Uc;\"number\"===typeof d?void 0===c.Pc?q.get(d)():q.get(d)(c.Pc):d(void 0===c.Pc?null:c.Pc)}}}\nfunction Sa(b){this.Gc=b-16;this.Rc=function(c){n[this.Gc+8>>2]=c};this.Tc=function(){return n[this.Gc+8>>2]};this.ud=function(c){n[this.Gc+0>>2]=c};this.Gd=function(){n[this.Gc+4>>2]=0};this.td=function(){Ba[this.Gc+12>>0]=0};this.Hd=function(){Ba[this.Gc+13>>0]=0};this.rd=function(c,d){this.Rc(c);this.ud(d);this.Gd();this.td();this.Hd()}}var Ta=0;function Ua(){void 0===Ua.start&&(Ua.start=Date.now());return 1E3*(Date.now()-Ua.start)|0}var Va={};\nfunction Wa(){if(!Xa){var b={USER:\"web_user\",LOGNAME:\"web_user\",PATH:\"/\",PWD:\"/\",HOME:\"/home/web_user\",LANG:(\"object\"===typeof navigator&&navigator.languages&&navigator.languages[0]||\"C\").replace(\"-\",\"_\")+\".UTF-8\",_:ea||\"./this.program\"},c;for(c in Va)b[c]=Va[c];var d=[];for(c in b)d.push(c+\"=\"+b[c]);Xa=d}return Xa}var Xa,Ya=[null,[],[]];function Za(b){return 0===b%4&&(0!==b%100||0===b%400)}function $a(b,c){for(var d=0,e=0;e<=c;d+=b[e++]);return d}\nvar ab=[31,29,31,30,31,30,31,31,30,31,30,31],bb=[31,28,31,30,31,30,31,31,30,31,30,31];function cb(b,c){for(b=new Date(b.getTime());0<c;){var d=b.getMonth(),e=(Za(b.getFullYear())?ab:bb)[d];if(c>e-b.getDate())c-=e-b.getDate()+1,b.setDate(1),11>d?b.setMonth(d+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1));else{b.setDate(b.getDate()+c);break}}return b}\nfunction db(b,c,d,e){function g(f,p,y){for(f=\"number\"===typeof f?f.toString():f||\"\";f.length<p;)f=y[0]+f;return f}function h(f,p){return g(f,p,\"0\")}function t(f,p){function y(eb){return 0>eb?-1:0<eb?1:0}var da;0===(da=y(f.getFullYear()-p.getFullYear()))&&0===(da=y(f.getMonth()-p.getMonth()))&&(da=y(f.getDate()-p.getDate()));return da}function F(f){switch(f.getDay()){case 0:return new Date(f.getFullYear()-1,11,29);case 1:return f;case 2:return new Date(f.getFullYear(),0,3);case 3:return new Date(f.getFullYear(),\n0,2);case 4:return new Date(f.getFullYear(),0,1);case 5:return new Date(f.getFullYear()-1,11,31);case 6:return new Date(f.getFullYear()-1,11,30)}}function ia(f){f=cb(new Date(f.Jc+1900,0,1),f.Oc);var p=new Date(f.getFullYear()+1,0,4),y=F(new Date(f.getFullYear(),0,4));p=F(p);return 0>=t(y,f)?0>=t(p,f)?f.getFullYear()+1:f.getFullYear():f.getFullYear()-1}var I=n[e+40>>2];e={Md:n[e>>2],Ld:n[e+4>>2],Mc:n[e+8>>2],Lc:n[e+12>>2],Kc:n[e+16>>2],Jc:n[e+20>>2],Nc:n[e+24>>2],Oc:n[e+28>>2],Od:n[e+32>>2],Kd:n[e+\n36>>2],Nd:I?za(I):\"\"};d=za(d);I={\"%c\":\"%a %b %d %H:%M:%S %Y\",\"%D\":\"%m/%d/%y\",\"%F\":\"%Y-%m-%d\",\"%h\":\"%b\",\"%r\":\"%I:%M:%S %p\",\"%R\":\"%H:%M\",\"%T\":\"%H:%M:%S\",\"%x\":\"%m/%d/%y\",\"%X\":\"%H:%M:%S\",\"%Ec\":\"%c\",\"%EC\":\"%C\",\"%Ex\":\"%m/%d/%y\",\"%EX\":\"%H:%M:%S\",\"%Ey\":\"%y\",\"%EY\":\"%Y\",\"%Od\":\"%d\",\"%Oe\":\"%e\",\"%OH\":\"%H\",\"%OI\":\"%I\",\"%Om\":\"%m\",\"%OM\":\"%M\",\"%OS\":\"%S\",\"%Ou\":\"%u\",\"%OU\":\"%U\",\"%OV\":\"%V\",\"%Ow\":\"%w\",\"%OW\":\"%W\",\"%Oy\":\"%y\"};for(var D in I)d=d.replace(new RegExp(D,\"g\"),I[D]);var fb=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday\".split(\" \"),\ngb=\"January February March April May June July August September October November December\".split(\" \");I={\"%a\":function(f){return fb[f.Nc].substring(0,3)},\"%A\":function(f){return fb[f.Nc]},\"%b\":function(f){return gb[f.Kc].substring(0,3)},\"%B\":function(f){return gb[f.Kc]},\"%C\":function(f){return h((f.Jc+1900)/100|0,2)},\"%d\":function(f){return h(f.Lc,2)},\"%e\":function(f){return g(f.Lc,2,\" \")},\"%g\":function(f){return ia(f).toString().substring(2)},\"%G\":function(f){return ia(f)},\"%H\":function(f){return h(f.Mc,\n2)},\"%I\":function(f){f=f.Mc;0==f?f=12:12<f&&(f-=12);return h(f,2)},\"%j\":function(f){return h(f.Lc+$a(Za(f.Jc+1900)?ab:bb,f.Kc-1),3)},\"%m\":function(f){return h(f.Kc+1,2)},\"%M\":function(f){return h(f.Ld,2)},\"%n\":function(){return\"\\n\"},\"%p\":function(f){return 0<=f.Mc&&12>f.Mc?\"AM\":\"PM\"},\"%S\":function(f){return h(f.Md,2)},\"%t\":function(){return\"\\t\"},\"%u\":function(f){return f.Nc||7},\"%U\":function(f){var p=new Date(f.Jc+1900,0,1),y=0===p.getDay()?p:cb(p,7-p.getDay());f=new Date(f.Jc+1900,f.Kc,f.Lc);return 0>\nt(y,f)?h(Math.ceil((31-y.getDate()+($a(Za(f.getFullYear())?ab:bb,f.getMonth()-1)-31)+f.getDate())/7),2):0===t(y,p)?\"01\":\"00\"},\"%V\":function(f){var p=new Date(f.Jc+1901,0,4),y=F(new Date(f.Jc+1900,0,4));p=F(p);var da=cb(new Date(f.Jc+1900,0,1),f.Oc);return 0>t(da,y)?\"53\":0>=t(p,da)?\"01\":h(Math.ceil((y.getFullYear()<f.Jc+1900?f.Oc+32-y.getDate():f.Oc+1-y.getDate())/7),2)},\"%w\":function(f){return f.Nc},\"%W\":function(f){var p=new Date(f.Jc,0,1),y=1===p.getDay()?p:cb(p,0===p.getDay()?1:7-p.getDay()+1);\nf=new Date(f.Jc+1900,f.Kc,f.Lc);return 0>t(y,f)?h(Math.ceil((31-y.getDate()+($a(Za(f.getFullYear())?ab:bb,f.getMonth()-1)-31)+f.getDate())/7),2):0===t(y,p)?\"01\":\"00\"},\"%y\":function(f){return(f.Jc+1900).toString().substring(2)},\"%Y\":function(f){return f.Jc+1900},\"%z\":function(f){f=f.Kd;var p=0<=f;f=Math.abs(f)/60;return(p?\"+\":\"-\")+String(\"0000\"+(f/60*100+f%60)).slice(-4)},\"%Z\":function(f){return f.Nd},\"%%\":function(){return\"%\"}};for(D in I)0<=d.indexOf(D)&&(d=d.replace(new RegExp(D,\"g\"),I[D](e)));\nD=hb(d);if(D.length>c)return 0;Ba.set(D,b);return D.length-1}\nfunction hb(b){for(var c=0,d=0;d<b.length;++d){var e=b.charCodeAt(d);55296<=e&&57343>=e&&(e=65536+((e&1023)<<10)|b.charCodeAt(++d)&1023);127>=e?++c:c=2047>=e?c+2:65535>=e?c+3:c+4}c=Array(c+1);e=c.length;d=0;if(0<e){e=d+e-1;for(var g=0;g<b.length;++g){var h=b.charCodeAt(g);if(55296<=h&&57343>=h){var t=b.charCodeAt(++g);h=65536+((h&1023)<<10)|t&1023}if(127>=h){if(d>=e)break;c[d++]=h}else{if(2047>=h){if(d+1>=e)break;c[d++]=192|h>>6}else{if(65535>=h){if(d+2>=e)break;c[d++]=224|h>>12}else{if(d+3>=e)break;\nc[d++]=240|h>>18;c[d++]=128|h>>12&63}c[d++]=128|h>>6&63}c[d++]=128|h&63}}c[d]=0}return c}\nvar jb={a:function(b,c,d,e){m(\"Assertion failed: \"+za(b)+\", at: \"+[c?za(c):\"unknown filename\",d,e?za(e):\"unknown function\"])},e:function(b){return ib(b+16)+16},d:function(b,c,d){(new Sa(b)).rd(c,d);Ta++;throw b;},b:function(){m()},c:Ua,l:function(b,c,d){Aa.copyWithin(b,c,c+d)},m:function(){m(\"OOM\")},h:function(b,c){var d=0;Wa().forEach(function(e,g){var h=c+d;g=n[b+4*g>>2]=h;for(h=0;h<e.length;++h)Ba[g++>>0]=e.charCodeAt(h);Ba[g>>0]=0;d+=e.length+1});return 0},i:function(b,c){var d=Wa();n[b>>2]=d.length;\nvar e=0;d.forEach(function(g){e+=g.length+1});n[c>>2]=e;return 0},j:function(){return 0},k:function(){},f:function(b,c,d,e){for(var g=0,h=0;h<d;h++){for(var t=n[c+8*h>>2],F=n[c+(8*h+4)>>2],ia=0;ia<F;ia++){var I=Aa[t+ia],D=Ya[b];0===I||10===I?((1===b?qa:ra)(ya(D,0)),D.length=0):D.push(I)}g+=F}n[e>>2]=g;return 0},g:function(b,c,d,e){return db(b,c,d,e)}};\n(function(){function b(g){a.asm=g.exports;va=a.asm.n;g=va.buffer;a.HEAP8=Ba=new Int8Array(g);a.HEAP16=new Int16Array(g);a.HEAP32=n=new Int32Array(g);a.HEAPU8=Aa=new Uint8Array(g);a.HEAPU16=new Uint16Array(g);a.HEAPU32=new Uint32Array(g);a.HEAPF32=new Float32Array(g);a.HEAPF64=new Float64Array(g);q=a.asm.p;Ja--;a.monitorRunDependencies&&a.monitorRunDependencies(Ja);0==Ja&&(null!==Ka&&(clearInterval(Ka),Ka=null),La&&(g=La,La=null,g()))}function c(g){b(g.instance)}function d(g){return Qa().then(function(h){return WebAssembly.instantiate(h,\ne)}).then(g,function(h){ra(\"failed to asynchronously prepare wasm: \"+h);m(h)})}var e={a:jb};Ja++;a.monitorRunDependencies&&a.monitorRunDependencies(Ja);if(a.instantiateWasm)try{return a.instantiateWasm(e,b)}catch(g){return ra(\"Module.instantiateWasm callback failed with error: \"+g),!1}(function(){return ua||\"function\"!==typeof WebAssembly.instantiateStreaming||Na()||Ma(\"file://\")||\"function\"!==typeof fetch?d(c):fetch(r,{credentials:\"same-origin\"}).then(function(g){return WebAssembly.instantiateStreaming(g,\ne).then(c,function(h){ra(\"wasm streaming compile failed: \"+h);ra(\"falling back to ArrayBuffer instantiation\");return d(c)})})})().catch(ba);return{}})();var Ha=a.___wasm_call_ctors=function(){return(Ha=a.___wasm_call_ctors=a.asm.o).apply(null,arguments)},ib=a._malloc=function(){return(ib=a._malloc=a.asm.q).apply(null,arguments)};a._free=function(){return(a._free=a.asm.r).apply(null,arguments)};\nvar kb=a._emscripten_bind_VoidPtr___destroy___0=function(){return(kb=a._emscripten_bind_VoidPtr___destroy___0=a.asm.s).apply(null,arguments)},lb=a._emscripten_bind_HyperedgeImprover_HyperedgeImprover_0=function(){return(lb=a._emscripten_bind_HyperedgeImprover_HyperedgeImprover_0=a.asm.t).apply(null,arguments)},mb=a._emscripten_bind_HyperedgeImprover_clear_0=function(){return(mb=a._emscripten_bind_HyperedgeImprover_clear_0=a.asm.u).apply(null,arguments)},nb=a._emscripten_bind_HyperedgeImprover_setRouter_1=\nfunction(){return(nb=a._emscripten_bind_HyperedgeImprover_setRouter_1=a.asm.v).apply(null,arguments)},ob=a._emscripten_bind_HyperedgeImprover___destroy___0=function(){return(ob=a._emscripten_bind_HyperedgeImprover___destroy___0=a.asm.w).apply(null,arguments)},pb=a._emscripten_bind_Box_Box_0=function(){return(pb=a._emscripten_bind_Box_Box_0=a.asm.x).apply(null,arguments)},qb=a._emscripten_bind_Box_length_1=function(){return(qb=a._emscripten_bind_Box_length_1=a.asm.y).apply(null,arguments)},rb=a._emscripten_bind_Box_width_0=\nfunction(){return(rb=a._emscripten_bind_Box_width_0=a.asm.z).apply(null,arguments)},sb=a._emscripten_bind_Box_height_0=function(){return(sb=a._emscripten_bind_Box_height_0=a.asm.A).apply(null,arguments)},tb=a._emscripten_bind_Box_get_min_0=function(){return(tb=a._emscripten_bind_Box_get_min_0=a.asm.B).apply(null,arguments)},ub=a._emscripten_bind_Box_set_min_1=function(){return(ub=a._emscripten_bind_Box_set_min_1=a.asm.C).apply(null,arguments)},vb=a._emscripten_bind_Box_get_max_0=function(){return(vb=\na._emscripten_bind_Box_get_max_0=a.asm.D).apply(null,arguments)},wb=a._emscripten_bind_Box_set_max_1=function(){return(wb=a._emscripten_bind_Box_set_max_1=a.asm.E).apply(null,arguments)},xb=a._emscripten_bind_Box___destroy___0=function(){return(xb=a._emscripten_bind_Box___destroy___0=a.asm.F).apply(null,arguments)},yb=a._emscripten_bind_PolygonInterface_clear_0=function(){return(yb=a._emscripten_bind_PolygonInterface_clear_0=a.asm.G).apply(null,arguments)},zb=a._emscripten_bind_PolygonInterface_empty_0=\nfunction(){return(zb=a._emscripten_bind_PolygonInterface_empty_0=a.asm.H).apply(null,arguments)},Ab=a._emscripten_bind_PolygonInterface_size_0=function(){return(Ab=a._emscripten_bind_PolygonInterface_size_0=a.asm.I).apply(null,arguments)},Bb=a._emscripten_bind_PolygonInterface_id_0=function(){return(Bb=a._emscripten_bind_PolygonInterface_id_0=a.asm.J).apply(null,arguments)},Cb=a._emscripten_bind_PolygonInterface_at_1=function(){return(Cb=a._emscripten_bind_PolygonInterface_at_1=a.asm.K).apply(null,\narguments)},Db=a._emscripten_bind_PolygonInterface_boundingRectPolygon_0=function(){return(Db=a._emscripten_bind_PolygonInterface_boundingRectPolygon_0=a.asm.L).apply(null,arguments)},Eb=a._emscripten_bind_PolygonInterface_offsetBoundingBox_1=function(){return(Eb=a._emscripten_bind_PolygonInterface_offsetBoundingBox_1=a.asm.M).apply(null,arguments)},Fb=a._emscripten_bind_PolygonInterface_offsetPolygon_1=function(){return(Fb=a._emscripten_bind_PolygonInterface_offsetPolygon_1=a.asm.N).apply(null,arguments)},\nGb=a._emscripten_bind_PolygonInterface___destroy___0=function(){return(Gb=a._emscripten_bind_PolygonInterface___destroy___0=a.asm.O).apply(null,arguments)},Hb=a._emscripten_bind_Polygon_Polygon_0=function(){return(Hb=a._emscripten_bind_Polygon_Polygon_0=a.asm.P).apply(null,arguments)},Ib=a._emscripten_bind_Polygon_Polygon_1=function(){return(Ib=a._emscripten_bind_Polygon_Polygon_1=a.asm.Q).apply(null,arguments)},Jb=a._emscripten_bind_Polygon_setPoint_2=function(){return(Jb=a._emscripten_bind_Polygon_setPoint_2=\na.asm.R).apply(null,arguments)},Kb=a._emscripten_bind_Polygon_size_0=function(){return(Kb=a._emscripten_bind_Polygon_size_0=a.asm.S).apply(null,arguments)},Lb=a._emscripten_bind_Polygon_get_ps_1=function(){return(Lb=a._emscripten_bind_Polygon_get_ps_1=a.asm.T).apply(null,arguments)},Mb=a._emscripten_bind_Polygon_set_ps_2=function(){return(Mb=a._emscripten_bind_Polygon_set_ps_2=a.asm.U).apply(null,arguments)},Nb=a._emscripten_bind_Polygon___destroy___0=function(){return(Nb=a._emscripten_bind_Polygon___destroy___0=\na.asm.V).apply(null,arguments)},Ob=a._emscripten_bind_Point_Point_0=function(){return(Ob=a._emscripten_bind_Point_Point_0=a.asm.W).apply(null,arguments)},Pb=a._emscripten_bind_Point_Point_2=function(){return(Pb=a._emscripten_bind_Point_Point_2=a.asm.X).apply(null,arguments)},Qb=a._emscripten_bind_Point_equal_1=function(){return(Qb=a._emscripten_bind_Point_equal_1=a.asm.Y).apply(null,arguments)},Rb=a._emscripten_bind_Point_get_x_0=function(){return(Rb=a._emscripten_bind_Point_get_x_0=a.asm.Z).apply(null,\narguments)},Sb=a._emscripten_bind_Point_set_x_1=function(){return(Sb=a._emscripten_bind_Point_set_x_1=a.asm._).apply(null,arguments)},Tb=a._emscripten_bind_Point_get_y_0=function(){return(Tb=a._emscripten_bind_Point_get_y_0=a.asm.$).apply(null,arguments)},Ub=a._emscripten_bind_Point_set_y_1=function(){return(Ub=a._emscripten_bind_Point_set_y_1=a.asm.aa).apply(null,arguments)},Vb=a._emscripten_bind_Point_get_id_0=function(){return(Vb=a._emscripten_bind_Point_get_id_0=a.asm.ba).apply(null,arguments)},\nWb=a._emscripten_bind_Point_set_id_1=function(){return(Wb=a._emscripten_bind_Point_set_id_1=a.asm.ca).apply(null,arguments)},Xb=a._emscripten_bind_Point_get_vn_0=function(){return(Xb=a._emscripten_bind_Point_get_vn_0=a.asm.da).apply(null,arguments)},Yb=a._emscripten_bind_Point_set_vn_1=function(){return(Yb=a._emscripten_bind_Point_set_vn_1=a.asm.ea).apply(null,arguments)},Zb=a._emscripten_bind_Point___destroy___0=function(){return(Zb=a._emscripten_bind_Point___destroy___0=a.asm.fa).apply(null,arguments)},\n$b=a._emscripten_bind_Rectangle_Rectangle_3=function(){return($b=a._emscripten_bind_Rectangle_Rectangle_3=a.asm.ga).apply(null,arguments)},ac=a._emscripten_bind_Rectangle___destroy___0=function(){return(ac=a._emscripten_bind_Rectangle___destroy___0=a.asm.ha).apply(null,arguments)},bc=a._emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0=function(){return(bc=a._emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0=a.asm.ia).apply(null,arguments)},cc=a._emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2=\nfunction(){return(cc=a._emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2=a.asm.ja).apply(null,arguments)},dc=a._emscripten_bind_HyperedgeTreeNode___destroy___0=function(){return(dc=a._emscripten_bind_HyperedgeTreeNode___destroy___0=a.asm.ka).apply(null,arguments)},ec=a._emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3=function(){return(ec=a._emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3=a.asm.la).apply(null,arguments)},fc=a._emscripten_bind_HyperedgeTreeEdge___destroy___0=function(){return(fc=\na._emscripten_bind_HyperedgeTreeEdge___destroy___0=a.asm.ma).apply(null,arguments)},hc=a._emscripten_bind_AStarPath_AStarPath_0=function(){return(hc=a._emscripten_bind_AStarPath_AStarPath_0=a.asm.na).apply(null,arguments)},ic=a._emscripten_bind_AStarPath_search_4=function(){return(ic=a._emscripten_bind_AStarPath_search_4=a.asm.oa).apply(null,arguments)},jc=a._emscripten_bind_AStarPath___destroy___0=function(){return(jc=a._emscripten_bind_AStarPath___destroy___0=a.asm.pa).apply(null,arguments)},kc=\na._emscripten_bind_ConnEnd_ConnEnd_1=function(){return(kc=a._emscripten_bind_ConnEnd_ConnEnd_1=a.asm.qa).apply(null,arguments)},lc=a._emscripten_bind_ConnEnd_ConnEnd_2=function(){return(lc=a._emscripten_bind_ConnEnd_ConnEnd_2=a.asm.ra).apply(null,arguments)},mc=a._emscripten_bind_ConnEnd___destroy___0=function(){return(mc=a._emscripten_bind_ConnEnd___destroy___0=a.asm.sa).apply(null,arguments)},nc=a._emscripten_bind_ActionInfo_ActionInfo_2=function(){return(nc=a._emscripten_bind_ActionInfo_ActionInfo_2=\na.asm.ta).apply(null,arguments)},oc=a._emscripten_bind_ActionInfo_ActionInfo_3=function(){return(oc=a._emscripten_bind_ActionInfo_ActionInfo_3=a.asm.ua).apply(null,arguments)},pc=a._emscripten_bind_ActionInfo_ActionInfo_4=function(){return(pc=a._emscripten_bind_ActionInfo_ActionInfo_4=a.asm.va).apply(null,arguments)},qc=a._emscripten_bind_ActionInfo_obstacle_0=function(){return(qc=a._emscripten_bind_ActionInfo_obstacle_0=a.asm.wa).apply(null,arguments)},rc=a._emscripten_bind_ActionInfo_shape_0=function(){return(rc=\na._emscripten_bind_ActionInfo_shape_0=a.asm.xa).apply(null,arguments)},sc=a._emscripten_bind_ActionInfo_conn_0=function(){return(sc=a._emscripten_bind_ActionInfo_conn_0=a.asm.ya).apply(null,arguments)},tc=a._emscripten_bind_ActionInfo_junction_0=function(){return(tc=a._emscripten_bind_ActionInfo_junction_0=a.asm.za).apply(null,arguments)},uc=a._emscripten_bind_ActionInfo_addConnEndUpdate_3=function(){return(uc=a._emscripten_bind_ActionInfo_addConnEndUpdate_3=a.asm.Aa).apply(null,arguments)},vc=a._emscripten_bind_ActionInfo_get_type_0=\nfunction(){return(vc=a._emscripten_bind_ActionInfo_get_type_0=a.asm.Ba).apply(null,arguments)},wc=a._emscripten_bind_ActionInfo_set_type_1=function(){return(wc=a._emscripten_bind_ActionInfo_set_type_1=a.asm.Ca).apply(null,arguments)},xc=a._emscripten_bind_ActionInfo_get_objPtr_0=function(){return(xc=a._emscripten_bind_ActionInfo_get_objPtr_0=a.asm.Da).apply(null,arguments)},yc=a._emscripten_bind_ActionInfo_set_objPtr_1=function(){return(yc=a._emscripten_bind_ActionInfo_set_objPtr_1=a.asm.Ea).apply(null,\narguments)},zc=a._emscripten_bind_ActionInfo_get_newPoly_0=function(){return(zc=a._emscripten_bind_ActionInfo_get_newPoly_0=a.asm.Fa).apply(null,arguments)},Ac=a._emscripten_bind_ActionInfo_set_newPoly_1=function(){return(Ac=a._emscripten_bind_ActionInfo_set_newPoly_1=a.asm.Ga).apply(null,arguments)},Bc=a._emscripten_bind_ActionInfo_get_newPosition_0=function(){return(Bc=a._emscripten_bind_ActionInfo_get_newPosition_0=a.asm.Ha).apply(null,arguments)},Cc=a._emscripten_bind_ActionInfo_set_newPosition_1=\nfunction(){return(Cc=a._emscripten_bind_ActionInfo_set_newPosition_1=a.asm.Ia).apply(null,arguments)},Dc=a._emscripten_bind_ActionInfo_get_firstMove_0=function(){return(Dc=a._emscripten_bind_ActionInfo_get_firstMove_0=a.asm.Ja).apply(null,arguments)},Ec=a._emscripten_bind_ActionInfo_set_firstMove_1=function(){return(Ec=a._emscripten_bind_ActionInfo_set_firstMove_1=a.asm.Ka).apply(null,arguments)},Fc=a._emscripten_bind_ActionInfo___destroy___0=function(){return(Fc=a._emscripten_bind_ActionInfo___destroy___0=\na.asm.La).apply(null,arguments)},Gc=a._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2=function(){return(Gc=a._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2=a.asm.Ma).apply(null,arguments)},Hc=a._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3=function(){return(Hc=a._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3=a.asm.Na).apply(null,arguments)},Ic=a._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6=function(){return(Ic=a._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6=\na.asm.Oa).apply(null,arguments)},Jc=a._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7=function(){return(Jc=a._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7=a.asm.Pa).apply(null,arguments)},Kc=a._emscripten_bind_ShapeConnectionPin_setConnectionCost_1=function(){return(Kc=a._emscripten_bind_ShapeConnectionPin_setConnectionCost_1=a.asm.Qa).apply(null,arguments)},Lc=a._emscripten_bind_ShapeConnectionPin_position_0=function(){return(Lc=a._emscripten_bind_ShapeConnectionPin_position_0=\na.asm.Ra).apply(null,arguments)},Mc=a._emscripten_bind_ShapeConnectionPin_position_1=function(){return(Mc=a._emscripten_bind_ShapeConnectionPin_position_1=a.asm.Sa).apply(null,arguments)},Nc=a._emscripten_bind_ShapeConnectionPin_directions_0=function(){return(Nc=a._emscripten_bind_ShapeConnectionPin_directions_0=a.asm.Ta).apply(null,arguments)},Oc=a._emscripten_bind_ShapeConnectionPin_setExclusive_1=function(){return(Oc=a._emscripten_bind_ShapeConnectionPin_setExclusive_1=a.asm.Ua).apply(null,arguments)},\nPc=a._emscripten_bind_ShapeConnectionPin_isExclusive_0=function(){return(Pc=a._emscripten_bind_ShapeConnectionPin_isExclusive_0=a.asm.Va).apply(null,arguments)},Qc=a._emscripten_bind_ShapeConnectionPin___destroy___0=function(){return(Qc=a._emscripten_bind_ShapeConnectionPin___destroy___0=a.asm.Wa).apply(null,arguments)},Rc=a._emscripten_bind_Obstacle_id_0=function(){return(Rc=a._emscripten_bind_Obstacle_id_0=a.asm.Xa).apply(null,arguments)},Sc=a._emscripten_bind_Obstacle_polygon_0=function(){return(Sc=\na._emscripten_bind_Obstacle_polygon_0=a.asm.Ya).apply(null,arguments)},Tc=a._emscripten_bind_Obstacle_router_0=function(){return(Tc=a._emscripten_bind_Obstacle_router_0=a.asm.Za).apply(null,arguments)},Uc=a._emscripten_bind_Obstacle_position_0=function(){return(Uc=a._emscripten_bind_Obstacle_position_0=a.asm._a).apply(null,arguments)},Vc=a._emscripten_bind_Obstacle___destroy___0=function(){return(Vc=a._emscripten_bind_Obstacle___destroy___0=a.asm.$a).apply(null,arguments)},Wc=a._emscripten_bind_JunctionRef_JunctionRef_2=\nfunction(){return(Wc=a._emscripten_bind_JunctionRef_JunctionRef_2=a.asm.ab).apply(null,arguments)},Xc=a._emscripten_bind_JunctionRef_JunctionRef_3=function(){return(Xc=a._emscripten_bind_JunctionRef_JunctionRef_3=a.asm.bb).apply(null,arguments)},Yc=a._emscripten_bind_JunctionRef_position_0=function(){return(Yc=a._emscripten_bind_JunctionRef_position_0=a.asm.cb).apply(null,arguments)},Zc=a._emscripten_bind_JunctionRef___destroy___0=function(){return(Zc=a._emscripten_bind_JunctionRef___destroy___0=\na.asm.db).apply(null,arguments)},$c=a._emscripten_bind_ShapeRef_ShapeRef_2=function(){return($c=a._emscripten_bind_ShapeRef_ShapeRef_2=a.asm.eb).apply(null,arguments)},ad=a._emscripten_bind_ShapeRef_ShapeRef_3=function(){return(ad=a._emscripten_bind_ShapeRef_ShapeRef_3=a.asm.fb).apply(null,arguments)},bd=a._emscripten_bind_ShapeRef_polygon_0=function(){return(bd=a._emscripten_bind_ShapeRef_polygon_0=a.asm.gb).apply(null,arguments)},cd=a._emscripten_bind_ShapeRef_position_0=function(){return(cd=a._emscripten_bind_ShapeRef_position_0=\na.asm.hb).apply(null,arguments)},dd=a._emscripten_bind_ShapeRef___destroy___0=function(){return(dd=a._emscripten_bind_ShapeRef___destroy___0=a.asm.ib).apply(null,arguments)},ed=a._emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0=function(){return(ed=a._emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0=a.asm.jb).apply(null,arguments)},fd=a._emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0=function(){return(fd=a._emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0=\na.asm.kb).apply(null,arguments)},gd=a._emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1=function(){return(gd=a._emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1=a.asm.lb).apply(null,arguments)},hd=a._emscripten_bind_HyperedgeRerouter___destroy___0=function(){return(hd=a._emscripten_bind_HyperedgeRerouter___destroy___0=a.asm.mb).apply(null,arguments)},id=a._emscripten_bind_VertInf___destroy___0=function(){return(id=a._emscripten_bind_VertInf___destroy___0=a.asm.nb).apply(null,\narguments)},jd=a._emscripten_bind_VertID_VertID_0=function(){return(jd=a._emscripten_bind_VertID_VertID_0=a.asm.ob).apply(null,arguments)},kd=a._emscripten_bind_VertID_VertID_2=function(){return(kd=a._emscripten_bind_VertID_VertID_2=a.asm.pb).apply(null,arguments)},ld=a._emscripten_bind_VertID_VertID_3=function(){return(ld=a._emscripten_bind_VertID_VertID_3=a.asm.qb).apply(null,arguments)},md=a._emscripten_bind_VertID_get_objID_0=function(){return(md=a._emscripten_bind_VertID_get_objID_0=a.asm.rb).apply(null,\narguments)},nd=a._emscripten_bind_VertID_set_objID_1=function(){return(nd=a._emscripten_bind_VertID_set_objID_1=a.asm.sb).apply(null,arguments)},od=a._emscripten_bind_VertID_get_vn_0=function(){return(od=a._emscripten_bind_VertID_get_vn_0=a.asm.tb).apply(null,arguments)},pd=a._emscripten_bind_VertID_set_vn_1=function(){return(pd=a._emscripten_bind_VertID_set_vn_1=a.asm.ub).apply(null,arguments)},qd=a._emscripten_bind_VertID_get_props_0=function(){return(qd=a._emscripten_bind_VertID_get_props_0=a.asm.vb).apply(null,\narguments)},rd=a._emscripten_bind_VertID_set_props_1=function(){return(rd=a._emscripten_bind_VertID_set_props_1=a.asm.wb).apply(null,arguments)},sd=a._emscripten_bind_VertID_get_src_0=function(){return(sd=a._emscripten_bind_VertID_get_src_0=a.asm.xb).apply(null,arguments)},td=a._emscripten_bind_VertID_get_tar_0=function(){return(td=a._emscripten_bind_VertID_get_tar_0=a.asm.yb).apply(null,arguments)},ud=a._emscripten_bind_VertID_get_PROP_ConnPoint_0=function(){return(ud=a._emscripten_bind_VertID_get_PROP_ConnPoint_0=\na.asm.zb).apply(null,arguments)},vd=a._emscripten_bind_VertID_get_PROP_OrthShapeEdge_0=function(){return(vd=a._emscripten_bind_VertID_get_PROP_OrthShapeEdge_0=a.asm.Ab).apply(null,arguments)},wd=a._emscripten_bind_VertID_get_PROP_ConnectionPin_0=function(){return(wd=a._emscripten_bind_VertID_get_PROP_ConnectionPin_0=a.asm.Bb).apply(null,arguments)},xd=a._emscripten_bind_VertID_get_PROP_ConnCheckpoint_0=function(){return(xd=a._emscripten_bind_VertID_get_PROP_ConnCheckpoint_0=a.asm.Cb).apply(null,arguments)},\nyd=a._emscripten_bind_VertID_get_PROP_DummyPinHelper_0=function(){return(yd=a._emscripten_bind_VertID_get_PROP_DummyPinHelper_0=a.asm.Db).apply(null,arguments)},zd=a._emscripten_bind_VertID___destroy___0=function(){return(zd=a._emscripten_bind_VertID___destroy___0=a.asm.Eb).apply(null,arguments)},Ad=a._emscripten_bind_MinimumTerminalSpanningTree___destroy___0=function(){return(Ad=a._emscripten_bind_MinimumTerminalSpanningTree___destroy___0=a.asm.Fb).apply(null,arguments)},Bd=a._emscripten_bind_Checkpoint_Checkpoint_1=\nfunction(){return(Bd=a._emscripten_bind_Checkpoint_Checkpoint_1=a.asm.Gb).apply(null,arguments)},Cd=a._emscripten_bind_Checkpoint___destroy___0=function(){return(Cd=a._emscripten_bind_Checkpoint___destroy___0=a.asm.Hb).apply(null,arguments)},Dd=a._emscripten_bind_ConnRef_ConnRef_3=function(){return(Dd=a._emscripten_bind_ConnRef_ConnRef_3=a.asm.Ib).apply(null,arguments)},Ed=a._emscripten_bind_ConnRef_ConnRef_4=function(){return(Ed=a._emscripten_bind_ConnRef_ConnRef_4=a.asm.Jb).apply(null,arguments)},\nFd=a._emscripten_bind_ConnRef_id_0=function(){return(Fd=a._emscripten_bind_ConnRef_id_0=a.asm.Kb).apply(null,arguments)},Gd=a._emscripten_bind_ConnRef_setCallback_2=function(){return(Gd=a._emscripten_bind_ConnRef_setCallback_2=a.asm.Lb).apply(null,arguments)},Hd=a._emscripten_bind_ConnRef_setSourceEndpoint_1=function(){return(Hd=a._emscripten_bind_ConnRef_setSourceEndpoint_1=a.asm.Mb).apply(null,arguments)},Id=a._emscripten_bind_ConnRef_setDestEndpoint_1=function(){return(Id=a._emscripten_bind_ConnRef_setDestEndpoint_1=\na.asm.Nb).apply(null,arguments)},Jd=a._emscripten_bind_ConnRef_routingType_0=function(){return(Jd=a._emscripten_bind_ConnRef_routingType_0=a.asm.Ob).apply(null,arguments)},Kd=a._emscripten_bind_ConnRef_setRoutingType_1=function(){return(Kd=a._emscripten_bind_ConnRef_setRoutingType_1=a.asm.Pb).apply(null,arguments)},Ld=a._emscripten_bind_ConnRef_displayRoute_0=function(){return(Ld=a._emscripten_bind_ConnRef_displayRoute_0=a.asm.Qb).apply(null,arguments)},Md=a._emscripten_bind_ConnRef___destroy___0=\nfunction(){return(Md=a._emscripten_bind_ConnRef___destroy___0=a.asm.Rb).apply(null,arguments)},Nd=a._emscripten_bind_EdgeInf_EdgeInf_2=function(){return(Nd=a._emscripten_bind_EdgeInf_EdgeInf_2=a.asm.Sb).apply(null,arguments)},Od=a._emscripten_bind_EdgeInf_EdgeInf_3=function(){return(Od=a._emscripten_bind_EdgeInf_EdgeInf_3=a.asm.Tb).apply(null,arguments)},Pd=a._emscripten_bind_EdgeInf___destroy___0=function(){return(Pd=a._emscripten_bind_EdgeInf___destroy___0=a.asm.Ub).apply(null,arguments)},Qd=a._emscripten_bind_LineRep_get_begin_0=\nfunction(){return(Qd=a._emscripten_bind_LineRep_get_begin_0=a.asm.Vb).apply(null,arguments)},Rd=a._emscripten_bind_LineRep_set_begin_1=function(){return(Rd=a._emscripten_bind_LineRep_set_begin_1=a.asm.Wb).apply(null,arguments)},Sd=a._emscripten_bind_LineRep_get_end_0=function(){return(Sd=a._emscripten_bind_LineRep_get_end_0=a.asm.Xb).apply(null,arguments)},Td=a._emscripten_bind_LineRep_set_end_1=function(){return(Td=a._emscripten_bind_LineRep_set_end_1=a.asm.Yb).apply(null,arguments)},Ud=a._emscripten_bind_LineRep___destroy___0=\nfunction(){return(Ud=a._emscripten_bind_LineRep___destroy___0=a.asm.Zb).apply(null,arguments)},Vd=a._emscripten_bind_Router_Router_1=function(){return(Vd=a._emscripten_bind_Router_Router_1=a.asm._b).apply(null,arguments)},Wd=a._emscripten_bind_Router_processTransaction_0=function(){return(Wd=a._emscripten_bind_Router_processTransaction_0=a.asm.$b).apply(null,arguments)},Xd=a._emscripten_bind_Router_printInfo_0=function(){return(Xd=a._emscripten_bind_Router_printInfo_0=a.asm.ac).apply(null,arguments)},\nYd=a._emscripten_bind_Router_deleteConnector_1=function(){return(Yd=a._emscripten_bind_Router_deleteConnector_1=a.asm.bc).apply(null,arguments)},Zd=a._emscripten_bind_Router_moveShape_3=function(){return(Zd=a._emscripten_bind_Router_moveShape_3=a.asm.cc).apply(null,arguments)},$d=a._emscripten_bind_Router___destroy___0=function(){return($d=a._emscripten_bind_Router___destroy___0=a.asm.dc).apply(null,arguments)},ae=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirNone=function(){return(ae=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirNone=\na.asm.ec).apply(null,arguments)},be=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirUp=function(){return(be=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirUp=a.asm.fc).apply(null,arguments)},ce=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirDown=function(){return(ce=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirDown=a.asm.gc).apply(null,arguments)},de=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft=function(){return(de=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft=a.asm.hc).apply(null,arguments)},ee=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirRight=\nfunction(){return(ee=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirRight=a.asm.ic).apply(null,arguments)},fe=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirAll=function(){return(fe=a._emscripten_enum_Avoid_ConnDirFlag_ConnDirAll=a.asm.jc).apply(null,arguments)},ge=a._emscripten_enum_Avoid_ConnEndType_ConnEndPoint=function(){return(ge=a._emscripten_enum_Avoid_ConnEndType_ConnEndPoint=a.asm.kc).apply(null,arguments)},he=a._emscripten_enum_Avoid_ConnEndType_ConnEndShapePin=function(){return(he=a._emscripten_enum_Avoid_ConnEndType_ConnEndShapePin=\na.asm.lc).apply(null,arguments)},ie=a._emscripten_enum_Avoid_ConnEndType_ConnEndJunction=function(){return(ie=a._emscripten_enum_Avoid_ConnEndType_ConnEndJunction=a.asm.mc).apply(null,arguments)},je=a._emscripten_enum_Avoid_ConnEndType_ConnEndEmpty=function(){return(je=a._emscripten_enum_Avoid_ConnEndType_ConnEndEmpty=a.asm.nc).apply(null,arguments)},ke=a._emscripten_enum_Avoid_ActionType_ShapeMove=function(){return(ke=a._emscripten_enum_Avoid_ActionType_ShapeMove=a.asm.oc).apply(null,arguments)},\nle=a._emscripten_enum_Avoid_ActionType_ShapeAdd=function(){return(le=a._emscripten_enum_Avoid_ActionType_ShapeAdd=a.asm.pc).apply(null,arguments)},me=a._emscripten_enum_Avoid_ActionType_ShapeRemove=function(){return(me=a._emscripten_enum_Avoid_ActionType_ShapeRemove=a.asm.qc).apply(null,arguments)},ne=a._emscripten_enum_Avoid_ActionType_JunctionMove=function(){return(ne=a._emscripten_enum_Avoid_ActionType_JunctionMove=a.asm.rc).apply(null,arguments)},oe=a._emscripten_enum_Avoid_ActionType_JunctionAdd=\nfunction(){return(oe=a._emscripten_enum_Avoid_ActionType_JunctionAdd=a.asm.sc).apply(null,arguments)},pe=a._emscripten_enum_Avoid_ActionType_JunctionRemove=function(){return(pe=a._emscripten_enum_Avoid_ActionType_JunctionRemove=a.asm.tc).apply(null,arguments)},qe=a._emscripten_enum_Avoid_ActionType_ConnChange=function(){return(qe=a._emscripten_enum_Avoid_ActionType_ConnChange=a.asm.uc).apply(null,arguments)},re=a._emscripten_enum_Avoid_ActionType_ConnectionPinChange=function(){return(re=a._emscripten_enum_Avoid_ActionType_ConnectionPinChange=\na.asm.vc).apply(null,arguments)},se=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90=function(){return(se=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90=a.asm.wc).apply(null,arguments)},te=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180=function(){return(te=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180=a.asm.xc).apply(null,arguments)},ue=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270=\nfunction(){return(ue=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270=a.asm.yc).apply(null,arguments)},ve=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX=function(){return(ve=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX=a.asm.zc).apply(null,arguments)},we=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY=function(){return(we=a._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY=\na.asm.Ac).apply(null,arguments)},xe=a._emscripten_enum_Avoid_ConnType_ConnType_None=function(){return(xe=a._emscripten_enum_Avoid_ConnType_ConnType_None=a.asm.Bc).apply(null,arguments)},ye=a._emscripten_enum_Avoid_ConnType_ConnType_PolyLine=function(){return(ye=a._emscripten_enum_Avoid_ConnType_ConnType_PolyLine=a.asm.Cc).apply(null,arguments)},ze=a._emscripten_enum_Avoid_ConnType_ConnType_Orthogonal=function(){return(ze=a._emscripten_enum_Avoid_ConnType_ConnType_Orthogonal=a.asm.Dc).apply(null,arguments)},\nAe=a._emscripten_enum_Avoid_RouterFlag_PolyLineRouting=function(){return(Ae=a._emscripten_enum_Avoid_RouterFlag_PolyLineRouting=a.asm.Ec).apply(null,arguments)},Be=a._emscripten_enum_Avoid_RouterFlag_OrthogonalRouting=function(){return(Be=a._emscripten_enum_Avoid_RouterFlag_OrthogonalRouting=a.asm.Fc).apply(null,arguments)},Ce;La=function De(){Ce||Ee();Ce||(La=De)};\nfunction Ee(){function b(){if(!Ce&&(Ce=!0,a.calledRun=!0,!wa)){Ga=!0;Ra(Da);Ra(Ea);aa(a);if(a.onRuntimeInitialized)a.onRuntimeInitialized();if(a.postRun)for(\"function\"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var c=a.postRun.shift();Fa.unshift(c)}Ra(Fa)}}if(!(0<Ja)){if(a.preRun)for(\"function\"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)Ia();Ra(Ca);0<Ja||(a.setStatus?(a.setStatus(\"Running...\"),setTimeout(function(){setTimeout(function(){a.setStatus(\"\")},1);b()},1)):\nb())}}a.run=Ee;if(a.preInit)for(\"function\"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();Ee();function u(){}u.prototype=Object.create(u.prototype);u.prototype.constructor=u;u.prototype.Hc=u;u.Ic={};a.WrapperObject=u;function v(b){return(b||u).Ic}a.getCache=v;function w(b,c){var d=v(c),e=d[b];if(e)return e;e=Object.create((c||u).prototype);e.Gc=b;return d[b]=e}a.wrapPointer=w;a.castObject=function(b,c){return w(b.Gc,c)};a.NULL=w(0);\na.destroy=function(b){if(!b.__destroy__)throw\"Error: Cannot destroy object. (Did you create it yourself?)\";b.__destroy__();delete v(b.Hc)[b.Gc]};a.compare=function(b,c){return b.Gc===c.Gc};a.getPointer=function(b){return b.Gc};a.getClass=function(b){return b.Hc};var Fe=0,Ge=0,He=[],Ie=0;function x(){throw\"cannot construct a VoidPtr, no constructor in IDL\";}x.prototype=Object.create(u.prototype);x.prototype.constructor=x;x.prototype.Hc=x;x.Ic={};a.VoidPtr=x;x.prototype.__destroy__=function(){kb(this.Gc)};\nfunction z(){this.Gc=lb();v(z)[this.Gc]=this}z.prototype=Object.create(u.prototype);z.prototype.constructor=z;z.prototype.Hc=z;z.Ic={};a.HyperedgeImprover=z;z.prototype.clear=z.prototype.clear=function(){mb(this.Gc)};z.prototype.setRouter=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);nb(c,b)};z.prototype.__destroy__=function(){ob(this.Gc)};function A(){this.Gc=pb();v(A)[this.Gc]=this}A.prototype=Object.create(u.prototype);A.prototype.constructor=A;A.prototype.Hc=A;A.Ic={};a.Box=A;\nA.prototype.length=A.prototype.length=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);return qb(c,b)};A.prototype.width=A.prototype.width=function(){return rb(this.Gc)};A.prototype.height=A.prototype.height=function(){return sb(this.Gc)};A.prototype.get_min=A.prototype.ed=function(){return w(tb(this.Gc),B)};A.prototype.set_min=A.prototype.zd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);ub(c,b)};Object.defineProperty(A.prototype,\"min\",{get:A.prototype.ed,set:A.prototype.zd});\nA.prototype.get_max=A.prototype.dd=function(){return w(vb(this.Gc),B)};A.prototype.set_max=A.prototype.yd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);wb(c,b)};Object.defineProperty(A.prototype,\"max\",{get:A.prototype.dd,set:A.prototype.yd});A.prototype.__destroy__=function(){xb(this.Gc)};function C(){throw\"cannot construct a PolygonInterface, no constructor in IDL\";}C.prototype=Object.create(u.prototype);C.prototype.constructor=C;C.prototype.Hc=C;C.Ic={};a.PolygonInterface=C;\nC.prototype.clear=C.prototype.clear=function(){yb(this.Gc)};C.prototype.empty=C.prototype.empty=function(){return!!zb(this.Gc)};C.prototype.size=C.prototype.size=function(){return Ab(this.Gc)};C.prototype.id=C.prototype.id=function(){return Bb(this.Gc)};C.prototype.at=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);return w(Cb(c,b),B)};C.prototype.boundingRectPolygon=function(){return w(Db(this.Gc),E)};\nC.prototype.offsetBoundingBox=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);return w(Eb(c,b),A)};C.prototype.offsetPolygon=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);return w(Fb(c,b),E)};C.prototype.__destroy__=function(){Gb(this.Gc)};function E(b){b&&\"object\"===typeof b&&(b=b.Gc);this.Gc=void 0===b?Hb():Ib(b);v(E)[this.Gc]=this}E.prototype=Object.create(u.prototype);E.prototype.constructor=E;E.prototype.Hc=E;E.Ic={};a.Polygon=E;\nE.prototype.setPoint=function(b,c){var d=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);Jb(d,b,c)};E.prototype.size=E.prototype.size=function(){return Kb(this.Gc)};E.prototype.get_ps=E.prototype.md=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);return w(Lb(c,b),B)};\nE.prototype.set_ps=E.prototype.Fd=function(b,c){var d=this.Gc;if(Ie){for(var e=0;e<He.length;e++)a._free(He[e]);He.length=0;a._free(Fe);Fe=0;Ge+=Ie;Ie=0}Fe||(Ge+=128,Fe=a._malloc(Ge),assert(Fe));b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);Mb(d,b,c)};Object.defineProperty(E.prototype,\"ps\",{get:E.prototype.md,set:E.prototype.Fd});E.prototype.__destroy__=function(){Nb(this.Gc)};\nfunction B(b,c){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);this.Gc=void 0===b?Ob():void 0===c?_emscripten_bind_Point_Point_1(b):Pb(b,c);v(B)[this.Gc]=this}B.prototype=Object.create(u.prototype);B.prototype.constructor=B;B.prototype.Hc=B;B.Ic={};a.Point=B;B.prototype.equal=B.prototype.equal=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);return!!Qb(c,b)};B.prototype.get_x=B.prototype.pd=function(){return Rb(this.Gc)};\nB.prototype.set_x=B.prototype.Id=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Sb(c,b)};Object.defineProperty(B.prototype,\"x\",{get:B.prototype.pd,set:B.prototype.Id});B.prototype.get_y=B.prototype.qd=function(){return Tb(this.Gc)};B.prototype.set_y=B.prototype.Jd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Ub(c,b)};Object.defineProperty(B.prototype,\"y\",{get:B.prototype.qd,set:B.prototype.Jd});B.prototype.get_id=B.prototype.cd=function(){return Vb(this.Gc)};\nB.prototype.set_id=B.prototype.xd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Wb(c,b)};Object.defineProperty(B.prototype,\"id\",{get:B.prototype.cd,set:B.prototype.xd});B.prototype.get_vn=B.prototype.Qc=function(){return Xb(this.Gc)};B.prototype.set_vn=B.prototype.Sc=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Yb(c,b)};Object.defineProperty(B.prototype,\"vn\",{get:B.prototype.Qc,set:B.prototype.Sc});B.prototype.__destroy__=function(){Zb(this.Gc)};\nfunction G(b,c,d){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);this.Gc=$b(b,c,d);v(G)[this.Gc]=this}G.prototype=Object.create(u.prototype);G.prototype.constructor=G;G.prototype.Hc=G;G.Ic={};a.Rectangle=G;G.prototype.__destroy__=function(){ac(this.Gc)};function H(){this.Gc=bc();v(H)[this.Gc]=this}H.prototype=Object.create(u.prototype);H.prototype.constructor=H;H.prototype.Hc=H;H.Ic={};a.HyperedgeTreeNode=H;\nH.prototype.writeEdgesToConns=function(b,c){var d=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);cc(d,b,c)};H.prototype.__destroy__=function(){dc(this.Gc)};function J(b,c,d){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);this.Gc=ec(b,c,d);v(J)[this.Gc]=this}J.prototype=Object.create(u.prototype);J.prototype.constructor=J;J.prototype.Hc=J;J.Ic={};a.HyperedgeTreeEdge=J;J.prototype.__destroy__=function(){fc(this.Gc)};\nfunction K(){this.Gc=hc();v(K)[this.Gc]=this}K.prototype=Object.create(u.prototype);K.prototype.constructor=K;K.prototype.Hc=K;K.Ic={};a.AStarPath=K;K.prototype.search=K.prototype.search=function(b,c,d,e){var g=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);e&&\"object\"===typeof e&&(e=e.Gc);ic(g,b,c,d,e)};K.prototype.__destroy__=function(){jc(this.Gc)};\nfunction L(b,c){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);this.Gc=void 0===c?kc(b):lc(b,c);v(L)[this.Gc]=this}L.prototype=Object.create(u.prototype);L.prototype.constructor=L;L.prototype.Hc=L;L.Ic={};a.ConnEnd=L;L.prototype.__destroy__=function(){mc(this.Gc)};\nfunction M(b,c,d,e){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);e&&\"object\"===typeof e&&(e=e.Gc);this.Gc=void 0===d?nc(b,c):void 0===e?oc(b,c,d):pc(b,c,d,e);v(M)[this.Gc]=this}M.prototype=Object.create(u.prototype);M.prototype.constructor=M;M.prototype.Hc=M;M.Ic={};a.ActionInfo=M;M.prototype.obstacle=function(){return w(qc(this.Gc),N)};M.prototype.shape=M.prototype.shape=function(){return w(rc(this.Gc),O)};\nM.prototype.conn=function(){return w(sc(this.Gc),P)};M.prototype.junction=function(){return w(tc(this.Gc),Q)};M.prototype.addConnEndUpdate=function(b,c,d){var e=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);uc(e,b,c,d)};M.prototype.get_type=M.prototype.Tc=function(){return vc(this.Gc)};M.prototype.set_type=M.prototype.Rc=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);wc(c,b)};\nObject.defineProperty(M.prototype,\"type\",{get:M.prototype.Tc,set:M.prototype.Rc});M.prototype.get_objPtr=M.prototype.kd=function(){return w(xc(this.Gc),x)};M.prototype.set_objPtr=M.prototype.Dd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);yc(c,b)};Object.defineProperty(M.prototype,\"objPtr\",{get:M.prototype.kd,set:M.prototype.Dd});M.prototype.get_newPoly=M.prototype.gd=function(){return w(zc(this.Gc),E)};\nM.prototype.set_newPoly=M.prototype.Ad=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Ac(c,b)};Object.defineProperty(M.prototype,\"newPoly\",{get:M.prototype.gd,set:M.prototype.Ad});M.prototype.get_newPosition=M.prototype.hd=function(){return w(Bc(this.Gc),B)};M.prototype.set_newPosition=M.prototype.Bd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Cc(c,b)};Object.defineProperty(M.prototype,\"newPosition\",{get:M.prototype.hd,set:M.prototype.Bd});\nM.prototype.get_firstMove=M.prototype.bd=function(){return!!Dc(this.Gc)};M.prototype.set_firstMove=M.prototype.wd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Ec(c,b)};Object.defineProperty(M.prototype,\"firstMove\",{get:M.prototype.bd,set:M.prototype.wd});M.prototype.__destroy__=function(){Fc(this.Gc)};\nfunction R(b,c,d,e,g,h,t){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);e&&\"object\"===typeof e&&(e=e.Gc);g&&\"object\"===typeof g&&(g=g.Gc);h&&\"object\"===typeof h&&(h=h.Gc);t&&\"object\"===typeof t&&(t=t.Gc);this.Gc=void 0===d?Gc(b,c):void 0===e?Hc(b,c,d):void 0===g?_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_4(b,c,d,e):void 0===h?_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_5(b,c,d,e,g):void 0===t?Ic(b,c,d,e,g,h):Jc(b,c,d,e,g,\nh,t);v(R)[this.Gc]=this}R.prototype=Object.create(u.prototype);R.prototype.constructor=R;R.prototype.Hc=R;R.Ic={};a.ShapeConnectionPin=R;R.prototype.setConnectionCost=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Kc(c,b)};R.prototype.position=R.prototype.position=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);return void 0===b?w(Lc(c),B):w(Mc(c,b),B)};R.prototype.directions=function(){return Nc(this.Gc)};\nR.prototype.setExclusive=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Oc(c,b)};R.prototype.isExclusive=function(){return!!Pc(this.Gc)};R.prototype.__destroy__=function(){Qc(this.Gc)};function N(){throw\"cannot construct a Obstacle, no constructor in IDL\";}N.prototype=Object.create(u.prototype);N.prototype.constructor=N;N.prototype.Hc=N;N.Ic={};a.Obstacle=N;N.prototype.id=N.prototype.id=function(){return Rc(this.Gc)};N.prototype.polygon=function(){return w(Sc(this.Gc),E)};\nN.prototype.router=function(){return w(Tc(this.Gc),S)};N.prototype.position=N.prototype.position=function(){return w(Uc(this.Gc),B)};N.prototype.__destroy__=function(){Vc(this.Gc)};function Q(b,c,d){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);this.Gc=void 0===d?Wc(b,c):Xc(b,c,d);v(Q)[this.Gc]=this}Q.prototype=Object.create(u.prototype);Q.prototype.constructor=Q;Q.prototype.Hc=Q;Q.Ic={};a.JunctionRef=Q;\nQ.prototype.position=Q.prototype.position=function(){return w(Yc(this.Gc),B)};Q.prototype.__destroy__=function(){Zc(this.Gc)};function O(b,c,d){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);this.Gc=void 0===d?$c(b,c):ad(b,c,d);v(O)[this.Gc]=this}O.prototype=Object.create(u.prototype);O.prototype.constructor=O;O.prototype.Hc=O;O.Ic={};a.ShapeRef=O;O.prototype.polygon=function(){return w(bd(this.Gc),E)};\nO.prototype.position=O.prototype.position=function(){return w(cd(this.Gc),B)};O.prototype.__destroy__=function(){dd(this.Gc)};function T(){throw\"cannot construct a HyperedgeNewAndDeletedObjectLists, no constructor in IDL\";}T.prototype=Object.create(u.prototype);T.prototype.constructor=T;T.prototype.Hc=T;T.Ic={};a.HyperedgeNewAndDeletedObjectLists=T;T.prototype.__destroy__=function(){ed(this.Gc)};function U(){this.Gc=fd();v(U)[this.Gc]=this}U.prototype=Object.create(u.prototype);\nU.prototype.constructor=U;U.prototype.Hc=U;U.Ic={};a.HyperedgeRerouter=U;U.prototype.registerHyperedgeForRerouting=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);return gd(c,b)};U.prototype.__destroy__=function(){hd(this.Gc)};function V(){throw\"cannot construct a VertInf, no constructor in IDL\";}V.prototype=Object.create(u.prototype);V.prototype.constructor=V;V.prototype.Hc=V;V.Ic={};a.VertInf=V;V.prototype.__destroy__=function(){id(this.Gc)};\nfunction W(b,c,d){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);this.Gc=void 0===b?jd():void 0===c?_emscripten_bind_VertID_VertID_1(b):void 0===d?kd(b,c):ld(b,c,d);v(W)[this.Gc]=this}W.prototype=Object.create(u.prototype);W.prototype.constructor=W;W.prototype.Hc=W;W.Ic={};a.VertID=W;W.prototype.get_objID=W.prototype.jd=function(){return md(this.Gc)};\nW.prototype.set_objID=W.prototype.Cd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);nd(c,b)};Object.defineProperty(W.prototype,\"objID\",{get:W.prototype.jd,set:W.prototype.Cd});W.prototype.get_vn=W.prototype.Qc=function(){return od(this.Gc)};W.prototype.set_vn=W.prototype.Sc=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);pd(c,b)};Object.defineProperty(W.prototype,\"vn\",{get:W.prototype.Qc,set:W.prototype.Sc});W.prototype.get_props=W.prototype.ld=function(){return qd(this.Gc)};\nW.prototype.set_props=W.prototype.Ed=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);rd(c,b)};Object.defineProperty(W.prototype,\"props\",{get:W.prototype.ld,set:W.prototype.Ed});W.prototype.get_src=W.prototype.nd=function(){return sd(this.Gc)};Object.defineProperty(W.prototype,\"src\",{get:W.prototype.nd});W.prototype.get_tar=W.prototype.od=function(){return td(this.Gc)};Object.defineProperty(W.prototype,\"tar\",{get:W.prototype.od});W.prototype.get_PROP_ConnPoint=W.prototype.Wc=function(){return ud(this.Gc)};\nObject.defineProperty(W.prototype,\"PROP_ConnPoint\",{get:W.prototype.Wc});W.prototype.get_PROP_OrthShapeEdge=W.prototype.Zc=function(){return vd(this.Gc)};Object.defineProperty(W.prototype,\"PROP_OrthShapeEdge\",{get:W.prototype.Zc});W.prototype.get_PROP_ConnectionPin=W.prototype.Xc=function(){return wd(this.Gc)};Object.defineProperty(W.prototype,\"PROP_ConnectionPin\",{get:W.prototype.Xc});W.prototype.get_PROP_ConnCheckpoint=W.prototype.Vc=function(){return xd(this.Gc)};\nObject.defineProperty(W.prototype,\"PROP_ConnCheckpoint\",{get:W.prototype.Vc});W.prototype.get_PROP_DummyPinHelper=W.prototype.Yc=function(){return yd(this.Gc)};Object.defineProperty(W.prototype,\"PROP_DummyPinHelper\",{get:W.prototype.Yc});W.prototype.__destroy__=function(){zd(this.Gc)};function Je(){throw\"cannot construct a MinimumTerminalSpanningTree, no constructor in IDL\";}Je.prototype=Object.create(u.prototype);Je.prototype.constructor=Je;Je.prototype.Hc=Je;Je.Ic={};\na.MinimumTerminalSpanningTree=Je;Je.prototype.__destroy__=function(){Ad(this.Gc)};function X(b){b&&\"object\"===typeof b&&(b=b.Gc);this.Gc=Bd(b);v(X)[this.Gc]=this}X.prototype=Object.create(u.prototype);X.prototype.constructor=X;X.prototype.Hc=X;X.Ic={};a.Checkpoint=X;X.prototype.__destroy__=function(){Cd(this.Gc)};\nfunction P(b,c,d,e){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);e&&\"object\"===typeof e&&(e=e.Gc);this.Gc=void 0===e?Dd(b,c,d):Ed(b,c,d,e);v(P)[this.Gc]=this}P.prototype=Object.create(u.prototype);P.prototype.constructor=P;P.prototype.Hc=P;P.Ic={};a.ConnRef=P;P.prototype.id=P.prototype.id=function(){return Fd(this.Gc)};\nP.prototype.setCallback=function(b,c){var d=this.Gc;assert(b instanceof Function,\"Expecting function\");if(!ta){ta=new WeakMap;for(var e=0;e<q.length;e++){var g=q.get(e);g&&ta.set(g,e)}}if(ta.has(b))b=ta.get(b);else{if(sa.length)e=sa.pop();else{try{q.grow(1)}catch(F){if(!(F instanceof RangeError))throw F;throw\"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.\";}e=q.length-1}try{q.set(e,b)}catch(F){if(!(F instanceof TypeError))throw F;if(\"function\"===typeof WebAssembly.Function){var h={i:\"i32\",j:\"i64\",\nf:\"f32\",d:\"f64\"},t={parameters:[],results:[]};for(g=1;2>g;++g)t.parameters.push(h[\"vi\"[g]]);g=new WebAssembly.Function(t,b)}else{h=[1,0,1,96];t={i:127,j:126,f:125,d:124};h.push(1);for(g=0;1>g;++g)h.push(t[\"i\"[g]]);h.push(0);h[1]=h.length-2;g=new Uint8Array([0,97,115,109,1,0,0,0].concat(h,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0]));g=new WebAssembly.Module(g);g=(new WebAssembly.Instance(g,{e:{f:b}})).exports.f}q.set(e,g)}ta.set(b,e);b=e}c&&\"object\"===typeof c&&(c=c.Gc);Gd(d,b,c)};\nP.prototype.setSourceEndpoint=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Hd(c,b)};P.prototype.setDestEndpoint=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Id(c,b)};P.prototype.routingType=function(){return Jd(this.Gc)};P.prototype.setRoutingType=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Kd(c,b)};P.prototype.displayRoute=function(){return w(Ld(this.Gc),E)};P.prototype.__destroy__=function(){Md(this.Gc)};\nfunction Y(b,c,d){b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);this.Gc=void 0===d?Nd(b,c):Od(b,c,d);v(Y)[this.Gc]=this}Y.prototype=Object.create(u.prototype);Y.prototype.constructor=Y;Y.prototype.Hc=Y;Y.Ic={};a.EdgeInf=Y;Y.prototype.__destroy__=function(){Pd(this.Gc)};function Z(){throw\"cannot construct a LineRep, no constructor in IDL\";}Z.prototype=Object.create(u.prototype);Z.prototype.constructor=Z;Z.prototype.Hc=Z;Z.Ic={};a.LineRep=Z;\nZ.prototype.get_begin=Z.prototype.$c=function(){return w(Qd(this.Gc),B)};Z.prototype.set_begin=Z.prototype.sd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Rd(c,b)};Object.defineProperty(Z.prototype,\"begin\",{get:Z.prototype.$c,set:Z.prototype.sd});Z.prototype.get_end=Z.prototype.ad=function(){return w(Sd(this.Gc),B)};Z.prototype.set_end=Z.prototype.vd=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Td(c,b)};Object.defineProperty(Z.prototype,\"end\",{get:Z.prototype.ad,set:Z.prototype.vd});\nZ.prototype.__destroy__=function(){Ud(this.Gc)};function S(b){b&&\"object\"===typeof b&&(b=b.Gc);this.Gc=Vd(b);v(S)[this.Gc]=this}S.prototype=Object.create(u.prototype);S.prototype.constructor=S;S.prototype.Hc=S;S.Ic={};a.Router=S;S.prototype.processTransaction=function(){return!!Wd(this.Gc)};S.prototype.printInfo=function(){Xd(this.Gc)};S.prototype.deleteConnector=function(b){var c=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);Yd(c,b)};\nS.prototype.moveShape=function(b,c,d){var e=this.Gc;b&&\"object\"===typeof b&&(b=b.Gc);c&&\"object\"===typeof c&&(c=c.Gc);d&&\"object\"===typeof d&&(d=d.Gc);Zd(e,b,c,d)};S.prototype.__destroy__=function(){$d(this.Gc)};\n(function(){function b(){a.ConnDirNone=ae();a.ConnDirUp=be();a.ConnDirDown=ce();a.ConnDirLeft=de();a.ConnDirRight=ee();a.ConnDirAll=fe();a.ConnEndPoint=ge();a.ConnEndShapePin=he();a.ConnEndJunction=ie();a.ConnEndEmpty=je();a.ShapeMove=ke();a.ShapeAdd=le();a.ShapeRemove=me();a.JunctionMove=ne();a.JunctionAdd=oe();a.JunctionRemove=pe();a.ConnChange=qe();a.ConnectionPinChange=re();a.TransformationType_CW90=se();a.TransformationType_CW180=te();a.TransformationType_CW270=ue();a.TransformationType_FlipX=\nve();a.TransformationType_FlipY=we();a.ConnType_None=xe();a.ConnType_PolyLine=ye();a.ConnType_Orthogonal=ze();a.PolyLineRouting=Ae();a.OrthogonalRouting=Be()}Ga?b():Ea.unshift(b)})();\n\n\n  return initAvoidModule.ready\n}\n);\n})();\nexport default initAvoidModule;","import initAvoid from './generated/libavoid.js';\n// import initAvoid from '../examples/lib/libavoid.js';\n\n\nexport const AvoidLib = {\n  avoidLib: undefined,\n  async load() {\n    if (!this.avoidLib) {\n      this.avoidLib = await initAvoid();\n    } else {\n      console.log('Avoid library is already initialized');\n    }\n  },\n\n  getInstance() {\n    if (!this.avoidLib) {\n      throw new Error('Avoid library should be initialized before using');\n    }\n    return this.avoidLib;\n  }\n};\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport const TYPES = {\n    Action: Symbol('Action'),\n    IActionDispatcher: Symbol('IActionDispatcher'),\n    IActionDispatcherProvider: Symbol('IActionDispatcherProvider'),\n    IActionHandlerInitializer: Symbol('IActionHandlerInitializer'),\n    ActionHandlerRegistration: Symbol('ActionHandlerRegistration'),\n    ActionHandlerRegistryProvider: Symbol('ActionHandlerRegistryProvider'),\n    IAnchorComputer: Symbol('IAnchor'),\n    AnimationFrameSyncer: Symbol('AnimationFrameSyncer'),\n    IButtonHandler: Symbol('IButtonHandler'),\n    ICommandPaletteActionProvider: Symbol('ICommandPaletteActionProvider'),\n    ICommandPaletteActionProviderRegistry: Symbol('ICommandPaletteActionProviderRegistry'),\n    CommandRegistration: Symbol('CommandRegistration'),\n    ICommandStack: Symbol('ICommandStack'),\n    CommandStackOptions: Symbol('CommandStackOptions'),\n    ICommandStackProvider: Symbol('ICommandStackProvider'),\n    IContextMenuItemProvider: Symbol.for(\"IContextMenuProvider\"),\n    IContextMenuProviderRegistry: Symbol.for(\"IContextMenuProviderRegistry\"),\n    IContextMenuService: Symbol.for(\"IContextMenuService\"),\n    IContextMenuServiceProvider: Symbol.for(\"IContextMenuServiceProvider\"),\n    DOMHelper: Symbol('DOMHelper'),\n    IDiagramLocker: Symbol('IDiagramLocker'),\n    IEdgeRouter: Symbol('IEdgeRouter'),\n    IEditLabelValidationDecorator: Symbol('IEditLabelValidationDecorator'),\n    IEditLabelValidator: Symbol('IEditLabelValidator'),\n    HiddenModelViewer: Symbol('HiddenModelViewer'),\n    HiddenVNodePostprocessor: Symbol('HiddenVNodeDecorator'),\n    HoverState: Symbol('HoverState'),\n    KeyListener: Symbol('KeyListener'),\n    LayoutRegistry: Symbol('LayoutRegistry'),\n    Layouter: Symbol('Layouter'),\n    LogLevel: Symbol('LogLevel'),\n    ILogger: Symbol('ILogger'),\n    IModelFactory: Symbol('IModelFactory'),\n    IModelLayoutEngine: Symbol('IModelLayoutEngine'),\n    ModelRendererFactory: Symbol('ModelRendererFactory'),\n    ModelSource: Symbol('ModelSource'),\n    ModelSourceProvider: Symbol('ModelSourceProvider'),\n    ModelViewer: Symbol('ModelViewer'),\n    MouseListener: Symbol('MouseListener'),\n    PatcherProvider: Symbol('PatcherProvider'),\n    IPopupModelProvider: Symbol('IPopupModelProvider'),\n    PopupModelViewer: Symbol('PopupModelViewer'),\n    PopupMouseListener: Symbol('PopupMouseListener'),\n    PopupVNodePostprocessor: Symbol('PopupVNodeDecorator'),\n    SModelElementRegistration: Symbol('SModelElementRegistration'),\n    SModelRegistry: Symbol('SModelRegistry'),\n    ISnapper: Symbol('ISnapper'),\n    SvgExporter: Symbol('SvgExporter'),\n    IToolManager: Symbol('IToolManager'),\n    IUIExtension: Symbol('IUIExtension'),\n    UIExtensionRegistry: Symbol('UIExtensionRegistry'),\n    IVNodePostprocessor: Symbol('IVNodePostprocessor'),\n    ViewRegistration: Symbol('ViewRegistration'),\n    ViewRegistry: Symbol('ViewRegistry'),\n    IViewer: Symbol('IViewer'),\n    ViewerOptions: Symbol('ViewerOptions'),\n    IViewerProvider: Symbol('IViewerProvider'),\n};\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from \"inversify\";\n\n@injectable()\nexport class ProviderRegistry<T, U> {\n    protected elements: Map<string, new (u: U) => T> = new Map;\n\n    register(key: string, cstr: new (u: U) => T) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        if (this.hasKey(key))\n            throw new Error('Key is already registered: ' + key);\n        this.elements.set(key, cstr);\n    }\n\n    deregister(key: string) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        this.elements.delete(key);\n    }\n\n    hasKey(key: string): boolean {\n        return this.elements.has(key);\n    }\n\n    get(key: string, arg: U): T {\n        const existingCstr = this.elements.get(key);\n        if (existingCstr)\n            return new existingCstr(arg);\n        else\n            return this.missing(key, arg);\n    }\n\n    protected missing(key: string, arg: U): T | never {\n        throw new Error('Unknown registry key: ' + key);\n    }\n}\n\n@injectable()\nexport class FactoryRegistry<T, U> {\n    protected elements: Map<string, (u: U) => T> = new Map;\n\n    register(key: string, factory: (u: U) => T) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        if (this.hasKey(key))\n            throw new Error('Key is already registered: ' + key);\n        this.elements.set(key, factory);\n    }\n\n    deregister(key: string) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        this.elements.delete(key);\n    }\n\n    hasKey(key: string): boolean {\n        return this.elements.has(key);\n    }\n\n    get(key: string, arg: U): T {\n        const existingFactory = this.elements.get(key);\n        if (existingFactory)\n            return existingFactory(arg);\n        else\n            return this.missing(key, arg);\n    }\n\n    protected missing(key: string, arg: U): T | never {\n        throw new Error('Unknown registry key: ' + key);\n    }\n}\n\n@injectable()\nexport class InstanceRegistry<T> {\n    protected elements: Map<string, T> = new Map;\n\n    register(key: string, instance: T) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        if (this.hasKey(key))\n            throw new Error('Key is already registered: ' + key);\n        this.elements.set(key, instance);\n    }\n\n    deregister(key: string) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        this.elements.delete(key);\n    }\n\n    hasKey(key: string): boolean {\n        return this.elements.has(key);\n    }\n\n    get(key: string): T {\n        const existingInstance = this.elements.get(key);\n        if (existingInstance)\n            return existingInstance;\n        else\n            return this.missing(key);\n    }\n\n    protected missing(key: string): T | never {\n        throw new Error('Unknown registry key: ' + key);\n    }\n}\n\n@injectable()\nexport class MultiInstanceRegistry<T> {\n    protected elements: Map<string, T[]> = new Map;\n\n    register(key: string, instance: T) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        const instances = this.elements.get(key);\n        if (instances !== undefined)\n            instances.push(instance);\n        else\n            this.elements.set(key, [instance]);\n    }\n\n    deregisterAll(key: string) {\n        if (key === undefined)\n            throw new Error('Key is undefined');\n        this.elements.delete(key);\n    }\n\n    get(key: string): T[] {\n        const existingInstances = this.elements.get(key);\n        if (existingInstances !== undefined)\n            return existingInstances;\n        else\n            return [];\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, multiInject } from \"inversify\";\nimport { TYPES } from \"../../base/types\";\nimport { Point } from \"../../utils/geometry\";\nimport { InstanceRegistry } from \"../../utils/registry\";\nimport { SConnectableElement } from \"./model\";\n\nexport const DIAMOND_ANCHOR_KIND = 'diamond';\nexport const ELLIPTIC_ANCHOR_KIND = 'elliptic';\nexport const RECTANGULAR_ANCHOR_KIND = 'rectangular';\n\nexport interface IAnchorComputer {\n    readonly kind: string;\n\n    /**\n     * Compute an anchor position for routing an edge towards this element.\n     *\n     * The default implementation returns the element's center point. If edges should be connected\n     * differently, e.g. to some point on the boundary of the element's view, the according computation\n     * should be implemented in a subclass by overriding this method.\n     *\n     * @param connectable The node or port an edge should be connected to.\n     * @param referencePoint The point from which the edge is routed towards this elemet, in the same\n     *                       coordintae system as the connectable.\n     * @param offset An optional offset value to be considered in the anchor computation;\n     *               positive values should shift the anchor away from this element, negative values\n     *               should shift the anchor more to the inside. Use this to adapt ot arrow heads.\n     */\n    getAnchor(connectable: SConnectableElement, referencePoint: Point, offset?: number): Point;\n}\n\n\n@injectable()\nexport class AnchorComputerRegistry extends InstanceRegistry<IAnchorComputer> {\n\n    constructor(@multiInject(TYPES.IAnchorComputer) anchors: IAnchorComputer[]) {\n        super();\n        anchors.forEach(anchor => this.register(anchor.kind, anchor));\n    }\n\n    protected get defaultAnchorKind() {\n        return RECTANGULAR_ANCHOR_KIND;\n    }\n\n    get(routerKind: string, anchorKind?: string): IAnchorComputer {\n        return super.get(`${routerKind}:${anchorKind ||this.defaultAnchorKind}`);\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/**\n * A Point is composed of the (x,y) coordinates of an object.\n */\nexport interface Point {\n    readonly x: number\n    readonly y: number\n}\n\n/**\n * (x,y) coordinates of the origin.\n */\nexport const ORIGIN_POINT: Point = Object.freeze({\n    x: 0,\n    y: 0\n});\n\n/**\n * Adds two points.\n * @param {Point} p1 - First point\n * @param {Point} p2 - Second point\n * @returns {Point} The sum of the two points\n */\nexport function add(p1: Point, p2: Point): Point {\n    return {\n        x: p1.x + p2.x,\n        y: p1.y + p2.y\n    };\n}\n\n/**\n * Subtracts two points.\n * @param {Point} p1 - First point\n * @param {Point} p2 - Second point\n * @returns {Point} The difference of the two points\n */\nexport function subtract(p1: Point, p2: Point): Point {\n    return {\n        x: p1.x - p2.x,\n        y: p1.y - p2.y\n    };\n}\n\n/**\n * The Dimension of an object is composed of its width and height.\n */\nexport interface Dimension {\n    readonly width: number\n    readonly height: number\n}\n\n/**\n * A dimension with both width and height set to a negative value, which is considered as undefined.\n */\nexport const EMPTY_DIMENSION: Dimension = Object.freeze({\n    width: -1,\n    height: -1\n});\n\n/**\n * Checks whether the given dimention is valid, i.e. the width and height are non-zero.\n * @param {Dimension} b - Dimension object\n * @returns {boolean}\n */\nexport function isValidDimension(d: Dimension): boolean {\n    return d.width >= 0 && d.height >= 0;\n}\n\n/**\n * The bounds are the position (x, y) and dimension (width, height) of an object.\n */\nexport interface Bounds extends Point, Dimension {\n}\n\nexport const EMPTY_BOUNDS: Bounds = Object.freeze({\n    x: 0,\n    y: 0,\n    width: -1,\n    height: -1\n});\n\nexport function isBounds(element: any): element is Bounds {\n    return 'x' in element\n        && 'y' in element\n        && 'width' in element\n        && 'height' in element;\n}\n\n/**\n * Combines the bounds of two objects into one, so that the new bounds\n * are the minimum bounds that covers both of the original bounds.\n * @param {Bounds} b0 - First bounds object\n * @param {Bounds} b1 - Second bounds object\n * @returns {Bounds} The combined bounds\n */\nexport function combine(b0: Bounds, b1: Bounds): Bounds {\n    if (!isValidDimension(b0))\n        return isValidDimension(b1) ? b1 : EMPTY_BOUNDS;\n    if (!isValidDimension(b1))\n        return b0;\n    const minX = Math.min(b0.x, b1.x);\n    const minY = Math.min(b0.y, b1.y);\n    const maxX = Math.max(b0.x + (b0.width >= 0 ? b0.width : 0), b1.x + (b1.width >= 0 ? b1.width : 0));\n    const maxY = Math.max(b0.y + (b0.height >= 0 ? b0.height : 0), b1.y + (b1.height >= 0 ? b1.height : 0));\n    return {\n        x: minX, y: minY, width: maxX - minX, height: maxY - minY\n    };\n}\n\n/**\n * Translates the given bounds.\n * @param {Bounds} b - Bounds object\n * @param {Point} p - Vector by which to translate the bounds\n * @returns {Bounds} The translated bounds\n */\nexport function translate(b: Bounds, p: Point): Bounds {\n    return {\n        x: b.x + p.x,\n        y: b.y + p.y,\n        width: b.width,\n        height: b.height\n    };\n}\n\n/**\n * Returns the center point of the bounds of an object\n * @param {Bounds} b - Bounds object\n * @returns {Point} the center point\n */\nexport function center(b: Bounds): Point {\n    return {\n        x: b.x + (b.width >= 0 ? 0.5 * b.width : 0),\n        y: b.y + (b.height >= 0 ? 0.5 * b.height : 0)\n    };\n}\n\nexport function centerOfLine(s: Point, e: Point): Point {\n    const b: Bounds = {\n        x: s.x > e.x ? e.x : s.x,\n        y: s.y > e.y ? e.y : s.y,\n        width: Math.abs(e.x - s.x),\n        height: Math.abs(e.y - s.y)\n    };\n    return center(b);\n}\n\n/**\n * Checks whether the point p is included in the bounds b.\n */\nexport function includes(b: Bounds, p: Point): boolean {\n    return p.x >= b.x && p.x <= b.x + b.width && p.y >= b.y && p.y <= b.y + b.height;\n}\n\n/**\n * Represents an object's insets, for top, bottom, left and right\n */\nexport interface Insets {\n    top: number\n    bottom: number\n    left: number\n    right: number\n}\n\n/**\n * Enumeration of possible directions (left, right, up, down)\n * @deprecated do we use this? We should rather use a string type\n */\nexport enum Direction { left, right, up, down }\n\nexport type Orientation = 'north' |'south' |'east' | 'west';\n\n/**\n * Returns the \"straight line\" distance between two points.\n * @param {Point} a - First point\n * @param {Point} b - Second point\n * @returns {number} The Eucledian distance\n */\nexport function euclideanDistance(a: Point, b: Point): number {\n    const dx = b.x - a.x;\n    const dy = b.y - a.y;\n    return Math.sqrt(dx * dx + dy * dy);\n}\n\n/**\n * Returns the distance between two points in a grid, using a\n * strictly vertical and/or horizontal path (versus straight line).\n * @param {Point} a - First point\n * @param {Point} b - Second point\n * @returns {number} The Manhattan distance\n */\nexport function manhattanDistance(a: Point, b: Point): number {\n    return Math.abs(b.x - a.x) + Math.abs(b.y - a.y);\n}\n\n/**\n * Returns the maximum of the horizontal and the vertical distance.\n * @param {Point} a - First point\n * @param {Point} b - Second point\n * @returns {number} The maximum distance\n */\nexport function maxDistance(a: Point, b: Point): number {\n    return Math.max(Math.abs(b.x - a.x), Math.abs(b.y - a.y));\n}\n\n/**\n * Computes the angle in radians of the given point to the x-axis of the coordinate system.\n * The result is in the range [-pi, pi].\n * @param {Point} p - A point in the Eucledian plane\n */\nexport function angleOfPoint(p: Point): number {\n    return Math.atan2(p.y, p.x);\n}\n\n/**\n * Computes the angle in radians between the two given points (relative to the origin of the coordinate system).\n * The result is in the range [0, pi]. Returns NaN if the points are equal.\n * @param {Point} a - First point\n * @param {Point} b - Second point\n */\nexport function angleBetweenPoints(a: Point, b: Point): number {\n    const lengthProduct = Math.sqrt((a.x * a.x + a.y * a.y) * (b.x * b.x + b.y * b.y));\n    if (isNaN(lengthProduct) || lengthProduct === 0)\n        return NaN;\n    const dotProduct = a.x * b.x + a.y * b.y;\n    return Math.acos(dotProduct / lengthProduct);\n}\n\n/**\n * Computes a point that is the original `point` shifted towards `refPoint` by the given `distance`.\n * @param {Point} point - Point to shift\n * @param {Point} refPoint - Point to shift towards\n * @param {Point} distance - Distance to shift\n */\nexport function shiftTowards(point: Point, refPoint: Point, distance: number): Point {\n    const diff = subtract(refPoint, point);\n    const normalized = normalize(diff);\n    const shift = {x: normalized.x * distance, y: normalized.y * distance};\n    return add(point, shift);\n}\n\n/**\n * Computes the normalized vector from the vector given in `point`; that is, computing its unit vector.\n * @param {Point} point - Point representing the vector to be normalized\n * @returns {Point} The normalized point\n */\nexport function normalize(point: Point): Point {\n    const mag = magnitude(point);\n    if (mag === 0 || mag === 1) {\n        return ORIGIN_POINT;\n    }\n    return {\n        x: point.x / mag,\n        y: point.y / mag\n    };\n}\n\n/**\n * Computes the magnitude of the vector given in `point`.\n * @param {Point} point - Point representing the vector to compute the magnitude for\n * @returns {number} The magnitude or also known as length of the `point`\n */\nexport function magnitude(point: Point): number {\n    return Math.sqrt(Math.pow(point.x, 2) + Math.pow(point.y, 2));\n}\n\n/**\n * Converts from radians to degrees\n * @param {number} a - A value in radians\n * @returns {number} The converted value\n */\nexport function toDegrees(a: number): number {\n    return a * 180 / Math.PI;\n}\n\n/**\n * Converts from degrees to radians\n * @param {number} a - A value in degrees\n * @returns {number} The converted value\n */\nexport function toRadians(a: number): number {\n    return a * Math.PI / 180;\n}\n\n/**\n * Returns whether two numbers are almost equal, within a small margin (0.001)\n * @param {number} a - First number\n * @param {number} b - Second number\n * @returns {boolean} True if the two numbers are almost equal\n */\nexport function almostEquals(a: number, b: number): boolean {\n    return Math.abs(a - b) < 1e-3;\n}\n\n/**\n * Calculates a linear combination of p0 and p1 using lambda, i.e.\n *   (1-lambda) * p0 + lambda * p1\n * @param p0\n * @param p1\n * @param lambda\n */\nexport function linear(p0: Point, p1: Point, lambda: number): Point {\n    return {\n        x: (1 - lambda) * p0.x + lambda * p1.x,\n        y: (1 - lambda) * p0.y + lambda * p1.y\n    };\n}\n\n/**\n * A diamond or rhombus is a quadrilateral whose four sides all have the same length.\n * It consinsts of four points, a `topPoint`, `rightPoint`, `bottomPoint`, and a `leftPoint`,\n * which are connected by four lines -- the `topRightSideLight`, `topLeftSideLine`, `bottomRightSideLine`,\n * and the `bottomLeftSideLine`.\n */\nexport class Diamond {\n\n    constructor(protected bounds: Bounds) { }\n\n    get topPoint(): Point {\n        return {\n            x: this.bounds.x + this.bounds.width / 2,\n            y: this.bounds.y\n        };\n    }\n\n    get rightPoint(): Point {\n        return {\n            x: this.bounds.x + this.bounds.width,\n            y: this.bounds.y + this.bounds.height / 2\n        };\n    }\n\n    get bottomPoint(): Point {\n        return {\n            x: this.bounds.x + this.bounds.width / 2,\n            y: this.bounds.y + this.bounds.height\n        };\n    }\n\n    get leftPoint(): Point {\n        return {\n            x: this.bounds.x,\n            y: this.bounds.y + this.bounds.height / 2\n        };\n    }\n\n    get topRightSideLine(): Line {\n        return new PointToPointLine(this.topPoint, this.rightPoint);\n    }\n\n    get topLeftSideLine(): Line {\n        return new PointToPointLine(this.topPoint, this.leftPoint);\n    }\n\n    get bottomRightSideLine(): Line {\n        return new PointToPointLine(this.bottomPoint, this.rightPoint);\n    }\n\n    get bottomLeftSideLine(): Line {\n        return new PointToPointLine(this.bottomPoint, this.leftPoint);\n    }\n\n    /**\n     * Return the closest side of this diamond to the specified `refPoint`.\n     * @param {Point} refPoint a reference point\n     * @returns {Line} a line representing the closest side\n     */\n    closestSideLine(refPoint: Point): Line {\n        const c = center(this.bounds);\n        if (refPoint.x > c.x) {\n            if (refPoint.y > c.y) {\n                return this.bottomRightSideLine;\n            } else {\n                return this.topRightSideLine;\n            }\n        } else {\n            if (refPoint.y > c.y) {\n                return this.bottomLeftSideLine;\n            } else {\n                return this.topLeftSideLine;\n            }\n        }\n    }\n}\n\n/**\n * A line represented in its standard form `a*x + b*y = c`.\n */\nexport interface Line {\n    readonly a: number\n    readonly b: number\n    readonly c: number\n}\n\n/**\n * A line made up from two points.\n */\nexport class PointToPointLine implements Line {\n\n    constructor(protected p1: Point, protected p2: Point) { }\n\n    get a(): number {\n        return this.p1.y - this.p2.y;\n    }\n\n    get b(): number {\n        return this.p2.x - this.p1.x;\n    }\n\n    get c(): number {\n        return this.p2.x * this.p1.y - this.p1.x * this.p2.y;\n    }\n}\n\n/**\n * Returns the intersection of two lines `l1` and `l2`\n * @param {Line} l1 - A line\n * @param {Line} l2 - Another line\n * @returns {Point} The intersection point of `l1` and `l2`\n */\nexport function intersection(l1: Line, l2: Line): Point {\n    return {\n        x: (l1.c * l2.b - l2.c * l1.b) / (l1.a * l2.b - l2.a * l1.b),\n        y: (l1.a * l2.c - l2.a * l1.c) / (l1.a * l2.b - l2.a * l1.b)\n    };\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/**\n * An iterable that allows filtering, mapping values etc. with a fluent API.\n * Arrays conform to this interface, so an array can be passed at every place where\n * a FluentIterable is expected.\n */\nexport interface FluentIterable<T> extends Iterable<T> {\n    filter(callback: (element: T) => boolean): FluentIterable<T>\n    map<T2>(callback: (element: T) => T2): FluentIterable<T2>\n    forEach(callback: (element: T, index: number) => void): void\n    indexOf(element: any): number\n}\n\n/**\n * A helper class that allows to easily create fluent iterables.\n */\nexport class FluentIterableImpl<S, T> implements FluentIterable<T> {\n\n    constructor(private readonly startFn: () => S,\n                private readonly nextFn: (state: S) => IteratorResult<T>) {}\n\n    [Symbol.iterator]() {\n        const iterator = {\n            state: this.startFn(),\n            next: () => this.nextFn(iterator.state),\n            [Symbol.iterator]: () => iterator\n        };\n        return iterator;\n    }\n\n    filter(callback: (element: T) => boolean): FluentIterable<T> {\n        return filterIterable(this, callback);\n    }\n\n    map<T2>(callback: (element: T) => T2): FluentIterable<T2> {\n        return mapIterable(this, callback);\n    }\n\n    forEach(callback: (element: T, index: number) => void): void {\n        const iterator = this[Symbol.iterator]();\n        let index = 0;\n        let result: IteratorResult<T>;\n        do {\n            result = iterator.next();\n            if (result.value !== undefined)\n                callback(result.value, index);\n            index++;\n        } while (!result.done);\n    }\n\n    indexOf(element: any): number {\n        const iterator = this[Symbol.iterator]();\n        let index = 0;\n        let result: IteratorResult<T>;\n        do {\n            result = iterator.next();\n            if (result.value === element)\n                return index;\n            index++;\n        } while (!result.done);\n        return -1;\n    }\n}\n\n/**\n * Converts a FluentIterable into an array. If the input is an array, it is returned unchanged.\n */\nexport function toArray<T>(input: FluentIterable<T>): T[] {\n    if (input.constructor === Array) {\n        return input as T[];\n    }\n    const result: T[] = [];\n    input.forEach(element => result.push(element));\n    return result;\n}\n\nexport const DONE_RESULT: IteratorResult<any> = Object.freeze({ done: true, value: undefined });\n\n/**\n * Create a fluent iterable that filters the content of the given iterable or array.\n */\nexport function filterIterable<T>(input: Iterable<T> | ArrayLike<T>, callback: (element: T) => boolean): FluentIterable<T> {\n    return new FluentIterableImpl(\n        () => createIterator(input),\n        (iterator) => {\n            let result: IteratorResult<T>;\n            do {\n                result = iterator.next();\n            } while (!result.done && !callback(result.value));\n            return result;\n        }\n    );\n}\n\n/**\n * Create a fluent iterable that maps the content of the given iterable or array.\n */\nexport function mapIterable<T1, T2>(input: Iterable<T1> | ArrayLike<T1>, callback: (element: T1) => T2): FluentIterable<T2> {\n    return new FluentIterableImpl(\n        () => createIterator(input),\n        (iterator) => {\n            const { done, value } = iterator.next();\n            if (done)\n                return DONE_RESULT;\n            else\n                return { done: false, value: callback(value) };\n        }\n    );\n}\n\n/**\n * Create an iterator for the given iterable or array.\n */\nfunction createIterator<T>(collection: Iterable<T> | ArrayLike<T>): Iterator<T> {\n    const method = (collection as Iterable<T>)[Symbol.iterator];\n    if (typeof method === 'function') {\n        return method.call(collection);\n    }\n    const length = (collection as ArrayLike<T>).length;\n    if (typeof length === 'number' && length >= 0) {\n        return new ArrayIterator(collection as ArrayLike<T>);\n    }\n    return { next: () => DONE_RESULT };\n}\n\n/**\n * Iterator implementation for arrays.\n */\nclass ArrayIterator<T> implements IterableIterator<T> {\n    constructor(private readonly array: ArrayLike<T>) {}\n\n    private index = 0;\n\n    next(): IteratorResult<T> {\n        if (this.index < this.array.length)\n            return { done: false, value: this.array[this.index++] };\n        else\n            return DONE_RESULT;\n    }\n\n    [Symbol.iterator]() {\n        return this;\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Bounds, EMPTY_BOUNDS, Point, isBounds } from \"../../utils/geometry\";\nimport { mapIterable, FluentIterable } from \"../../utils/iterable\";\n\n/**\n * The schema of an SModelElement describes its serializable form. The actual model is created from\n * its schema with an IModelFactory.\n * Each model element must have a unique ID and a type that is used to look up its view.\n */\nexport interface SModelElementSchema {\n    type: string\n    id: string\n    children?: SModelElementSchema[]\n    cssClasses?: string[]\n}\n\n/**\n * Serializable schema for the root element of the model tree.\n */\nexport interface SModelRootSchema extends SModelElementSchema {\n    canvasBounds?: Bounds\n    revision?: number\n}\n\n/**\n * Base class for all elements of the diagram model.\n * Each model element must have a unique ID and a type that is used to look up its view.\n */\nexport class SModelElement {\n    type: string;\n    id: string;\n    features?: FeatureSet;\n    cssClasses?: string[];\n\n    get root(): SModelRoot {\n        let current: SModelElement | undefined = this;\n        while (current) {\n            if (current instanceof SModelRoot)\n                return current;\n            else if (current instanceof SChildElement)\n                current = current.parent;\n            else\n                current = undefined;\n        }\n        throw new Error(\"Element has no root\");\n    }\n\n    get index(): SModelIndex<SModelElement> {\n        return this.root.index;\n    }\n\n    /**\n     * A feature is a symbol identifying some functionality that can be enabled or disabled for\n     * a model element. The set of supported features is determined by the `features` property.\n     */\n    hasFeature(feature: symbol): boolean {\n        return this.features !== undefined && this.features.has(feature);\n    }\n}\n\nexport interface FeatureSet {\n    has(feature: symbol): boolean\n}\n\nexport function isParent(element: SModelElementSchema | SModelElement):\n        element is SModelElementSchema & { children: SModelElementSchema[] } {\n    const children = (element as any).children;\n    return children !== undefined && children.constructor === Array;\n}\n\n/**\n * A parent element may contain child elements, thus the diagram model forms a tree.\n */\nexport class SParentElement extends SModelElement {\n    readonly children: ReadonlyArray<SChildElement> = [];\n\n    add(child: SChildElement, index?: number) {\n        const children = this.children as SChildElement[];\n        if (index === undefined) {\n            children.push(child);\n        } else {\n            if (index < 0 || index > this.children.length) {\n                throw new Error(`Child index ${index} out of bounds (0..${children.length})`);\n            }\n            children.splice(index, 0, child);\n        }\n        (child as {parent: SParentElement}).parent = this;\n        this.index.add(child);\n    }\n\n    remove(child: SChildElement) {\n        const children = this.children as SChildElement[];\n        const i = children.indexOf(child);\n        if (i < 0) {\n            throw new Error(`No such child ${child.id}`);\n        }\n        children.splice(i, 1);\n        delete (child as {parent: SParentElement}).parent;\n        this.index.remove(child);\n    }\n\n    removeAll(filter?: (e: SChildElement) => boolean) {\n        const children = this.children as SChildElement[];\n        if (filter !== undefined) {\n            for (let i = children.length - 1; i >= 0; i--) {\n                if (filter(children[i])) {\n                    const child = children.splice(i, 1)[0];\n                    delete (child as {parent: SParentElement}).parent;\n                    this.index.remove(child);\n                }\n            }\n        } else {\n            children.forEach(child => {\n                delete (child as {parent: SParentElement}).parent;\n                this.index.remove(child);\n            });\n            children.splice(0, children.length);\n        }\n    }\n\n    move(child: SChildElement, newIndex: number) {\n        const children = this.children as SChildElement[];\n        const i = children.indexOf(child);\n        if (i === -1) {\n            throw new Error(`No such child ${child.id}`);\n        } else {\n            if (newIndex < 0 || newIndex > children.length - 1) {\n                throw new Error(`Child index ${newIndex} out of bounds (0..${children.length})`);\n            }\n            children.splice(i, 1);\n            children.splice(newIndex, 0, child);\n        }\n    }\n\n    /**\n     * Transform the given bounds from the local coordinate system of this element to the coordinate\n     * system of its parent. This function should consider any transformation that is applied to the\n     * view of this element and its contents.\n     * The base implementation assumes that this element does not define a local coordinate system,\n     * so it leaves the bounds unchanged.\n     */\n    localToParent(point: Point | Bounds): Bounds {\n        return isBounds(point) ? point : { x: point.x, y: point.y, width: -1, height: -1 };\n    }\n\n    /**\n     * Transform the given bounds from the coordinate system of this element's parent to its local\n     * coordinate system. This function should consider any transformation that is applied to the\n     * view of this element and its contents.\n     * The base implementation assumes that this element does not define a local coordinate system,\n     * so it leaves the bounds unchanged.\n     */\n    parentToLocal(point: Point | Bounds): Bounds {\n        return isBounds(point) ? point : { x: point.x, y: point.y, width: -1, height: -1 };\n    }\n}\n\n/**\n * A child element is contained in a parent element. All elements except the model root are child\n * elements. In order to keep the model class hierarchy simple, every child element is also a\n * parent element, although for many elements the array of children is empty (i.e. they are\n * leafs in the model element tree).\n */\nexport class SChildElement extends SParentElement {\n    readonly parent: SParentElement;\n}\n\n/**\n * Base class for the root element of the diagram model tree.\n */\nexport class SModelRoot extends SParentElement {\n    readonly index: SModelIndex<SModelElement>;\n    revision?: number;\n\n    canvasBounds: Bounds = EMPTY_BOUNDS;\n\n    constructor(index = new SModelIndex<SModelElement>()) {\n        super();\n        // Override the index property from SModelElement, which has a getter, with a data property\n        Object.defineProperty(this, 'index', {\n            value: index,\n            writable: false\n        });\n    }\n}\n\nconst ID_CHARS = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nexport function createRandomId(length: number = 8): string {\n    let id = \"\";\n    for (let i = 0; i < length; i++) {\n        id += ID_CHARS.charAt(Math.floor(Math.random() * ID_CHARS.length));\n    }\n    return id;\n}\n\n/**\n * Used to speed up model element lookup by id.\n */\nexport class SModelIndex<E extends SModelElementSchema> {\n\n    private readonly id2element: Map<string, E> = new Map();\n    private id2parent?: Map<string, E>;\n\n    add(element: E): void {\n        if (!element.id) {\n            do {\n                element.id = createRandomId();\n            } while (this.contains(element));\n        } else if (this.contains(element)) {\n            throw new Error(\"Duplicate ID in model: \" + element.id);\n        }\n        this.id2element.set(element.id, element);\n        if (element.children !== undefined && element.children.constructor === Array) {\n            for (const child of element.children) {\n                this.add(child as any);\n                if (!(child instanceof SChildElement)) {\n                    if (this.id2parent === undefined) {\n                        this.id2parent = new Map();\n                    }\n                    this.id2parent.set(child.id, element);\n                }\n            }\n        }\n    }\n\n    remove(element: E): void {\n        this.id2element.delete(element.id);\n        if (element.children !== undefined && element.children.constructor === Array) {\n            for (const child of element.children) {\n                if (!(child instanceof SChildElement)) {\n                    if (this.id2parent === undefined) {\n                        this.id2parent = new Map();\n                    }\n                    this.id2parent.delete(child.id);\n                }\n                this.remove(child as any);\n            }\n        }\n    }\n\n    contains(element: E): boolean {\n        return this.id2element.has(element.id);\n    }\n\n    getById(id: string): E | undefined {\n        return this.id2element.get(id);\n    }\n\n    /**\n     * This utility method is for SModelElementSchema. For SChildElements, simply\n     * use the `parent` property.\n     */\n    getParent(id: string): E | undefined {\n        if (this.id2parent !== undefined) {\n            return this.id2parent.get(id);\n        }\n        const element = this.getById(id);\n        if (element instanceof SChildElement) {\n            return element.parent as any;\n        }\n        return undefined;\n    }\n\n    /**\n     * This utility method is for SModelElementSchema. For SModelElements, simply\n     * use the `root` property.\n     */\n    getRoot(element: E): E extends SModelElement ? SModelRoot : SModelRootSchema {\n        if (this.id2parent !== undefined) {\n            let current: SModelElementSchema | undefined = element;\n            while (current) {\n                const parent = this.id2parent.get(current.id);\n                if (parent === undefined) {\n                    return current as any;\n                }\n                current = parent;\n            }\n        }\n        if (element instanceof SChildElement) {\n            return element.root as any;\n        }\n        throw new Error(\"Element has no root\");\n    }\n\n    getAttachedElements(element: E): FluentIterable<E> {\n        return [];\n    }\n\n    all(): FluentIterable<E> {\n        return mapIterable(this.id2element, ([key, value]: [string, E]) => value);\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { interfaces } from \"inversify\";\nimport { TYPES } from \"../types\";\nimport { Point, Bounds } from \"../../utils/geometry\";\nimport { SChildElement, SModelElement, SModelElementSchema } from \"./smodel\";\nimport { SModelElementRegistration, CustomFeatures } from \"./smodel-factory\";\n\n/**\n * Register a model element constructor for an element type.\n */\nexport function registerModelElement(context: { bind: interfaces.Bind, isBound: interfaces.IsBound },\n        type: string, constr: new () => SModelElement, features?: CustomFeatures): void {\n    context.bind<SModelElementRegistration>(TYPES.SModelElementRegistration).toConstantValue({\n        type, constr, features\n    });\n}\n\n/**\n * Model element types can include a colon to separate the basic type and a sub-type. This function\n * extracts the basic type of a model element.\n */\nexport function getBasicType(schema: SModelElementSchema | SModelElement): string {\n    if (!schema.type)\n        return '';\n    const colonIndex = schema.type.indexOf(':');\n    if (colonIndex >= 0)\n        return schema.type.substring(0, colonIndex);\n    else\n        return schema.type;\n}\n\n/**\n * Model element types can include a colon to separate the basic type and a sub-type. This function\n * extracts the sub-type of a model element.\n */\nexport function getSubType(schema: SModelElementSchema | SModelElement): string {\n    if (!schema.type)\n        return '';\n    const colonIndex = schema.type.indexOf(':');\n    if (colonIndex >= 0)\n        return schema.type.substring(colonIndex + 1);\n    else\n        return schema.type;\n}\n\n/**\n * Find the element with the given identifier. If you need to find multiple elements, using an\n * SModelIndex might be more effective.\n */\nexport function findElement(parent: SModelElementSchema, elementId: string): SModelElementSchema | undefined {\n    if (parent.id === elementId)\n        return parent;\n    if (parent.children !== undefined) {\n        for (const child of parent.children) {\n            const result = findElement(child, elementId);\n            if (result !== undefined)\n                return result;\n        }\n    }\n    return undefined;\n}\n\n/**\n * Find a parent element that satisfies the given predicate.\n */\nexport function findParent(element: SModelElement, predicate: (e: SModelElement) => boolean): SModelElement | undefined {\n    let current: SModelElement | undefined = element;\n    while (current !== undefined) {\n        if (predicate(current))\n            return current;\n        else if (current instanceof SChildElement)\n            current = current.parent;\n        else\n            current = undefined;\n    }\n    return current;\n}\n\n/**\n * Find a parent element that implements the feature identified with the given predicate.\n */\nexport function findParentByFeature<T>(element: SModelElement, predicate: (t: SModelElement) => t is SModelElement & T): SModelElement & T | undefined {\n    let current: SModelElement | undefined = element;\n    while (current !== undefined) {\n        if (predicate(current))\n            return current;\n        else if (current instanceof SChildElement)\n            current = current.parent;\n        else\n            current = undefined;\n    }\n    return current;\n}\n\n/**\n * Translate a point from the coordinate system of the source element to the coordinate system\n * of the target element.\n */\nexport function translatePoint(point: Point, source: SModelElement, target: SModelElement): Point {\n    if (source !== target) {\n        // Translate from the source to the root element\n        while (source instanceof SChildElement) {\n            point = source.localToParent(point);\n            source = source.parent;\n            if (source === target)\n                return point;\n        }\n        // Translate from the root to the target element\n        const targetTrace = [];\n        while (target instanceof SChildElement) {\n            targetTrace.push(target);\n            target = target.parent;\n        }\n        if (source !== target)\n            throw new Error(\"Incompatible source and target: \" + source.id + \", \" + target.id);\n        for (let i = targetTrace.length - 1; i >= 0; i--) {\n            point = targetTrace[i].parentToLocal(point);\n        }\n    }\n    return point;\n}\n\n/**\n * Translate some bounds from the coordinate system of the source element to the coordinate system\n * of the target element.\n */\nexport function translateBounds(bounds: Bounds, source: SModelElement, target: SModelElement): Bounds {\n    const upperLeft = translatePoint(bounds, source, target);\n    const lowerRight = translatePoint({ x: bounds.x + bounds.width, y: bounds.y + bounds.height }, source, target);\n    return {\n        x: upperLeft.x,\n        y: upperLeft.y,\n        width: lowerRight.x - upperLeft.x,\n        height: lowerRight.y - upperLeft.y\n    };\n}\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { SChildElement, SModelElement, SModelElementSchema, SModelRoot, SParentElement } from \"../../base/model/smodel\";\nimport { SModelExtension } from \"../../base/model/smodel-extension\";\nimport { findParentByFeature } from '../../base/model/smodel-utils';\nimport { DOMHelper } from \"../../base/views/dom-helper\";\nimport { ViewerOptions } from \"../../base/views/viewer-options\";\nimport {\n    Bounds, Dimension, EMPTY_BOUNDS, EMPTY_DIMENSION, includes, isBounds, ORIGIN_POINT, Point\n} from \"../../utils/geometry\";\nimport { Locateable } from '../move/model';\nimport { getWindowScroll } from \"../../utils/browser\";\n\nexport const boundsFeature = Symbol('boundsFeature');\nexport const layoutContainerFeature = Symbol('layoutContainerFeature');\nexport const layoutableChildFeature = Symbol('layoutableChildFeature');\nexport const alignFeature = Symbol('alignFeature');\n\n/**\n * Model elements that implement this interface have a position and a size.\n */\nexport interface BoundsAware extends SModelExtension {\n    bounds: Bounds\n}\n\n/**\n * Used to identify model elements that specify a layout to apply to their children.\n */\nexport interface LayoutContainer extends LayoutableChild {\n    layout: string\n}\n\nexport type ModelLayoutOptions = { [key: string]: string | number | boolean };\n\nexport interface LayoutableChild extends SModelExtension, BoundsAware {\n    layoutOptions?: ModelLayoutOptions\n}\n\n/**\n * Used to adjust elements whose bounding box is not at the origin, e.g.\n * labels, or pre-rendered SVG figures.\n */\nexport interface Alignable extends SModelExtension {\n    alignment: Point\n}\n\nexport function isBoundsAware(element: SModelElement): element is SModelElement & BoundsAware {\n    return 'bounds' in element;\n}\n\nexport function isLayoutContainer(element: SModelElement): element is SParentElement & LayoutContainer {\n    return isBoundsAware(element)\n        && element.hasFeature(layoutContainerFeature)\n        && 'layout' in element;\n}\n\nexport function isLayoutableChild(element: SModelElement): element is SChildElement & LayoutableChild {\n    return isBoundsAware(element)\n        && element.hasFeature(layoutableChildFeature);\n}\n\nexport function isSizeable(element: SModelElement): element is SModelElement & BoundsAware {\n    return element.hasFeature(boundsFeature) && isBoundsAware(element);\n}\n\nexport function isAlignable(element: SModelElement): element is SModelElement & Alignable {\n    return element.hasFeature(alignFeature)\n        && 'alignment' in element;\n}\n\nexport function getAbsoluteBounds(element: SModelElement): Bounds {\n    const boundsAware = findParentByFeature(element, isBoundsAware);\n    if (boundsAware !== undefined) {\n        let bounds = boundsAware.bounds;\n        let current: SModelElement = boundsAware;\n        while (current instanceof SChildElement) {\n            const parent = current.parent;\n            bounds = parent.localToParent(bounds);\n            current = parent;\n        }\n        return bounds;\n    } else if (element instanceof SModelRoot) {\n        const canvasBounds = element.canvasBounds;\n        return { x: 0, y: 0, width: canvasBounds.width, height: canvasBounds.height };\n    } else {\n        return EMPTY_BOUNDS;\n    }\n}\n\n/**\n * Returns the \"client-absolute\" bounds of the specified `element`.\n *\n * The client-absolute bounds are relative to the entire browser page.\n *\n * @param element The element to get the bounds for.\n * @param domHelper The dom helper to obtain the SVG element's id.\n * @param viewerOptions The viewer options to obtain sprotty's container div id.\n */\nexport function getAbsoluteClientBounds(element: SModelElement, domHelper: DOMHelper, viewerOptions: ViewerOptions): Bounds {\n    let x = 0;\n    let y = 0;\n    let width = 0;\n    let height = 0;\n\n    const svgElementId = domHelper.createUniqueDOMElementId(element);\n    const svgElement = document.getElementById(svgElementId);\n    if (svgElement) {\n        const rect = svgElement.getBoundingClientRect();\n        const scroll = getWindowScroll();\n        x = rect.left + scroll.x;\n        y = rect.top + scroll.y;\n        width = rect.width;\n        height = rect.height;\n    }\n\n    let container = document.getElementById(viewerOptions.baseDiv);\n    if (container) {\n        while (container.offsetParent instanceof HTMLElement\n            && (container = <HTMLElement>container.offsetParent)) {\n            x -= container.offsetLeft;\n            y -= container.offsetTop;\n        }\n    }\n\n    return { x, y, width, height };\n}\n\nexport function findChildrenAtPosition(parent: SParentElement, point: Point): SModelElement[] {\n    const matches: SModelElement[] = [];\n    doFindChildrenAtPosition(parent, point, matches);\n    return matches;\n}\n\nfunction doFindChildrenAtPosition(parent: SParentElement, point: Point, matches: SModelElement[]) {\n    parent.children.forEach(child => {\n        if (isBoundsAware(child) && includes(child.bounds, point))\n            matches.push(child);\n        if (child instanceof SParentElement) {\n            const newPoint = child.parentToLocal(point);\n            doFindChildrenAtPosition(child, newPoint, matches);\n        }\n    });\n}\n\n/**\n * Serializable schema for SShapeElement.\n */\nexport interface SShapeElementSchema extends SModelElementSchema {\n    position?: Point\n    size?: Dimension\n    children?: SModelElementSchema[]\n    layoutOptions?: ModelLayoutOptions\n}\n\n/**\n * Abstract class for elements with a position and a size.\n */\nexport abstract class SShapeElement extends SChildElement implements BoundsAware, Locateable, LayoutableChild {\n    position: Point = ORIGIN_POINT;\n    size: Dimension = EMPTY_DIMENSION;\n    layoutOptions?: ModelLayoutOptions;\n\n    get bounds(): Bounds {\n        return {\n            x: this.position.x,\n            y: this.position.y,\n            width: this.size.width,\n            height: this.size.height\n        };\n    }\n\n    set bounds(newBounds: Bounds) {\n        this.position = {\n            x: newBounds.x,\n            y: newBounds.y\n        };\n        this.size = {\n            width: newBounds.width,\n            height: newBounds.height\n        };\n    }\n\n    localToParent(point: Point | Bounds): Bounds {\n        const result = {\n            x: point.x + this.position.x,\n            y: point.y + this.position.y,\n            width: -1,\n            height: -1\n        };\n        if (isBounds(point)) {\n            result.width = point.width;\n            result.height = point.height;\n        }\n        return result;\n    }\n\n    parentToLocal(point: Point | Bounds): Bounds {\n        const result = {\n            x: point.x - this.position.x,\n            y: point.y - this.position.y,\n            width: -1,\n            height: -1\n        };\n        if (isBounds(point)) {\n            result.width = point.width;\n            result.height = point.height;\n        }\n        return result;\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from \"inversify\";\nimport { ILogger } from \"../../utils/logging\";\nimport { Action } from \"../actions/action\";\nimport { AnimationFrameSyncer } from \"../animations/animation-frame-syncer\";\nimport { SModelRoot } from \"../model/smodel\";\nimport { IModelFactory } from \"../model/smodel-factory\";\nimport { IViewer } from \"../views/viewer\";\n\n/**\n * A command holds the behaviour of an action.\n * It is executed on a command stack and can be undone / redone.\n *\n * A command should store all information it needs to undo itself at a\n * later stage. It typically resolves the model elements it is going\n * to manipulate as a first step in the execute method.\n *\n * Each command should define a static string property KIND that\n * matches the associated action. This is used as a key in the\n * ActionHandlerRegistry.\n *\n * Clients should not implement the ICommand interface directly but\n * rather inherit from one of its abstract implementators.\n */\nexport interface ICommand {\n    /**\n     * If this property is present, all following actions are blocked\n     * until the function returns `true`.\n     */\n    readonly blockUntil?: (action: Action) => boolean;\n\n    execute(context: CommandExecutionContext): CommandReturn\n\n    undo(context: CommandExecutionContext): CommandReturn\n\n    redo(context: CommandExecutionContext): CommandReturn\n}\n\n/**\n * Commands return the changed model or a Promise for it. Promises\n * serve animating commands to render some intermediate states before\n * finishing. The CommandStack is in charge of chaining these promises,\n * such that they run sequentially only one at a time. Due to that\n * chaining, it is essential that a command does not make any assumption\n * on the state of the model before execute() is called.\n */\nexport type CommandReturn = SModelRoot | Promise<SModelRoot> | CommandResult;\n\n/**\n * The `CommandResult` allows to specify whether the model has changed\n * and the original action that caused the command to be executed. In case such\n * an action is given, it is passed to the viewer in order to link any\n * subsequent response action to the original request.\n */\nexport type CommandResult = { model: SModelRoot, modelChanged: boolean, cause?: Action };\n\n/**\n * Base class for all commands.\n *\n * Command instances are created via dependency injection and should take\n * the respective action as an injected constructor parameter. They must\n * also define a static <code>KIND</code> which is used to map an\n * <code>Action#kind</code>.\n *\n * <pre>\n * export class MyCommand extends Command {\n *   static KIND = 'MyCommand'\n *   constructor(@inject(TYPES.Action) action: MyAction) {\n *   ...\n * }\n * @inject(TYPES.Action)\n * </pre>\n */\n@injectable()\nexport abstract class Command implements ICommand {\n\n    abstract execute(context: CommandExecutionContext): CommandReturn;\n\n    abstract undo(context: CommandExecutionContext): CommandReturn;\n\n    abstract redo(context: CommandExecutionContext): CommandReturn;\n}\n\n/**\n * A mergeable command can accumulate subsequent commands of the same kind.\n *\n * For example, multiple subsequent move commands can be merged to yield a\n * single command, such that undo will roll them back altogether. Otherwise\n * the user would have to push CTRL-Z for each mouse move element that\n * resuted in a command.\n */\n@injectable()\nexport abstract class MergeableCommand extends Command {\n    /**\n     * Tries to merge the given command with this.\n     *\n     * @param command\n     * @param context\n     */\n    merge(command: ICommand, context: CommandExecutionContext): boolean {\n        return false;\n    }\n}\n\n/**\n * A hidden command is used to trigger the rendering of a model on a\n * hidden canvas.\n *\n * Some graphical elements are styled using CSS, others have bounds that\n * require to layout their children before being computed. In such cases\n * we cannot tell about the size of elements without acutally rendering\n * the DOM. We render them to an invisible canvas. This can be achieved\n * using hidden commands.\n *\n * Hidden commands do not change the model directly, and are as such\n * neither undoable nor redoable. The command stack does not push them on\n * any stack and forwards the resulting model to the invisible viewer.\n */\n@injectable()\nexport abstract class HiddenCommand extends Command {\n    abstract execute(context: CommandExecutionContext): SModelRoot | CommandResult;\n\n    undo(context: CommandExecutionContext): CommandReturn {\n        context.logger.error(this, 'Cannot undo a hidden command');\n        return context.root;\n    }\n\n    redo(context: CommandExecutionContext): CommandReturn {\n        context.logger.error(this, 'Cannot redo a hidden command');\n        return context.root;\n    }\n}\n\n@injectable()\nexport abstract class PopupCommand extends Command {\n}\n\n/**\n * A system command is triggered by the system, e.g. in order to update bounds\n * in the model with data fetched from the DOM.\n *\n * As it is automatically triggered it should not count as a single command in\n * undo/redo operations. Into the bargain, such an automatic command could occur\n * after an undo and as such make the next redo command invalid because it is\n * based on a model state that has changed. The command stack handles system\n * commands in a special way to overcome these issues.\n */\n@injectable()\nexport abstract class SystemCommand extends Command {\n}\n\n/**\n * A reset command deletes all undo/redo stacks and cannot be undone.\n *\n * It marks a point of no return.\n */\n@injectable()\nexport abstract class ResetCommand extends Command {\n}\n\n/**\n * The data that is passed into the execution methods of a command to give it\n * access to the context.\n */\nexport interface CommandExecutionContext {\n    /** The current Sprotty model (i.e. the main model that is visible to the user) */\n    root: SModelRoot\n\n    /** Used to turn sprotty schema elements (e.g. from the action) into model elements */\n    modelFactory: IModelFactory\n\n    /** Allows to give some feedback to the console */\n    logger: ILogger\n\n    /** Used for anmiations to trigger the rendering of a new frame */\n    modelChanged: IViewer\n\n    /** Duration of an anmiation */\n    duration: number\n\n    /** Provides the ticks for animations */\n    syncer: AnimationFrameSyncer\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Command, CommandExecutionContext, CommandReturn } from \"../../base/commands/command\";\nimport { Action } from \"../../base/actions/action\";\nimport { SModelElement, SParentElement, SChildElement } from \"../../base/model/smodel\";\nimport { SModelExtension } from \"../../base/model/smodel-extension\";\nimport { TYPES } from \"../../base/types\";\nimport { inject, injectable } from \"inversify\";\n\nexport const deletableFeature = Symbol('deletableFeature');\n\nexport interface Deletable extends SModelExtension {\n}\n\nexport function isDeletable<T extends SModelElement>(element: T): element is T & Deletable & SChildElement {\n    return element instanceof SChildElement && element.hasFeature(deletableFeature);\n}\n\nexport class DeleteElementAction implements Action {\n    static readonly KIND = 'delete';\n    kind = DeleteElementAction.KIND;\n\n    constructor(readonly elementIds: string[]) {}\n}\n\nexport class ResolvedDelete {\n    child: SChildElement;\n    parent: SParentElement;\n}\n\n@injectable()\nexport class DeleteElementCommand extends Command {\n    static readonly KIND = DeleteElementAction.KIND;\n\n    resolvedDeletes: ResolvedDelete[] = [];\n\n    constructor(@inject(TYPES.Action) protected readonly action: DeleteElementAction){\n        super();\n    }\n\n    execute(context: CommandExecutionContext): CommandReturn {\n        const index = context.root.index;\n        for (const id of this.action.elementIds) {\n            const element = index.getById(id);\n            if (element && isDeletable(element)) {\n                this.resolvedDeletes.push({ child: element, parent: element.parent });\n                element.parent.remove(element);\n            }\n        }\n        return context.root;\n    }\n\n    undo(context: CommandExecutionContext): CommandReturn {\n        for (const resolvedDelete of this.resolvedDeletes)\n            resolvedDelete.parent.add(resolvedDelete.child);\n        return context.root;\n    }\n\n    redo(context: CommandExecutionContext): CommandReturn {\n        for (const resolvedDelete of this.resolvedDeletes)\n            resolvedDelete.parent.remove(resolvedDelete.child);\n        return context.root;\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { SModelElement } from \"../../base/model/smodel\";\nimport { SModelExtension } from \"../../base/model/smodel-extension\";\n\nexport const selectFeature = Symbol('selectFeature');\n\nexport interface Selectable extends SModelExtension {\n    selected: boolean\n}\n\nexport function isSelectable(element: SModelElement): element is SModelElement & Selectable {\n    return element.hasFeature(selectFeature);\n}\n\nexport function isSelected(element: SModelElement | undefined): element is SModelElement & Selectable {\n    return element !== undefined && isSelectable(element) && element.selected;\n}\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { SModelElement } from \"../../base/model/smodel\";\nimport { SModelExtension } from \"../../base/model/smodel-extension\";\n\nexport const hoverFeedbackFeature = Symbol('hoverFeedbackFeature');\n\nexport interface Hoverable extends SModelExtension {\n    hoverFeedback: boolean\n}\n\nexport function isHoverable(element: SModelElement): element is SModelElement & Hoverable {\n    return element.hasFeature(hoverFeedbackFeature);\n}\n\nexport const popupFeature = Symbol('popupFeature');\n\nexport function hasPopupFeature(element: SModelElement): boolean {\n    return element.hasFeature(popupFeature);\n}\n","/********************************************************************************\n * Copyright (c) 2017-2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Point } from \"../../utils/geometry\";\nimport { SModelElement } from \"../../base/model/smodel\";\nimport { SModelExtension } from \"../../base/model/smodel-extension\";\n\nexport const moveFeature = Symbol('moveFeature');\n\n/**\n * An element that can be placed at a specific location using its position\n * property.\n */\nexport interface Locateable extends SModelExtension {\n    position: Point\n}\n\nexport function isLocateable(element: SModelElement): element is SModelElement & Locateable {\n    return (element as any)['position'] !== undefined;\n}\n\nexport function isMoveable(element: SModelElement): element is SModelElement & Locateable {\n    return element.hasFeature(moveFeature) && isLocateable(element);\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { SChildElement, SModelElement } from '../../base/model/smodel';\nimport { SModelExtension } from '../../base/model/smodel-extension';\nimport { SEdge, SGraphIndex } from '../../graph/sgraph';\nimport { Point, Bounds, combine, EMPTY_BOUNDS } from '../../utils/geometry';\nimport { FluentIterable } from '../../utils/iterable';\nimport { SShapeElement } from '../bounds/model';\nimport { deletableFeature } from '../edit/delete';\nimport { Selectable, selectFeature } from '../select/model';\nimport { Hoverable, hoverFeedbackFeature } from '../hover/model';\nimport { moveFeature } from '../move/model';\n\nexport abstract class SRoutableElement extends SChildElement {\n    routerKind?: string;\n    routingPoints: Point[] = [];\n    sourceId: string;\n    targetId: string;\n    sourceAnchorCorrection?: number;\n    targetAnchorCorrection?: number;\n\n    get source(): SConnectableElement | undefined {\n        return this.index.getById(this.sourceId) as SConnectableElement;\n    }\n\n    get target(): SConnectableElement | undefined {\n        return this.index.getById(this.targetId) as SConnectableElement;\n    }\n\n    get bounds(): Bounds {\n        // this should also work for splines, which have the convex hull property\n        return this.routingPoints.reduce<Bounds>((bounds, routingPoint) => combine(bounds, {\n            x: routingPoint.x,\n            y: routingPoint.y,\n            width: 0,\n            height: 0\n        }), EMPTY_BOUNDS);\n    }\n}\n\nexport const connectableFeature = Symbol('connectableFeature');\n\nexport interface Connectable extends SModelExtension {\n    canConnect(routable: SRoutableElement, role: 'source' | 'target'): boolean;\n}\n\nexport function isConnectable<T extends SModelElement>(element: T): element is Connectable & T {\n    return element.hasFeature(connectableFeature) && (element as any).canConnect;\n}\n\nexport function getAbsoluteRouteBounds(model: Readonly<SRoutableElement>, route: Point[] = model.routingPoints): Bounds {\n    let bounds = getRouteBounds(route);\n    let current: SModelElement = model;\n    while (current instanceof SChildElement) {\n        const parent = current.parent;\n        bounds = parent.localToParent(bounds);\n        current = parent;\n    }\n    return bounds;\n}\n\nexport function getRouteBounds(route: Point[]): Bounds {\n    const bounds = { x: NaN, y: NaN, width: 0, height: 0};\n    for (const point of route) {\n        if (isNaN(bounds.x)) {\n            bounds.x = point.x;\n            bounds.y = point.y;\n        } else {\n            if (point.x < bounds.x) {\n                bounds.width += bounds.x - point.x;\n                bounds.x = point.x;\n            } else if (point.x > bounds.x + bounds.width) {\n                bounds.width = point.x - bounds.x;\n            }\n            if (point.y < bounds.y) {\n                bounds.height += bounds.y - point.y;\n                bounds.y = point.y;\n            } else if (point.y > bounds.y + bounds.height) {\n                bounds.height = point.y - bounds.y;\n            }\n        }\n    }\n    return bounds;\n}\n\n/**\n * A connectable element is one that can have outgoing and incoming edges, i.e. it can be the source\n * or target element of an edge. There are two kinds of connectable elements: nodes (`SNode`) and\n * ports (`SPort`). A node represents a main entity, while a port is a connection point inside a node.\n */\nexport abstract class SConnectableElement extends SShapeElement implements Connectable {\n\n    anchorKind?: string;\n\n    strokeWidth: number = 0;\n\n    /**\n     * The incoming edges of this connectable element. They are resolved by the index, which must\n     * be an `SGraphIndex`.\n     */\n    get incomingEdges(): FluentIterable<SEdge> {\n        return (this.index as SGraphIndex).getIncomingEdges(this);\n    }\n\n    /**\n     * The outgoing edges of this connectable element. They are resolved by the index, which must\n     * be an `SGraphIndex`.\n     */\n    get outgoingEdges(): FluentIterable<SEdge> {\n        return (this.index as SGraphIndex).getOutgoingEdges(this);\n    }\n\n    canConnect(routable: SRoutableElement, role: 'source' | 'target') {\n        return true;\n    }\n}\n\nexport type RoutingHandleKind = 'junction' | 'line' | 'source' |'target' |'manhattan-50%';\n\nexport class SRoutingHandle extends SChildElement implements Selectable, Hoverable {\n    static readonly DEFAULT_FEATURES = [selectFeature, moveFeature, hoverFeedbackFeature];\n\n    /**\n     * 'junction' is a point where two line segments meet,\n     * 'line' is a volatile handle placed on a line segment,\n     * 'source' and 'target' are the respective anchors.\n     */\n    kind: RoutingHandleKind;\n    /** The actual routing point index (junction) or the previous point index (line). */\n    pointIndex: number;\n    /** Whether the routing point is being dragged. */\n    editMode: boolean = false;\n\n    hoverFeedback: boolean = false;\n    selected: boolean = false;\n    danglingAnchor?: SDanglingAnchor;\n\n    /**\n     * SRoutingHandles are created using the constructor, so we hard-wire the\n     * default features\n     */\n    hasFeature(feature: symbol): boolean {\n        return SRoutingHandle.DEFAULT_FEATURES.indexOf(feature) !== -1;\n    }\n}\n\nexport class SDanglingAnchor extends SConnectableElement {\n    static readonly DEFAULT_FEATURES = [deletableFeature];\n\n    original?: SModelElement;\n    type = 'dangling-anchor';\n\n    constructor() {\n        super();\n        this.size = { width: 0, height: 0 };\n    }\n}\n\nexport const edgeInProgressID = 'edge-in-progress';\nexport const edgeInProgressTargetHandleID = edgeInProgressID + '-target-anchor';\n","/********************************************************************************\n * Copyright (c) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from 'inversify';\nimport { VNode } from 'snabbdom/vnode';\nimport { Point } from '../../utils/geometry';\nimport { IView, RenderingContext } from '../../base/views/view';\nimport { SRoutableElement, getAbsoluteRouteBounds } from './model';\n\n@injectable()\nexport abstract class RoutableView implements IView {\n    /**\n     * Check whether the given model element is in the current viewport. Use this method\n     * in your `render` implementation to skip rendering in case the element is not visible.\n     * This can greatly enhance performance for large models.\n     */\n    isVisible(model: Readonly<SRoutableElement>, route: Point[], context: RenderingContext): boolean {\n        if (context.targetKind === 'hidden') {\n            // Don't hide any element for hidden rendering\n            return true;\n        }\n        if (route.length === 0) {\n            // We should hide only if we know the element's route\n            return true;\n        }\n        const ab = getAbsoluteRouteBounds(model, route);\n        const canvasBounds = model.root.canvasBounds;\n        return ab.x <= canvasBounds.width\n            && ab.x + ab.width >= 0\n            && ab.y <= canvasBounds.height\n            && ab.y + ab.height >= 0;\n    }\n\n    abstract render(model: Readonly<SRoutableElement>, context: RenderingContext, args?: object): VNode | undefined;\n}\n","/********************************************************************************\n * Copyright (c) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { SChildElement, SModelElement } from 'sprotty/src/base/model/smodel';\nimport { SModelExtension } from 'sprotty/src/base/model/smodel-extension';\nimport { SEdge, SGraphIndex } from 'sprotty/src/graph/sgraph';\nimport { Point, Bounds, combine, EMPTY_BOUNDS } from 'sprotty/src/utils/geometry';\nimport { FluentIterable } from 'sprotty/src/utils/iterable';\nimport { SShapeElement } from 'sprotty/src/features/bounds/model';\nimport { deletableFeature } from 'sprotty/src/features/edit/delete';\nimport { Selectable, selectFeature } from 'sprotty/src/features/select/model';\nimport { Hoverable, hoverFeedbackFeature } from 'sprotty/src/features/hover/model';\nimport { moveFeature } from 'sprotty/src/features//move/model';\n\nexport abstract class SRoutableElement extends SChildElement {\n    routerKind?: string;\n    routingPoints: Point[] = [];\n    sourceId: string;\n    targetId: string;\n    sourceAnchorCorrection?: number;\n    targetAnchorCorrection?: number;\n    avoidId: number;\n\n    get source(): SConnectableElement | undefined {\n        return this.index.getById(this.sourceId) as SConnectableElement;\n    }\n\n    get target(): SConnectableElement | undefined {\n        return this.index.getById(this.targetId) as SConnectableElement;\n    }\n\n    get bounds(): Bounds {\n        // this should also work for splines, which have the convex hull property\n        return this.routingPoints.reduce<Bounds>((bounds, routingPoint) => combine(bounds, {\n            x: routingPoint.x,\n            y: routingPoint.y,\n            width: 0,\n            height: 0\n        }), EMPTY_BOUNDS);\n    }\n}\n\nexport const connectableFeature = Symbol('connectableFeature');\n\nexport interface Connectable extends SModelExtension {\n    canConnect(routable: SRoutableElement, role: 'source' | 'target'): boolean;\n}\n\nexport function isConnectable<T extends SModelElement>(element: T): element is Connectable & T {\n    return element.hasFeature(connectableFeature) && (element as any).canConnect;\n}\n\nexport function getAbsoluteRouteBounds(model: Readonly<SRoutableElement>, route: Point[] = model.routingPoints): Bounds {\n    let bounds = getRouteBounds(route);\n    let current: SModelElement = model;\n    while (current instanceof SChildElement) {\n        const parent = current.parent;\n        bounds = parent.localToParent(bounds);\n        current = parent;\n    }\n    return bounds;\n}\n\nexport function getRouteBounds(route: Point[]): Bounds {\n    const bounds = { x: NaN, y: NaN, width: 0, height: 0};\n    for (const point of route) {\n        if (isNaN(bounds.x)) {\n            bounds.x = point.x;\n            bounds.y = point.y;\n        } else {\n            if (point.x < bounds.x) {\n                bounds.width += bounds.x - point.x;\n                bounds.x = point.x;\n            } else if (point.x > bounds.x + bounds.width) {\n                bounds.width = point.x - bounds.x;\n            }\n            if (point.y < bounds.y) {\n                bounds.height += bounds.y - point.y;\n                bounds.y = point.y;\n            } else if (point.y > bounds.y + bounds.height) {\n                bounds.height = point.y - bounds.y;\n            }\n        }\n    }\n    return bounds;\n}\n\n/**\n * A connectable element is one that can have outgoing and incoming edges, i.e. it can be the source\n * or target element of an edge. There are two kinds of connectable elements: nodes (`SNode`) and\n * ports (`SPort`). A node represents a main entity, while a port is a connection point inside a node.\n */\nexport abstract class SConnectableElement extends SShapeElement implements Connectable {\n\n    anchorKind?: string;\n\n    strokeWidth: number = 0;\n\n    /**\n     * The incoming edges of this connectable element. They are resolved by the index, which must\n     * be an `SGraphIndex`.\n     */\n    get incomingEdges(): FluentIterable<SEdge> {\n        return (this.index as SGraphIndex).getIncomingEdges(this);\n    }\n\n    /**\n     * The outgoing edges of this connectable element. They are resolved by the index, which must\n     * be an `SGraphIndex`.\n     */\n    get outgoingEdges(): FluentIterable<SEdge> {\n        return (this.index as SGraphIndex).getOutgoingEdges(this);\n    }\n\n    canConnect(routable: SRoutableElement, role: 'source' | 'target') {\n        return true;\n    }\n}\n\nexport type RoutingHandleKind = 'junction' | 'line' | 'source' |'target' |'manhattan-50%';\n\nexport class SRoutingHandle extends SChildElement implements Selectable, Hoverable {\n    static readonly DEFAULT_FEATURES = [selectFeature, moveFeature, hoverFeedbackFeature];\n\n    /**\n     * 'junction' is a point where two line segments meet,\n     * 'line' is a volatile handle placed on a line segment,\n     * 'source' and 'target' are the respective anchors.\n     */\n    kind: RoutingHandleKind;\n    /** The actual routing point index (junction) or the previous point index (line). */\n    pointIndex: number;\n    /** Whether the routing point is being dragged. */\n    editMode: boolean = false;\n\n    hoverFeedback: boolean = false;\n    selected: boolean = false;\n    danglingAnchor?: SDanglingAnchor;\n\n    /**\n     * SRoutingHandles are created using the constructor, so we hard-wire the\n     * default features\n     */\n    hasFeature(feature: symbol): boolean {\n        return SRoutingHandle.DEFAULT_FEATURES.indexOf(feature) !== -1;\n    }\n}\n\nexport class SDanglingAnchor extends SConnectableElement {\n    static readonly DEFAULT_FEATURES = [deletableFeature];\n\n    original?: SModelElement;\n    type = 'dangling-anchor';\n\n    constructor() {\n        super();\n        this.size = { width: 0, height: 0 };\n    }\n}\n\nexport const edgeInProgressID = 'edge-in-progress';\nexport const edgeInProgressTargetHandleID = edgeInProgressID + '-target-anchor';\n","/********************************************************************************\n * Copyright (c) 2019-2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from \"inversify\";\nimport { AvoidLib } from 'libavoid-js';\nimport { SModelElement, SParentElement } from \"sprotty/src/base/model/smodel\";\nimport { translateBounds, translatePoint } from \"sprotty/src/base/model/smodel-utils\";\nimport { Bounds, euclideanDistance, linear, Point } from \"sprotty/src/utils/geometry\";\nimport { ResolvedHandleMove } from \"sprotty/src/features/move/move\";\nimport { RoutingHandleKind, SDanglingAnchor, SRoutingHandle, edgeInProgressID, edgeInProgressTargetHandleID } from \"../routing/model\";\nimport { AnchorComputerRegistry, IAnchorComputer } from \"sprotty/src/features/routing/anchor\";\nimport { SConnectableElement, SRoutableElement } from \"./model\";\nimport { EdgeSnapshot, IEdgeRouter, RoutedPoint, AvoidRoutes } from \"./routing\";\n\nexport interface LinearRouteOptions {\n    minimalPointDistance: number\n    standardDistance: number\n    selfEdgeOffset: number\n}\n\nexport enum Side { RIGHT, LEFT, TOP, BOTTOM }\n\nexport class DefaultAnchors {\n    readonly bounds: Bounds;\n    readonly left: RoutedPoint;\n    readonly right: RoutedPoint;\n    readonly top: RoutedPoint;\n    readonly bottom: RoutedPoint;\n\n    constructor(readonly element: SConnectableElement, edgeParent: SParentElement, readonly kind: 'source' | 'target') {\n        const bounds = element.bounds;\n        this.bounds = translateBounds(bounds, element.parent, edgeParent);\n        this.left = { x: this.bounds.x, y: this.bounds.y + 0.5 * this.bounds.height, kind };\n        this.right = { x: this.bounds.x + this.bounds.width, y: this.bounds.y + 0.5 * this.bounds.height, kind };\n        this.top = { x: this.bounds.x + 0.5 * this.bounds.width, y: this.bounds.y, kind };\n        this.bottom = { x: this.bounds.x + 0.5 * this.bounds.width, y: this.bounds.y + this.bounds.height, kind };\n    }\n\n    get(side: Side): RoutedPoint {\n        return (this as any)[Side[side].toLowerCase()];\n    }\n\n    getNearestSide(point: Point): Side {\n        const leftDistance = euclideanDistance(point, this.left);\n        const rightDistance = euclideanDistance(point, this.right);\n        const topDistance = euclideanDistance(point, this.top);\n        const bottomDistance = euclideanDistance(point, this.bottom);\n        let currentNearestSide = Side.LEFT;\n        let currentMinDist = leftDistance;\n        if (rightDistance < currentMinDist) {\n            currentMinDist = rightDistance;\n            currentNearestSide = Side.RIGHT;\n        }\n        if (topDistance < currentMinDist) {\n            currentMinDist = topDistance;\n            currentNearestSide = Side.TOP;\n        }\n        if (bottomDistance < currentMinDist) {\n            currentMinDist = bottomDistance;\n            currentNearestSide = Side.BOTTOM;\n        }\n        return currentNearestSide;\n    }\n}\n\n@injectable()\nexport abstract class LinearEdgeRouter implements IEdgeRouter {\n    avoidRouter: Router;\n    avoidRoutes: AvoidRoutes;\n\n    @inject(AnchorComputerRegistry) anchorRegistry: AnchorComputerRegistry;\n\n    abstract get kind(): string;\n\n    abstract route(edge: SRoutableElement): RoutedPoint[];\n\n    abstract createRoutingHandles(edge: SRoutableElement): void;\n\n    protected abstract getOptions(edge: SRoutableElement): LinearRouteOptions;\n\n    pointAt(edge: SRoutableElement, t: number): Point |undefined {\n        const segments = this.calculateSegment(edge, t);\n        if (!segments)\n            return undefined;\n        const { segmentStart, segmentEnd, lambda } = segments;\n        return linear(segmentStart, segmentEnd, lambda);\n    }\n\n    derivativeAt(edge: SRoutableElement, t: number): Point |undefined {\n        const segments = this.calculateSegment(edge, t);\n        if (!segments)\n            return undefined;\n        const { segmentStart, segmentEnd } = segments;\n        return {\n            x: segmentEnd.x - segmentStart.x,\n            y: segmentEnd.y - segmentStart.y\n        };\n    }\n\n    protected calculateSegment(edge: SRoutableElement, t: number): { segmentStart: Point, segmentEnd: Point, lambda: number} |undefined {\n        if (t < 0 ||t > 1)\n            return undefined;\n        const routedPoints = this.route(edge);\n        if (routedPoints.length < 2)\n            return undefined;\n        const segmentLengths: number[] = [];\n        let totalLength = 0;\n        for (let i = 0; i < routedPoints.length - 1; ++i) {\n            segmentLengths[i]= euclideanDistance(routedPoints[i], routedPoints[i + 1]);\n            totalLength += segmentLengths[i];\n        }\n        let currentLenght = 0;\n        const tAsLenght = t * totalLength;\n        for (let i = 0; i < routedPoints.length - 1; ++i) {\n            const newLength = currentLenght + segmentLengths[i];\n            // avoid division by (almost) zero\n            if (segmentLengths[i] > 1E-8){\n                if (newLength >= tAsLenght) {\n                    const lambda = Math.max(0, (tAsLenght - currentLenght)) / segmentLengths[i];\n                    return {\n                        segmentStart: routedPoints[i],\n                        segmentEnd: routedPoints[i + 1],\n                        lambda\n                    };\n                }\n            }\n            currentLenght = newLength;\n        }\n        return {\n            segmentEnd: routedPoints.pop()!,\n            segmentStart: routedPoints.pop()!,\n            lambda: 1\n        };\n    }\n\n    protected addHandle(edge: SRoutableElement, kind: RoutingHandleKind, type: string, routingPointIndex: number): SRoutingHandle {\n        const handle = new SRoutingHandle();\n        handle.kind = kind;\n        handle.pointIndex = routingPointIndex;\n        handle.type = type;\n        if (kind === 'target' && edge.id === edgeInProgressID)\n            handle.id = edgeInProgressTargetHandleID;\n        edge.add(handle);\n        return handle;\n    }\n\n    getHandlePosition(edge: SRoutableElement, route: RoutedPoint[], handle: SRoutingHandle): Point |undefined {\n        switch (handle.kind) {\n            case 'source':\n                if (edge.source instanceof SDanglingAnchor)\n                    return edge.source.position;\n                else\n                    return route[0];\n            case 'target':\n                if (edge.target instanceof SDanglingAnchor)\n                    return edge.target.position;\n                 else {\n                    return route[route.length - 1];\n                }\n            default:\n                const position = this.getInnerHandlePosition(edge, route, handle);\n                if (position !== undefined)\n                    return position;\n                if (handle.pointIndex >= 0 && handle.pointIndex < edge.routingPoints.length)\n                    return edge.routingPoints[handle.pointIndex];\n        }\n        return undefined;\n    }\n\n    protected abstract getInnerHandlePosition(edge: SRoutableElement, route: RoutedPoint[], handle: SRoutingHandle): Point |undefined;\n\n    protected findRouteSegment(edge: SRoutableElement, route: RoutedPoint[], handleIndex: number): { start?: Point, end?: Point } {\n        const getIndex = (rp: RoutedPoint) => {\n            if (rp.pointIndex !== undefined)\n                return rp.pointIndex;\n            else if (rp.kind === 'target')\n                return edge.routingPoints.length;\n            else\n                return -2;\n        };\n        let start, end: RoutedPoint | undefined;\n        for (const rp of route) {\n            const i = getIndex(rp);\n            if (i <= handleIndex && (start === undefined || i > getIndex(start)))\n                start = rp;\n            if (i > handleIndex && (end === undefined || i < getIndex(end)))\n                end = rp;\n        }\n        return { start, end };\n    }\n\n    getTranslatedAnchor(connectable: SConnectableElement, refPoint: Point, refContainer: SParentElement, edge: SRoutableElement, anchorCorrection: number = 0): Point {\n        const translatedRefPoint = translatePoint(refPoint, refContainer, connectable.parent);\n        const anchorComputer = this.getAnchorComputer(connectable);\n        const strokeCorrection = 0.5 * connectable.strokeWidth;\n        const anchor = anchorComputer.getAnchor(connectable, translatedRefPoint, anchorCorrection + strokeCorrection);\n        return translatePoint(anchor, connectable.parent, edge.parent);\n    }\n\n    protected getAnchorComputer(connectable: SConnectableElement): IAnchorComputer {\n       return this.anchorRegistry.get(this.kind, connectable.anchorKind);\n    }\n\n    applyHandleMoves(edge: SRoutableElement, moves: ResolvedHandleMove[]): void {\n        console.log(1);\n        const remainingMoves = moves.slice();\n        moves.forEach(move => {\n            const handle = move.handle;\n            if (handle.kind === 'source' && !(edge.source instanceof SDanglingAnchor)) {\n                // detach source\n                const anchor = new SDanglingAnchor();\n                anchor.id = edge.id + '_dangling-source';\n                anchor.original = edge.source;\n                anchor.position = move.toPosition;\n                handle.root.add(anchor);\n                handle.danglingAnchor = anchor;\n                edge.sourceId = anchor.id;\n            } else if (handle.kind === 'target' && !(edge.target instanceof SDanglingAnchor)) {\n                // detach target\n                const anchor = new SDanglingAnchor();\n                anchor.id = edge.id + '_dangling-target';\n                anchor.original = edge.target;\n                anchor.position = move.toPosition;\n                handle.root.add(anchor);\n                handle.danglingAnchor = anchor;\n                edge.targetId = anchor.id;\n            }\n            if (handle.danglingAnchor) {\n                handle.danglingAnchor.position = move.toPosition;\n                remainingMoves.splice(remainingMoves.indexOf(move), 1);\n            }\n        });\n        if (remainingMoves.length > 0)\n            this.applyInnerHandleMoves(edge, remainingMoves);\n        this.cleanupRoutingPoints(edge, edge.routingPoints, true, true);\n    }\n\n    protected abstract applyInnerHandleMoves(edge: SRoutableElement, moves: ResolvedHandleMove[]): void;\n\n\n    // is copy pasted from routing.ts, avoid duplicating\n    getCenterPoint(element: SConnectableElement): { x: number, y: number } {\n        let x = element.bounds.width / 2, y = element.bounds.height / 2;\n        let currentElement = element;\n        while (currentElement) {\n            if (currentElement.position) {\n                x += currentElement.position.x;\n                y += currentElement.position.y;\n            }\n\n            if (!(currentElement.parent && currentElement.parent.id === 'graph')) {\n                currentElement = (currentElement.parent as SConnectableElement);\n            } else {\n                break;\n            }\n        }\n        return { x, y };\n    }\n\n    cleanupRoutingPoints(edge: SRoutableElement, routingPoints: Point[], updateHandles: boolean, addRoutingPoints: boolean) {\n        // const sourceAnchors = new DefaultAnchors(edge.source!, edge.parent, \"source\");\n        // const targetAnchors = new DefaultAnchors(edge.target!, edge.parent, \"target\");\n\n        const sourceConnectionEnd = this.getCenterPoint(edge.source as SConnectableElement);\n        const targetConnectionEnd = this.getCenterPoint(edge.target as SConnectableElement);\n        \n        const Avoid = AvoidLib.getInstance();\n        this.avoidRoutes[edge.id].connRef.setSourceEndpoint(\n            new Avoid.ConnEnd(new Avoid.Point(sourceConnectionEnd.x, sourceConnectionEnd.y))\n        );\n        this.avoidRoutes[edge.id].connRef.setDestEndpoint(\n            new Avoid.ConnEnd(new Avoid.Point(targetConnectionEnd.x, targetConnectionEnd.y))\n        );\n\n        return;\n        \n        // this.resetRoutingPointsOnReconnect(edge, routingPoints, updateHandles, sourceAnchors, targetAnchors);\n    }\n\n    protected resetRoutingPointsOnReconnect(edge: SRoutableElement, routingPoints: Point[], updateHandles: boolean,\n        sourceAnchors: DefaultAnchors, targetAnchors: DefaultAnchors): boolean {\n        if (routingPoints.length === 0 ||edge.source instanceof SDanglingAnchor ||edge.target instanceof SDanglingAnchor) {\n            const options = this.getOptions(edge);\n            const corners = this.calculateDefaultCorners(edge, sourceAnchors, targetAnchors, options);\n            routingPoints.splice(0, routingPoints.length, ...corners);\n            if (updateHandles) {\n                let maxPointIndex = -2;\n                edge.children.forEach(child => {\n                    if (child instanceof SRoutingHandle) {\n                        if (child.kind === 'target')\n                            child.pointIndex = routingPoints.length;\n                        else if (child.kind === 'line' && child.pointIndex >= routingPoints.length)\n                            edge.remove(child);\n                        else\n                            maxPointIndex = Math.max(child.pointIndex, maxPointIndex);\n                    }\n                });\n                for (let i = maxPointIndex; i < routingPoints.length - 1; ++i)\n                    this.addHandle(edge, 'manhattan-50%', 'volatile-routing-point', i);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    applyReconnect(edge: SRoutableElement, newSourceId?: string, newTargetId?: string) {\n        let hasChanged = false;\n        if (newSourceId) {\n            const newSource = edge.root.index.getById(newSourceId);\n            if (newSource instanceof SConnectableElement) {\n                edge.sourceId = newSource.id;\n                hasChanged = true;\n            }\n        }\n        if (newTargetId) {\n            const newTarget = edge.root.index.getById(newTargetId);\n            if (newTarget instanceof SConnectableElement) {\n                edge.targetId = newTarget.id;\n                hasChanged = true;\n            }\n        }\n        if (hasChanged) {\n            // reset attached elements in index\n            edge.index.remove(edge);\n            edge.index.add(edge);\n            if (this.getSelfEdgeIndex(edge) > -1) {\n                edge.routingPoints = [];\n                this.cleanupRoutingPoints(edge, edge.routingPoints, true, true);\n            }\n        }\n    }\n\n    takeSnapshot(edge: SRoutableElement): EdgeSnapshot {\n        return {\n            routingPoints: edge.routingPoints.slice(),\n            routingHandles: edge.children\n                .filter(child => child instanceof SRoutingHandle)\n                .map(child => child as SRoutingHandle),\n            routedPoints: this.route(edge),\n            router: this,\n            source: edge.source,\n            target: edge.target\n        };\n    }\n\n    applySnapshot(edge: SRoutableElement, snapshot: EdgeSnapshot): void {\n        edge.routingPoints = snapshot.routingPoints;\n        edge.removeAll(child => child instanceof SRoutingHandle);\n        edge.routerKind = snapshot.router.kind;\n        snapshot.routingHandles.forEach(handle => edge.add(handle));\n        if (snapshot.source)\n            edge.sourceId = snapshot.source.id;\n        if (snapshot.target)\n            edge.targetId = snapshot.target.id;\n        // update index\n        edge.root.index.remove(edge as SModelElement);\n        edge.root.index.add(edge as SModelElement);\n    }\n\n    protected calculateDefaultCorners(edge: SRoutableElement, sourceAnchors: DefaultAnchors, targetAnchors: DefaultAnchors, options: LinearRouteOptions): Point[] {\n        const selfEdgeIndex = this.getSelfEdgeIndex(edge);\n        if (selfEdgeIndex >= 0) {\n            const standardDist = options.standardDistance;\n            const delta = options.selfEdgeOffset * Math.min(sourceAnchors.bounds.width, sourceAnchors.bounds.height);\n            switch (selfEdgeIndex % 4) {\n                case 0:\n                    return [\n                        { x: sourceAnchors.get(Side.RIGHT).x + standardDist, y: sourceAnchors.get(Side.RIGHT).y + delta },\n                        { x: sourceAnchors.get(Side.RIGHT).x + standardDist, y: sourceAnchors.get(Side.BOTTOM).y + standardDist },\n                        { x: sourceAnchors.get(Side.BOTTOM).x + delta, y: sourceAnchors.get(Side.BOTTOM).y + standardDist },\n                    ];\n                case 1:\n                    return [\n                        { x: sourceAnchors.get(Side.BOTTOM).x - delta, y: sourceAnchors.get(Side.BOTTOM).y + standardDist },\n                        { x: sourceAnchors.get(Side.LEFT).x - standardDist, y: sourceAnchors.get(Side.BOTTOM).y + standardDist },\n                        { x: sourceAnchors.get(Side.LEFT).x - standardDist, y: sourceAnchors.get(Side.LEFT).y + delta},\n                    ];\n                case 2:\n                    return [\n                        { x: sourceAnchors.get(Side.LEFT).x - standardDist, y: sourceAnchors.get(Side.LEFT).y - delta },\n                        { x: sourceAnchors.get(Side.LEFT).x - standardDist, y: sourceAnchors.get(Side.TOP).y - standardDist },\n                        { x: sourceAnchors.get(Side.TOP).x - delta, y: sourceAnchors.get(Side.TOP).y - standardDist },\n                    ];\n                case 3:\n                    return [\n                        { x: sourceAnchors.get(Side.TOP).x + delta, y: sourceAnchors.get(Side.TOP).y - standardDist },\n                        { x: sourceAnchors.get(Side.RIGHT).x + standardDist, y: sourceAnchors.get(Side.TOP).y - standardDist },\n                        { x: sourceAnchors.get(Side.RIGHT).x + standardDist, y: sourceAnchors.get(Side.RIGHT).y - delta },\n                    ];\n            }\n        }\n        return [];\n    }\n\n    protected getSelfEdgeIndex(edge: SRoutableElement): number {\n        if (!edge.source ||edge.source !== edge.target)\n            return -1;\n        return edge.source.outgoingEdges\n            .filter(otherEdge => otherEdge.target === edge.source)\n            .indexOf(edge);\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2019-2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// import { translatePoint } from \"../../base/model/smodel-utils\";\nimport { AvoidLib } from 'libavoid-js';\n\nimport { almostEquals, includes, linear, Point, manhattanDistance } from \"sprotty/src/utils/geometry\"; // center,\nimport { ResolvedHandleMove } from \"sprotty/src/features/move/move\";\nimport { DefaultAnchors, LinearEdgeRouter, LinearRouteOptions, Side } from \"./linear-edge-router\";\nimport { SRoutableElement, RoutingHandleKind, SRoutingHandle, SConnectableElement } from \"./model\";\nimport { RoutedPoint } from \"./routing\";\n\nexport interface ManhattanRouterOptions extends LinearRouteOptions {\n    standardDistance: number;\n}\n\nexport class ManhattanEdgeRouter extends LinearEdgeRouter {\n    static readonly KIND = 'manhattan';\n\n    get kind() {\n        return ManhattanEdgeRouter.KIND;\n    }\n\n    protected getOptions(edge: SRoutableElement): ManhattanRouterOptions {\n        return {\n            standardDistance: 20,\n            minimalPointDistance: 3,\n            selfEdgeOffset: 0.25\n        };\n    }\n\n    route(edge: SRoutableElement): RoutedPoint[] {\n        if (!edge.source || !edge.target)\n            return [];\n        // const routedCorners = this.createRoutedCorners(edge);\n        // const sourceRefPoint = routedCorners[0]\n        //     || translatePoint(center(edge.target.bounds), edge.target.parent, edge.parent);\n        // const sourceAnchor = this.getTranslatedAnchor(edge.source, sourceRefPoint, edge.parent, edge, edge.sourceAnchorCorrection);\n        // const targetRefPoint = routedCorners[routedCorners.length - 1]\n        //     || translatePoint(center(edge.source.bounds), edge.source.parent, edge.parent);\n        // const targetAnchor = this.getTranslatedAnchor(edge.target, targetRefPoint, edge.parent, edge, edge.targetAnchorCorrection);\n        // if (!sourceAnchor || !targetAnchor)\n        //     return [];\n        // const routedPoints: RoutedPoint[] = [];\n        // routedPoints.push({ kind: 'source', ...sourceAnchor});\n        // routedCorners.forEach(corner => routedPoints.push(corner));\n        // routedPoints.push({ kind: 'target', ...targetAnchor});\n\n        const routedPoints = [];\n        if (!this.avoidRoutes[edge.id]) {\n            return [];\n        }\n        const route = this.avoidRoutes[edge.id].connRef.displayRoute();\n        for (let i = 0; i < route.size(); i++) {\n            let kind:('source'|'linear'|'target') = 'linear';\n            if (i === 0) {\n                kind = 'source';\n            } else if (i === route.size() - 1) {\n                kind = 'target';\n            }\n            routedPoints.push({ x: route.get_ps(i).x, y: route.get_ps(i).y, kind, pointIndex: 1 });\n        }\n\n        return routedPoints;\n    }\n\n    protected createRoutedCorners(edge: SRoutableElement): RoutedPoint[] {\n        const sourceAnchors = new DefaultAnchors(edge.source!, edge.parent, 'source');\n        const targetAnchors = new DefaultAnchors(edge.target!, edge.parent, 'target');\n        if (edge.routingPoints.length > 0) {\n            const routingPointsCopy = edge.routingPoints.slice();\n            this.cleanupRoutingPoints(edge, routingPointsCopy, false, true);\n            if (routingPointsCopy.length > 0)\n                return routingPointsCopy.map((routingPoint, index) => {\n                    return <RoutedPoint> { kind: 'linear', pointIndex: index, ...routingPoint};\n                });\n        }\n        const options = this.getOptions(edge);\n        const corners = this.calculateDefaultCorners(edge, sourceAnchors, targetAnchors, options);\n        return corners.map(corner => {\n            return <RoutedPoint> { kind: 'linear', ...corner };\n        });\n    }\n\n    createRoutingHandles(edge: SRoutableElement) {\n        const routedPoints = this.route(edge);\n        this.commitRoute(edge, routedPoints);\n        if (routedPoints.length > 0) {\n            this.addHandle(edge, 'source', 'routing-point', -2);\n            for (let i = 0; i < routedPoints.length - 1; ++i)\n                this.addHandle(edge, 'manhattan-50%', 'volatile-routing-point', i - 1);\n            this.addHandle(edge, 'target', 'routing-point', routedPoints.length - 2);\n        }\n    }\n\n    protected getInnerHandlePosition(edge: SRoutableElement, route: RoutedPoint[], handle: SRoutingHandle) {\n        const fraction = this.getFraction(handle.kind);\n        if (fraction !== undefined) {\n            const { start, end } = this.findRouteSegment(edge, route, handle.pointIndex);\n            if (start !== undefined && end !== undefined)\n                return linear(start, end, fraction);\n        }\n        return undefined;\n    }\n\n    protected getFraction(kind: RoutingHandleKind): number |undefined {\n        switch (kind) {\n            case 'manhattan-50%': return 0.5;\n            default: return undefined;\n        }\n    }\n\n    protected commitRoute(edge: SRoutableElement, routedPoints: RoutedPoint[]) {\n        const newRoutingPoints: Point[] = [];\n        for (let i = 1; i < routedPoints.length - 1; ++i)\n            newRoutingPoints.push({ x: routedPoints[i].x, y: routedPoints[i].y });\n        edge.routingPoints = newRoutingPoints;\n    }\n\n    protected applyInnerHandleMoves(edge: SRoutableElement, moves: ResolvedHandleMove[]){\n        const route = this.route(edge);\n        const routingPoints = edge.routingPoints;\n        const minimalPointDistance = this.getOptions(edge).minimalPointDistance;\n        moves.forEach(move => {\n            const handle = move.handle;\n            const index = handle.pointIndex;\n            const correctedX = this.correctX(routingPoints, index, move.toPosition.x, minimalPointDistance);\n            const correctedY = this.correctY(routingPoints, index, move.toPosition.y, minimalPointDistance);\n            switch (handle.kind) {\n                case 'manhattan-50%':\n                    if (index < 0) {\n                        if (almostEquals(route[0].x, route[1].x))\n                            this.alignX(routingPoints, 0, correctedX);\n                        else\n                            this.alignY(routingPoints, 0, correctedY);\n                    } else if (index < routingPoints.length - 1) {\n                        if (almostEquals(routingPoints[index].x, routingPoints[index + 1].x)) {\n                            this.alignX(routingPoints, index, correctedX);\n                            this.alignX(routingPoints, index + 1, correctedX);\n                        } else {\n                            this.alignY(routingPoints, index, correctedY);\n                            this.alignY(routingPoints, index + 1, correctedY);\n                        }\n                    } else {\n                        if (almostEquals(route[route.length - 2].x, route[route.length - 1].x))\n                            this.alignX(routingPoints, routingPoints.length - 1, correctedX);\n                        else\n                            this.alignY(routingPoints, routingPoints.length - 1, correctedY);\n                    }\n                    break;\n            }\n        });\n    }\n\n    protected correctX(routingPoints: Point[], index: number, x: number, minimalPointDistance: number) {\n        if (index > 0 && Math.abs(x - routingPoints[index - 1].x) < minimalPointDistance)\n            return routingPoints[index - 1].x;\n        else if (index < routingPoints.length - 2 && Math.abs(x - routingPoints[index + 2].x) < minimalPointDistance)\n            return routingPoints[index + 2].x;\n        else\n            return x;\n    }\n\n    protected alignX(routingPoints: Point[], index: number, x: number) {\n        if (index >= 0 && index < routingPoints.length)\n            routingPoints[index] = {\n                x,\n                y: routingPoints[index].y\n            };\n    }\n\n    protected correctY(routingPoints: Point[], index: number, y: number, minimalPointDistance: number) {\n        if (index > 0 && Math.abs(y - routingPoints[index - 1].y) < minimalPointDistance)\n            return routingPoints[index - 1].y;\n        else if (index < routingPoints.length - 2 && Math.abs(y - routingPoints[index + 2].y) < minimalPointDistance)\n            return routingPoints[index + 2].y;\n        else\n            return y;\n    }\n\n    protected alignY(routingPoints: Point[], index: number, y: number) {\n        if (index >= 0 && index < routingPoints.length)\n            routingPoints[index] = {\n                x: routingPoints[index].x,\n                y\n            };\n    }\n\n    // is copy pasted from routing.ts, avoid duplicating\n    getCenterPoint(element: SConnectableElement): { x: number, y: number } {\n        let x = element.bounds.width / 2, y = element.bounds.height / 2;\n        let currentElement = element;\n        while (currentElement) {\n            if (currentElement.position) {\n                x += currentElement.position.x;\n                y += currentElement.position.y;\n            }\n\n            if (!(currentElement.parent && currentElement.parent.id === 'graph')) {\n                currentElement = (currentElement.parent as SConnectableElement);\n            } else {\n                break;\n            }\n        }\n        return { x, y };\n    }\n\n    cleanupRoutingPoints(edge: SRoutableElement, routingPoints: Point[], updateHandles: boolean, addRoutingPoints: boolean) {\n        const sourceAnchors = new DefaultAnchors(edge.source!, edge.parent, \"source\");\n        const targetAnchors = new DefaultAnchors(edge.target!, edge.parent, \"target\");\n\n        const sourceConnectionEnd = this.getCenterPoint(edge.source as SConnectableElement);\n        const targetConnectionEnd = this.getCenterPoint(edge.target as SConnectableElement);\n        \n        const Avoid = AvoidLib.getInstance();\n        this.avoidRoutes[edge.id].connRef.setSourceEndpoint(\n            new Avoid.ConnEnd(new Avoid.Point(sourceConnectionEnd.x, sourceConnectionEnd.y))\n        );\n        this.avoidRoutes[edge.id].connRef.setDestEndpoint(\n            new Avoid.ConnEnd(new Avoid.Point(targetConnectionEnd.x, targetConnectionEnd.y))\n        );\n\n        return;\n        if (this.resetRoutingPointsOnReconnect(edge, routingPoints, updateHandles, sourceAnchors, targetAnchors))\n            return;\n        // delete leading RPs inside the bounds of the source\n        for (let i = 0; i < routingPoints.length; ++i)\n            if (includes(sourceAnchors.bounds, routingPoints[i])) {\n                routingPoints.splice(0, 1);\n                if (updateHandles) {\n                    this.removeHandle(edge, -1);\n                }\n            } else {\n                break;\n            }\n        // delete trailing RPs inside the bounds of the target\n        for (let i = routingPoints.length - 1; i >= 0; --i)\n            if (includes(targetAnchors.bounds, routingPoints[i])) {\n                routingPoints.splice(i, 1);\n                if (updateHandles) {\n                    this.removeHandle(edge, i);\n                }\n            } else {\n                break;\n        }\n        if (routingPoints.length >= 2) {\n            const options = this.getOptions(edge);\n            for (let i = routingPoints.length - 2; i >= 0; --i) {\n                if (manhattanDistance(routingPoints[i], routingPoints[i + 1]) < options.minimalPointDistance) {\n                    routingPoints.splice(i, 2);\n                    --i;\n                    if (updateHandles) {\n                        this.removeHandle(edge, i - 1);\n                        this.removeHandle(edge, i);\n                    }\n                }\n            }\n        }\n        if (addRoutingPoints) {\n            this.addAdditionalCorner(edge, routingPoints, sourceAnchors, targetAnchors, updateHandles);\n            this.addAdditionalCorner(edge, routingPoints, targetAnchors, sourceAnchors, updateHandles);\n            this.manhattanify(edge, routingPoints);\n        }\n    }\n\n    protected removeHandle(edge: SRoutableElement, pointIndex: number) {\n        const toBeRemoved: SRoutingHandle[] = [];\n        edge.children.forEach(child => {\n            if (child instanceof SRoutingHandle) {\n                if (child.pointIndex > pointIndex)\n                    --child.pointIndex;\n                else if (child.pointIndex === pointIndex)\n                    toBeRemoved.push(child);\n            }\n        });\n        toBeRemoved.forEach(child => edge.remove(child));\n    }\n\n    protected addAdditionalCorner(edge: SRoutableElement, routingPoints: Point[], currentAnchors: DefaultAnchors, otherAnchors: DefaultAnchors, updateHandles: boolean) {\n        if (routingPoints.length === 0)\n            return;\n        const refPoint = currentAnchors.kind === 'source' ? routingPoints[0] : routingPoints[routingPoints.length - 1];\n        const index = currentAnchors.kind === 'source' ? 0 : routingPoints.length;\n        const shiftIndex = index - (currentAnchors.kind === 'source' ? 1 : 0);\n        let isHorizontal: boolean;\n        if (routingPoints.length > 1) {\n            isHorizontal = index === 0\n            ? almostEquals(routingPoints[0].x, routingPoints[1].x)\n            : almostEquals(routingPoints[routingPoints.length - 1].x, routingPoints[routingPoints.length - 2].x);\n        } else {\n            const nearestSide = otherAnchors.getNearestSide(refPoint);\n            isHorizontal = nearestSide === Side.TOP ||nearestSide === Side.BOTTOM;\n        }\n        if (isHorizontal) {\n            if (refPoint.y < currentAnchors.get(Side.TOP).y || refPoint.y > currentAnchors.get(Side.BOTTOM).y) {\n                const newPoint = { x: currentAnchors.get(Side.TOP).x, y: refPoint.y };\n                routingPoints.splice(index, 0, newPoint);\n                if (updateHandles) {\n                    edge.children.forEach(child => {\n                        if (child instanceof SRoutingHandle && child.pointIndex >= shiftIndex)\n                            ++child.pointIndex;\n                    });\n                    this.addHandle(edge, 'manhattan-50%', 'volatile-routing-point', shiftIndex);\n                }\n            }\n        } else {\n            if (refPoint.x < currentAnchors.get(Side.LEFT).x || refPoint.x > currentAnchors.get(Side.RIGHT).x) {\n                const newPoint = { x: refPoint.x, y: currentAnchors.get(Side.LEFT).y };\n                routingPoints.splice(index, 0, newPoint);\n                if (updateHandles) {\n                    edge.children.forEach(child => {\n                        if (child instanceof SRoutingHandle && child.pointIndex >= shiftIndex)\n                            ++child.pointIndex;\n                    });\n                    this.addHandle(edge, 'manhattan-50%', 'volatile-routing-point', shiftIndex);\n                }\n            }\n        }\n    }\n\n    /**\n     * Add artificial routing points to keep all angles rectilinear.\n     *\n     * This makes edge morphing look a lot smoother, where RP positions are interpolated\n     * linearly probably resulting in non-rectilinear angles. We don't add handles for\n     * these additional RPs.\n     */\n    protected manhattanify(edge: SRoutableElement, routingPoints: Point[]) {\n        for (let i = 1; i < routingPoints.length; ++i) {\n            const isVertical = Math.abs(routingPoints[i - 1].x - routingPoints[i].x) < 1;\n            const isHorizontal = Math.abs(routingPoints[i - 1].y - routingPoints[i].y) < 1;\n            if (!isVertical && !isHorizontal) {\n                routingPoints.splice(i, 0, {\n                    x: routingPoints[i - 1].x,\n                    y: routingPoints[i].y\n                });\n                ++i;\n            }\n        }\n    }\n\n    protected calculateDefaultCorners(edge: SRoutableElement, sourceAnchors: DefaultAnchors, targetAnchors: DefaultAnchors, options: ManhattanRouterOptions): Point[] {\n        const selfEdge = super.calculateDefaultCorners(edge, sourceAnchors, targetAnchors, options);\n        if (selfEdge.length > 0)\n            return selfEdge;\n        const bestAnchors= this.getBestConnectionAnchors(edge, sourceAnchors, targetAnchors, options);\n        const sourceSide = bestAnchors.source;\n        const targetSide = bestAnchors.target;\n        const corners: Point[] = [];\n        const startPoint = sourceAnchors.get(sourceSide);\n        let endPoint = targetAnchors.get(targetSide);\n        switch (sourceSide) {\n            case Side.RIGHT:\n                switch (targetSide) {\n                    case Side.BOTTOM:\n                        corners.push({ x: endPoint.x, y: startPoint.y });\n                        break;\n                    case Side.TOP:\n                        corners.push({ x: endPoint.x, y: startPoint.y });\n                        break;\n                    case Side.RIGHT:\n                        corners.push({ x: Math.max(startPoint.x, endPoint.x) + 1.5 * options.standardDistance, y: startPoint.y });\n                        corners.push({ x: Math.max(startPoint.x, endPoint.x) + 1.5 * options.standardDistance, y: endPoint.y });\n                        break;\n                    case Side.LEFT:\n                        if (endPoint.y !== startPoint.y) {\n                            corners.push({ x: (startPoint.x + endPoint.x) / 2, y: startPoint.y });\n                            corners.push({ x: (startPoint.x + endPoint.x) / 2, y: endPoint.y });\n                        }\n                        break;\n                }\n                break;\n            case Side.LEFT:\n                switch (targetSide) {\n                    case Side.BOTTOM:\n                        corners.push({ x: endPoint.x, y: startPoint.y });\n                        break;\n                    case Side.TOP:\n                        corners.push({ x: endPoint.x, y: startPoint.y });\n                        break;\n                    default:\n                        endPoint = targetAnchors.get(Side.RIGHT);\n                        if (endPoint.y !== startPoint.y) {\n                            corners.push({ x: (startPoint.x + endPoint.x) / 2, y: startPoint.y });\n                            corners.push({ x: (startPoint.x + endPoint.x) / 2, y: endPoint.y });\n                        }\n                        break;\n                }\n                break;\n            case Side.TOP:\n                switch (targetSide) {\n                    case Side.RIGHT:\n                        if ((endPoint.x - startPoint.x) > 0) {\n                            corners.push({ x: startPoint.x, y: startPoint.y - options.standardDistance });\n                            corners.push({ x: endPoint.x + 1.5 * options.standardDistance, y: startPoint.y - options.standardDistance });\n                            corners.push({ x: endPoint.x + 1.5 * options.standardDistance, y: endPoint.y });\n                        } else {\n                            corners.push({ x: startPoint.x, y: endPoint.y });\n                        }\n                        break;\n                    case Side.LEFT:\n                        if ((endPoint.x - startPoint.x) < 0) {\n                            corners.push({ x: startPoint.x, y: startPoint.y - options.standardDistance });\n                            corners.push({ x: endPoint.x - 1.5 * options.standardDistance, y: startPoint.y - options.standardDistance });\n                            corners.push({ x: endPoint.x - 1.5 * options.standardDistance, y: endPoint.y });\n                        } else {\n                            corners.push({ x: startPoint.x, y: endPoint.y });\n                        }\n                        break;\n                    case Side.TOP:\n                        corners.push({ x: startPoint.x, y: Math.min(startPoint.y, endPoint.y) - 1.5 * options.standardDistance });\n                        corners.push({ x: endPoint.x, y: Math.min(startPoint.y, endPoint.y) - 1.5 * options.standardDistance });\n                        break;\n                    case Side.BOTTOM:\n                        if (endPoint.x !== startPoint.x) {\n                            corners.push({ x: startPoint.x, y: (startPoint.y + endPoint.y) / 2 });\n                            corners.push({ x: endPoint.x, y: (startPoint.y + endPoint.y) / 2 });\n                        }\n                        break;\n                }\n                break;\n            case Side.BOTTOM:\n                switch (targetSide) {\n                    case Side.RIGHT:\n                        if ((endPoint.x - startPoint.x) > 0) {\n                            corners.push({ x: startPoint.x, y: startPoint.y + options.standardDistance });\n                            corners.push({ x: endPoint.x + 1.5 * options.standardDistance, y: startPoint.y + options.standardDistance });\n                            corners.push({ x: endPoint.x + 1.5 * options.standardDistance, y: endPoint.y });\n                        } else {\n                            corners.push({ x: startPoint.x, y: endPoint.y });\n                        }\n                        break;\n                    case Side.LEFT:\n                        if ((endPoint.x - startPoint.x) < 0) {\n                            corners.push({ x: startPoint.x, y: startPoint.y + options.standardDistance });\n                            corners.push({ x: endPoint.x - 1.5 * options.standardDistance, y: startPoint.y + options.standardDistance });\n                            corners.push({ x: endPoint.x - 1.5 * options.standardDistance, y: endPoint.y });\n                        } else {\n                            corners.push({ x: startPoint.x, y: endPoint.y });\n                        }\n                        break;\n                    default:\n                        endPoint = targetAnchors.get(Side.TOP);\n                        if (endPoint.x !== startPoint.x) {\n                            corners.push({ x: startPoint.x, y: (startPoint.y + endPoint.y) / 2 });\n                            corners.push({ x: endPoint.x, y: (startPoint.y + endPoint.y) / 2 });\n                        }\n                        break;\n                }\n                break;\n        }\n        return corners;\n    }\n\n    protected getBestConnectionAnchors(edge: SRoutableElement,\n                                        sourceAnchors: DefaultAnchors, targetAnchors: DefaultAnchors,\n                                        options: ManhattanRouterOptions): { source: Side, target: Side } {\n        // distance is enough\n        let sourcePoint = sourceAnchors.get(Side.RIGHT);\n        let targetPoint = targetAnchors.get(Side.LEFT);\n        if ((targetPoint.x - sourcePoint.x) > options.standardDistance)\n            return { source: Side.RIGHT, target: Side.LEFT };\n\n        sourcePoint = sourceAnchors.get(Side.LEFT);\n        targetPoint = targetAnchors.get(Side.RIGHT);\n        if ((sourcePoint.x - targetPoint.x) > options.standardDistance)\n            return { source: Side.LEFT, target: Side.RIGHT };\n\n        sourcePoint = sourceAnchors.get(Side.TOP);\n        targetPoint = targetAnchors.get(Side.BOTTOM);\n        if ((sourcePoint.y - targetPoint.y) > options.standardDistance)\n            return { source: Side.TOP, target: Side.BOTTOM };\n\n        sourcePoint = sourceAnchors.get(Side.BOTTOM);\n        targetPoint = targetAnchors.get(Side.TOP);\n        if ((targetPoint.y - sourcePoint.y) > options.standardDistance)\n            return { source: Side.BOTTOM, target: Side.TOP };\n\n        // One additional point\n        sourcePoint = sourceAnchors.get(Side.RIGHT);\n        targetPoint = targetAnchors.get(Side.TOP);\n        if (((targetPoint.x - sourcePoint.x) > 0.5 * options.standardDistance) && ((targetPoint.y - sourcePoint.y) > options.standardDistance))\n            return { source: Side.RIGHT, target: Side.TOP };\n\n        targetPoint = targetAnchors.get(Side.BOTTOM);\n        if (((targetPoint.x - sourcePoint.x) > 0.5 * options.standardDistance) && ((sourcePoint.y - targetPoint.y) > options.standardDistance))\n            return { source: Side.RIGHT, target: Side.BOTTOM };\n\n        sourcePoint = sourceAnchors.get(Side.LEFT);\n        targetPoint = targetAnchors.get(Side.BOTTOM);\n        if (((sourcePoint.x - targetPoint.x) > 0.5 * options.standardDistance) && ((sourcePoint.y - targetPoint.y) > options.standardDistance))\n            return { source: Side.LEFT, target: Side.BOTTOM };\n\n        targetPoint = targetAnchors.get(Side.TOP);\n        if (((sourcePoint.x - targetPoint.x) > 0.5 * options.standardDistance) && ((targetPoint.y - sourcePoint.y) > options.standardDistance))\n            return { source: Side.LEFT, target: Side.TOP };\n\n        sourcePoint = sourceAnchors.get(Side.TOP);\n        targetPoint = targetAnchors.get(Side.RIGHT);\n        if (((sourcePoint.y - targetPoint.y) > 0.5 * options.standardDistance) && ((sourcePoint.x - targetPoint.x) > options.standardDistance))\n            return { source: Side.TOP, target: Side.RIGHT };\n\n        targetPoint = targetAnchors.get(Side.LEFT);\n        if (((sourcePoint.y - targetPoint.y) > 0.5 * options.standardDistance) && ((targetPoint.x - sourcePoint.x) > options.standardDistance))\n            return { source: Side.TOP, target: Side.LEFT };\n\n        sourcePoint = sourceAnchors.get(Side.BOTTOM);\n        targetPoint = targetAnchors.get(Side.RIGHT);\n        if (((targetPoint.y - sourcePoint.y) > 0.5 * options.standardDistance) && ((sourcePoint.x - targetPoint.x) > options.standardDistance))\n            return { source: Side.BOTTOM, target: Side.RIGHT };\n\n        targetPoint = targetAnchors.get(Side.LEFT);\n        if (((targetPoint.y - sourcePoint.y) > 0.5 * options.standardDistance) && ((targetPoint.x - sourcePoint.x) > options.standardDistance))\n            return { source: Side.BOTTOM, target: Side.LEFT };\n\n        // Two points\n        // priority NN >> EE >> NE >> NW >> SE >> SW\n        sourcePoint = sourceAnchors.get(Side.TOP);\n        targetPoint = targetAnchors.get(Side.TOP);\n        if (!includes(targetAnchors.bounds, sourcePoint) && !includes(sourceAnchors.bounds, targetPoint)) {\n            if ((sourcePoint.y - targetPoint.y) < 0) {\n                if (Math.abs(sourcePoint.x - targetPoint.x) > ((sourceAnchors.bounds.width + options.standardDistance) / 2))\n                    return { source: Side.TOP, target: Side.TOP };\n            } else {\n                if (Math.abs(sourcePoint.x - targetPoint.x) > (targetAnchors.bounds.width / 2))\n                    return { source: Side.TOP, target: Side.TOP };\n            }\n        }\n\n        sourcePoint = sourceAnchors.get(Side.RIGHT);\n        targetPoint = targetAnchors.get(Side.RIGHT);\n        if (!includes(targetAnchors.bounds, sourcePoint) && !includes(sourceAnchors.bounds, targetPoint)) {\n            if ((sourcePoint.x - targetPoint.x) > 0) {\n                if (Math.abs(sourcePoint.y - targetPoint.y) > ((sourceAnchors.bounds.height + options.standardDistance) / 2))\n                    return { source: Side.RIGHT, target: Side.RIGHT };\n            } else if (Math.abs(sourcePoint.y - targetPoint.y) > (targetAnchors.bounds.height / 2))\n                return { source: Side.RIGHT, target: Side.RIGHT };\n        }\n\n        // Secondly, judge NE NW is available\n        sourcePoint = sourceAnchors.get(Side.TOP);\n        targetPoint = targetAnchors.get(Side.RIGHT);\n        if (!includes(targetAnchors.bounds, sourcePoint) && !includes(sourceAnchors.bounds, targetPoint))\n            return { source: Side.TOP, target: Side.RIGHT };\n\n        targetPoint = targetAnchors.get(Side.LEFT);\n        if (!includes(targetAnchors.bounds, sourcePoint) && !includes(sourceAnchors.bounds, targetPoint))\n            return { source: Side.TOP, target: Side.LEFT };\n\n        // Finally, judge SE SW is available\n        sourcePoint = sourceAnchors.get(Side.BOTTOM);\n        targetPoint = targetAnchors.get(Side.RIGHT);\n        if (!includes(targetAnchors.bounds, sourcePoint) && !includes(sourceAnchors.bounds, targetPoint))\n            return { source: Side.BOTTOM, target: Side.RIGHT };\n\n        targetPoint = targetAnchors.get(Side.LEFT);\n        if (!includes(targetAnchors.bounds, sourcePoint) && !includes(sourceAnchors.bounds, targetPoint))\n            return { source: Side.BOTTOM, target: Side.LEFT };\n\n        // Only to return to the\n        return { source: Side.RIGHT, target: Side.BOTTOM };\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { center, Point, Bounds, Line, PointToPointLine, intersection, subtract } from \"sprotty/src/utils/geometry\";\nimport { RECTANGULAR_ANCHOR_KIND, IAnchorComputer, DIAMOND_ANCHOR_KIND, ELLIPTIC_ANCHOR_KIND } from \"sprotty/src/features/routing/anchor\";\nimport { ManhattanEdgeRouter } from \"./manhattan-edge-router\";\nimport { SConnectableElement } from \"./model\";\nimport { injectable } from \"inversify\";\n\n@injectable()\nexport class ManhattanRectangularAnchor implements IAnchorComputer {\n\n    static KIND = ManhattanEdgeRouter.KIND + ':' + RECTANGULAR_ANCHOR_KIND;\n\n    get kind() {\n        return ManhattanRectangularAnchor.KIND;\n    }\n\n    getAnchor(connectable: SConnectableElement, refPoint: Point, offset: number): Point {\n        const b = connectable.bounds;\n        if (b.width <= 0 || b.height <= 0) {\n            return b;\n        }\n        const bounds: Bounds = {\n            x: b.x - offset,\n            y: b.y - offset,\n            width: b.width + 2 * offset,\n            height: b.height + 2 * offset\n        };\n        if (refPoint.x >= bounds.x && bounds.x + bounds.width >= refPoint.x) {\n            if (refPoint.y < bounds.y + 0.5 * bounds.height)\n            return { x: refPoint.x, y: bounds.y };\n            else\n            return { x: refPoint.x, y: bounds.y + bounds.height };\n        }\n        if (refPoint.y >= bounds.y && bounds.y + bounds.height >= refPoint.y) {\n            if (refPoint.x < bounds.x + 0.5 * bounds.width)\n            return { x: bounds.x, y: refPoint.y };\n            else\n            return { x: bounds.x + bounds.width, y: refPoint.y };\n        }\n        return center(bounds);\n    }\n}\n\n@injectable()\nexport class ManhattanDiamondAnchor implements IAnchorComputer {\n\n    static KIND = ManhattanEdgeRouter.KIND + ':' + DIAMOND_ANCHOR_KIND;\n\n    get kind() {\n        return ManhattanDiamondAnchor.KIND;\n    }\n\n    getAnchor(connectable: SConnectableElement, refPoint: Point, offset: number = 0): Point {\n        const b = connectable.bounds;\n        if (b.width <= 0 || b.height <= 0) {\n            return b;\n        }\n        const bounds = {\n            x: b.x - offset,\n            y: b.y - offset,\n            width: b.width + 2 * offset,\n            height: b.height + 2 * offset\n        };\n        const c = center(bounds);\n\n        let outline: Line |undefined = undefined;\n        let refLine: Line |undefined = undefined;\n        if (refPoint.x >= bounds.x && refPoint.x <= bounds.x + bounds.width) {\n            if (bounds.x + 0.5 * bounds.width >= refPoint.x) {\n                refLine = new PointToPointLine(refPoint, { x: refPoint.x, y: c.y });\n                if (refPoint.y < c.y)\n                    outline = new PointToPointLine({ x: bounds.x, y: c.y }, { x: c.x, y: bounds.y });\n                else\n                    outline = new PointToPointLine({ x: bounds.x, y: c.y }, { x: c.x, y: bounds.y + bounds.height });\n            }else {\n                refLine = new PointToPointLine(refPoint, { x: refPoint.x, y: c.y });\n                if (refPoint.y < c.y)\n                    outline = new PointToPointLine({ x: bounds.x + bounds.width, y: c.y }, { x: c.x, y: bounds.y });\n                else\n                    outline = new PointToPointLine({ x: bounds.x + bounds.width, y: c.y }, { x: c.x, y: bounds.y + bounds.height });\n            }\n        } else if (refPoint.y >= bounds.y && refPoint.y <= bounds.y + bounds.height) {\n            if (bounds.y + 0.5 * bounds.height >= refPoint.y) {\n                refLine = new PointToPointLine(refPoint, { x: c.x , y: refPoint.y });\n                if (refPoint.x < c.x)\n                    outline = new PointToPointLine({ x: bounds.x, y: c.y }, { x: c.x, y: bounds.y });\n                else\n                    outline = new PointToPointLine({ x: bounds.x + bounds.width, y: c.y }, { x: c.x, y: bounds.y });\n            } else {\n                refLine = new PointToPointLine(refPoint, { x: c.x , y: refPoint.y });\n                if (refPoint.x < c.x)\n                    outline = new PointToPointLine({ x: bounds.x, y: c.y }, { x: c.x, y: bounds.y + bounds.height });\n                else\n                    outline = new PointToPointLine({ x: bounds.x + bounds.width, y: c.y }, { x: c.x, y: bounds.y + bounds.height });\n            }\n        }\n        if (!!refLine && !!outline)\n            return intersection(outline, refLine);\n        else\n            return c;\n    }\n}\n\n@injectable()\nexport class ManhattanEllipticAnchor implements IAnchorComputer {\n\n    static KIND = ManhattanEdgeRouter.KIND + ':' + ELLIPTIC_ANCHOR_KIND;\n\n    get kind() {\n        return ManhattanEllipticAnchor.KIND;\n    }\n\n    getAnchor(connectable: SConnectableElement, refPoint: Point, offset: number = 0): Point {\n        const b = connectable.bounds;\n        if (b.width <= 0 || b.height <= 0) {\n            return b;\n        }\n        const bounds = {\n            x: b.x - offset,\n            y: b.y - offset,\n            width: b.width + 2 * offset,\n            height: b.height + 2 * offset\n        };\n        const c = center(bounds);\n        const refRelative = subtract(refPoint, c);\n        let x = c.x;\n        let y = c.y;\n        if (refPoint.x >= bounds.x && bounds.x + bounds.width >= refPoint.x) {\n            x += refRelative.x;\n            const dy = 0.5 * bounds.height * Math.sqrt(1 - (refRelative.x * refRelative.x) / (0.25 * bounds.width * bounds.width));\n            if (refRelative.y < 0)\n                y -= dy;\n            else\n                y += dy;\n        } else if (refPoint.y >= bounds.y && bounds.y + bounds.height >= refPoint.y) {\n            y += refRelative.y;\n            const dx = 0.5 * bounds.width * Math.sqrt(1 - (refRelative.y * refRelative.y) / (0.25 * bounds.height * bounds.height));\n            if (refRelative.x < 0)\n                x -= dx;\n            else\n                x += dx;\n        }\n        return { x, y };\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from \"inversify\";\nimport { angleBetweenPoints,  centerOfLine, Point } from \"sprotty/src/utils/geometry\"; // center, maxDistance,\nimport { SRoutingHandle } from \"./model\";\nimport { ResolvedHandleMove } from \"sprotty/src/features/move/move\";\nimport { AnchorComputerRegistry } from \"sprotty/src/features/routing/anchor\";\nimport { LinearEdgeRouter, LinearRouteOptions } from \"./linear-edge-router\";\nimport { SRoutableElement } from \"./model\";\nimport { RoutedPoint } from \"./routing\";\n\nexport interface PolylineRouteOptions extends LinearRouteOptions {\n    /** The angle in radians below which a routing handle is removed. */\n    removeAngleThreshold: number;\n}\n\n@injectable()\nexport class PolylineEdgeRouter extends LinearEdgeRouter {\n\n    @inject(AnchorComputerRegistry) anchorRegistry: AnchorComputerRegistry;\n\n    static readonly KIND = 'polyline';\n\n    get kind() {\n        return PolylineEdgeRouter.KIND;\n    }\n\n    protected getOptions(edge: SRoutableElement): PolylineRouteOptions {\n        return {\n            minimalPointDistance: 2,\n            removeAngleThreshold: 0.1,\n            standardDistance: 20,\n            selfEdgeOffset: 0.25\n        };\n    }\n\n    route(edge: SRoutableElement): RoutedPoint[] {\n        const source = edge.source;\n        const target = edge.target;\n        if (source === undefined || target === undefined) {\n            return [];\n        }\n\n        const routedPoints = [];\n        if (!this.avoidRoutes[edge.id]) {\n            return [];\n        }\n        const route = this.avoidRoutes[edge.id].connRef.displayRoute();\n        for (let i = 0; i < route.size(); i++) {\n            let kind:('source'|'linear'|'target') = 'linear';\n            if (i === 0) {\n                kind = 'source';\n            } else if (i === route.size() - 1) {\n                kind = 'target';\n            }\n            routedPoints.push({ x: route.get_ps(i).x, y: route.get_ps(i).y, kind, pointIndex: 1 });\n        }\n\n        return routedPoints;\n\n    //     let sourceAnchor: Point;\n    //     let targetAnchor: Point;\n    //     const options = this.getOptions(edge);\n    //     const routingPoints = edge.routingPoints.length > 0\n    //         ? edge.routingPoints\n    //         : [];\n    //     this.cleanupRoutingPoints(edge, routingPoints, false, false);\n    //     const rpCount = routingPoints !== undefined ? routingPoints.length : 0;\n    //     if (rpCount === 0) {\n    //         // Use the target center as start anchor reference\n    //         const startRef = center(target.bounds);\n    //         sourceAnchor = this.getTranslatedAnchor(source, startRef, target.parent, edge, edge.sourceAnchorCorrection);\n    //         // Use the source center as end anchor reference\n    //         const endRef = center(source.bounds);\n    //         targetAnchor = this.getTranslatedAnchor(target, endRef, source.parent, edge, edge.targetAnchorCorrection);\n    //     } else {\n    //         // Use the first routing point as start anchor reference\n    //         const p0 = routingPoints[0];\n    //         sourceAnchor = this.getTranslatedAnchor(source, p0, edge.parent, edge, edge.sourceAnchorCorrection);\n    //         // Use the last routing point as end anchor reference\n    //         const pn = routingPoints[rpCount - 1];\n    //         targetAnchor = this.getTranslatedAnchor(target, pn, edge.parent, edge, edge.targetAnchorCorrection);\n    //     }\n\n    //     const result: RoutedPoint[] = [];\n    //     result.push({ kind: 'source', x: sourceAnchor.x, y: sourceAnchor.y });\n    //     for (let i = 0; i < rpCount; i++) {\n    //         const p = routingPoints[i];\n    //         if (i > 0 && i < rpCount - 1\n    //             || i === 0 && maxDistance(sourceAnchor, p) >= options.minimalPointDistance + (edge.sourceAnchorCorrection || 0)\n    //             || i === rpCount - 1 && maxDistance(p, targetAnchor) >= options.minimalPointDistance + (edge.targetAnchorCorrection || 0)) {\n    //             result.push({ kind: 'linear', x: p.x, y: p.y, pointIndex: i });\n    //         }\n    //     }\n    //     result.push({ kind: 'target', x: targetAnchor.x, y: targetAnchor.y });\n    //         return this.filterEditModeHandles(result, edge, options);\n    }\n\n    /**\n     * Remove routed points that are in edit mode and for which the angle between the preceding and\n     * following points falls below a threshold.\n     */\n    protected filterEditModeHandles(route: RoutedPoint[], edge: SRoutableElement, options: PolylineRouteOptions): RoutedPoint[] {\n        if (edge.children.length === 0)\n            return route;\n\n        let i = 0;\n        while (i < route.length) {\n            const curr = route[i];\n            if (curr.pointIndex !== undefined) {\n                const handle: SRoutingHandle | undefined = edge.children.find(child =>\n                    child instanceof SRoutingHandle && child.kind === 'junction' && child.pointIndex === curr.pointIndex) as any;\n                if (handle !== undefined && handle.editMode && i > 0 && i < route.length - 1) {\n                    const prev = route[i - 1], next = route[i + 1];\n                    const prevDiff: Point = { x: prev.x - curr.x, y: prev.y - curr.y };\n                    const nextDiff: Point = { x: next.x - curr.x, y: next.y - curr.y };\n                    const angle = angleBetweenPoints(prevDiff, nextDiff);\n                    if (Math.abs(Math.PI - angle) < options.removeAngleThreshold) {\n                        route.splice(i, 1);\n                        continue;\n                    }\n                }\n            }\n            i++;\n        }\n        return route;\n    }\n\n    createRoutingHandles(edge: SRoutableElement): void {\n        const rpCount = edge.routingPoints.length;\n        this.addHandle(edge, 'source', 'routing-point', -2);\n        this.addHandle(edge, 'line', 'volatile-routing-point', -1);\n        for (let i = 0; i < rpCount; i++) {\n            this.addHandle(edge, 'junction', 'routing-point', i);\n            this.addHandle(edge, 'line', 'volatile-routing-point', i);\n        }\n        this.addHandle(edge, 'target', 'routing-point', rpCount);\n    }\n\n    getInnerHandlePosition(edge: SRoutableElement, route: RoutedPoint[], handle: SRoutingHandle) {\n        if (handle.kind === 'line') {\n            const { start, end } = this.findRouteSegment(edge, route, handle.pointIndex);\n            if (start !== undefined && end !== undefined)\n                return centerOfLine(start, end);\n        }\n        return undefined;\n    }\n\n    applyInnerHandleMoves(edge: SRoutableElement, moves: ResolvedHandleMove[]) {\n        console.log(2);\n        moves.forEach(move => {\n            const handle = move.handle;\n            const points = edge.routingPoints;\n            let index = handle.pointIndex;\n            if (handle.kind === 'line') {\n                // Upgrade to a proper routing point\n                handle.kind = 'junction';\n                handle.type = 'routing-point';\n                points.splice(index + 1, 0, move.fromPosition || points[Math.max(index, 0)]);\n                edge.children.forEach(child => {\n                    if (child instanceof SRoutingHandle && (child === handle || child.pointIndex > index))\n                        child.pointIndex++;\n                });\n                this.addHandle(edge, 'line', 'volatile-routing-point', index);\n                this.addHandle(edge, 'line', 'volatile-routing-point', index + 1);\n                index++;\n            }\n            if (index >= 0 && index < points.length) {\n                points[index] = move.toPosition;\n            }\n        });\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { IAnchorComputer, ELLIPTIC_ANCHOR_KIND, RECTANGULAR_ANCHOR_KIND, DIAMOND_ANCHOR_KIND } from \"sprotty/src/features/routing/anchor\";\nimport { SConnectableElement } from \"./model\";\nimport { Point, center, almostEquals, PointToPointLine, Diamond, intersection, shiftTowards } from \"sprotty/src/utils/geometry\";\nimport { injectable } from \"inversify\";\nimport { PolylineEdgeRouter } from \"./polyline-edge-router\";\n\n@injectable()\nexport class EllipseAnchor implements IAnchorComputer {\n\n    get kind() {\n        return PolylineEdgeRouter.KIND + ':' + ELLIPTIC_ANCHOR_KIND;\n    }\n\n    getAnchor(connectable: SConnectableElement, refPoint: Point, offset: number = 0): Point {\n        const bounds = connectable.bounds;\n        const c = center(bounds);\n        const dx = c.x - refPoint.x;\n        const dy = c.y - refPoint.y;\n        const distance = Math.sqrt(dx * dx + dy * dy);\n        const normX = (dx / distance) || 0;\n        const normY = (dy / distance) || 0;\n        return {\n            x: c.x - normX * (0.5 * bounds.width + offset),\n            y: c.y - normY * (0.5 * bounds.height + offset)\n        };\n    }\n}\n\n@injectable()\nexport class RectangleAnchor implements IAnchorComputer {\n\n    get kind() {\n        return PolylineEdgeRouter.KIND + ':' + RECTANGULAR_ANCHOR_KIND;\n    }\n\n    getAnchor(connectable: SConnectableElement, refPoint: Point, offset: number = 0): Point {\n        const bounds = connectable.bounds;\n        const c = center(bounds);\n        const finder = new NearestPointFinder(c, refPoint);\n        if (!almostEquals(c.y, refPoint.y)) {\n            const xTop = this.getXIntersection(bounds.y, c, refPoint);\n            if (xTop >= bounds.x && xTop <= bounds.x + bounds.width)\n                finder.addCandidate(xTop, bounds.y - offset);\n            const xBottom = this.getXIntersection(bounds.y + bounds.height, c, refPoint);\n            if (xBottom >= bounds.x && xBottom <= bounds.x + bounds.width)\n                finder.addCandidate(xBottom, bounds.y + bounds.height + offset);\n        }\n        if (!almostEquals(c.x, refPoint.x)) {\n            const yLeft = this.getYIntersection(bounds.x, c, refPoint);\n            if (yLeft >= bounds.y && yLeft <= bounds.y + bounds.height)\n                finder.addCandidate(bounds.x - offset, yLeft);\n            const yRight = this.getYIntersection(bounds.x + bounds.width, c, refPoint);\n            if (yRight >= bounds.y && yRight <= bounds.y + bounds.height)\n                finder.addCandidate(bounds.x + bounds.width + offset, yRight);\n        }\n        return finder.best;\n    }\n\n    protected getXIntersection(yIntersection: number, centerPoint: Point, point: Point): number {\n        const t = (yIntersection - centerPoint.y) / (point.y - centerPoint.y);\n        return (point.x - centerPoint.x) * t + centerPoint.x;\n    }\n\n    protected getYIntersection(xIntersection: number, centerPoint: Point, point: Point): number {\n        const t = (xIntersection - centerPoint.x) / (point.x - centerPoint.x);\n        return (point.y - centerPoint.y) * t + centerPoint.y;\n    }\n}\n\nclass NearestPointFinder {\n    protected currentBest: Point | undefined;\n    protected currentDist: number = -1;\n\n    constructor(protected centerPoint: Point, protected refPoint: Point) {\n    }\n\n    addCandidate(x: number, y: number) {\n        const dx = this.refPoint.x - x;\n        const dy = this.refPoint.y - y;\n        const dist = dx * dx + dy * dy;\n        if (this.currentDist < 0 || dist < this.currentDist) {\n            this.currentBest = {\n                x: x,\n                y: y\n            };\n            this.currentDist = dist;\n        }\n    }\n\n    get best(): Point {\n        if (this.currentBest === undefined)\n            return this.centerPoint;\n        else\n            return this.currentBest;\n    }\n}\n\n@injectable()\nexport class DiamondAnchor implements IAnchorComputer {\n\n    get kind() {\n        return PolylineEdgeRouter.KIND + ':' + DIAMOND_ANCHOR_KIND;\n    }\n\n    getAnchor(connectable: SConnectableElement, refPoint: Point, offset: number): Point {\n        const bounds = connectable.bounds;\n        const referenceLine = new PointToPointLine(center(bounds), refPoint);\n        const closestDiamondSide = new Diamond(bounds).closestSideLine(refPoint);\n        const anchorPoint = intersection(closestDiamondSide, referenceLine);\n        return shiftTowards(anchorPoint, refPoint, offset);\n    }\n}\n","/********************************************************************************\n * Copyright (c) 2018-2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { AvoidLib } from 'libavoid-js';\nimport { Point } from \"sprotty/src/utils/geometry\";\nimport { SRoutableElement, SConnectableElement } from \"./model\";\nimport { InstanceRegistry } from \"sprotty/src//utils/registry\";\nimport { PolylineEdgeRouter } from \"./polyline-edge-router\";\nimport { injectable, multiInject } from \"inversify\";\nimport { ResolvedHandleMove } from \"sprotty/src/features/move/move\";\nimport { SRoutingHandle } from \"../routing/model\";\nimport { TYPES } from \"sprotty/src/base/types\";\nimport { SParentElement } from \"sprotty/src/base/model/smodel\";\n\n/**\n * A point describing the shape of an edge.\n *\n * The <code>RoutedPoints</code> of an edge are derived from the <code>routingPoints</code>\n * which plain <code>Points</code> stored in the SModel by the <code>IEdgeRouter</code>.\n * As opposed to the originals, the also contain the source and target anchor points.\n * The router may also add or remove points in order to satisfy the constraints\n * the constraints of the routing algorithm or in order to to filter out points which are\n * obsolete, e.g. to close to each other.\n */\nexport interface RoutedPoint extends Point {\n    kind: 'source' | 'target' | 'linear'\n    pointIndex?: number\n}\n\n/**\n * Stores the state of an edge at a specific time.\n */\nexport interface EdgeSnapshot {\n    routingHandles: SRoutingHandle[]\n    routingPoints: Point[]\n    routedPoints: RoutedPoint[]\n    router: IEdgeRouter\n    source?: SConnectableElement\n    target?: SConnectableElement\n}\n\nexport interface EdgeMemento {\n    edge: SRoutableElement\n    before: EdgeSnapshot\n    after: EdgeSnapshot\n}\n\nexport type AvoidRouteEdge = { child: SRoutableElement, connRef: ConnRef }\nexport type AvoidRoutes = {[key:string]: AvoidRouteEdge};\n\n/**\n * Encapsulates the logic of how the actual shape of an edge is derived from its routing points,\n * and how the user can modify it.\n */\nexport interface IEdgeRouter {\n\n    readonly kind: string;\n    avoidRouter: Router;\n    avoidRoutes: AvoidRoutes;\n\n    /**\n     * Calculates the route of the given edge.\n     */\n    route(edge: SRoutableElement): RoutedPoint[]\n\n    /**\n     * Calculates a point on the edge\n     *\n     * @param t a value between 0 (sourceAnchor) and 1 (targetAnchor)\n     * @returns the point or undefined if t is out of bounds or it cannot be computed\n     */\n    pointAt(edge: SRoutableElement, t: number): Point | undefined\n\n    /**\n     * Calculates the derivative at a point on the edge.\n     *\n     * @param t a value between 0 (sourceAnchor) and 1 (targetAnchor)\n     * @returns the point or undefined if t is out of bounds or it cannot be computed\n     */\n    derivativeAt(edge: SRoutableElement, t: number): Point | undefined\n\n    /**\n     * Retuns the position of the given handle based on the routing points of the edge.\n     */\n    getHandlePosition(edge: SRoutableElement, route: RoutedPoint[], handle: SRoutingHandle): Point | undefined\n\n    /**\n     * Creates the routing handles for the given target.\n     */\n    createRoutingHandles(edge: SRoutableElement): void\n\n    /**\n     * Updates the routing points and handles of the given edge with regard to the given moves.\n     */\n    applyHandleMoves(edge: SRoutableElement, moves: ResolvedHandleMove[]): void\n\n    /**\n     * Updates the routing points and handles of the given edge with regard to the given moves.\n     */\n    applyReconnect(edge: SRoutableElement, newSourceId?: string, newTargetId?: string): void\n\n    /**\n     * Remove/add points in order to keep routing constraints consistent, or reset RPs on reconnect.\n     */\n    cleanupRoutingPoints(edge: SRoutableElement, routingPoints: Point[], updateHandles: boolean, addRoutingPoints: boolean): void;\n\n    /**\n     * Creates a snapshot of the given edge, storing all the data needed to restore it to\n     * its current state.\n     */\n    takeSnapshot(edge: SRoutableElement): EdgeSnapshot;\n\n    /**\n     * Applies a snapshot to the current edge.\n     */\n    applySnapshot(edge: SRoutableElement, edgeSnapshot: EdgeSnapshot): void;\n}\n\n\n@injectable()\nexport class EdgeRouterRegistry extends InstanceRegistry<IEdgeRouter> {\n    avoidRouter: Router;\n    avoidRoutes: AvoidRoutes;\n    renderedTimes = 0\n\n    constructor(@multiInject(TYPES.IEdgeRouter) edgeRouters: IEdgeRouter[]) {\n        super();\n        const Avoid = AvoidLib.getInstance();\n        this.avoidRouter = new Avoid.Router(Avoid.OrthogonalRouting | Avoid.PolyLineRouting);\n        this.avoidRoutes = {};\n        edgeRouters.forEach(router => {\n            this.register(router.kind, router);\n            router.avoidRouter = this.avoidRouter;\n            router.avoidRoutes = this.avoidRoutes;\n        });\n    }\n\n    protected get defaultKind() {\n        return PolylineEdgeRouter.KIND;\n    }\n\n    get(kind: string | undefined): IEdgeRouter {\n        return super.get(kind || this.defaultKind);\n    }\n\n    getAllChildren(parent: Readonly<SParentElement>): { routables: Array<SRoutableElement>, connectables: Array<SConnectableElement>  } {\n        const routables = [];\n        const connectables = [];\n\n        for (const child of parent.children) {\n            if (child instanceof SRoutableElement) {\n                routables.push(child);\n            } else if (child instanceof SConnectableElement) {\n                connectables.push(child);\n            }\n            \n            if (child instanceof SParentElement) {\n                const children = this.getAllChildren(child);\n                routables.push(...children.routables);\n                connectables.push(...children.connectables);\n            }\n        }\n\n        return { routables, connectables };\n    }\n\n    getCenterPoint(element: SConnectableElement): { x: number, y: number } {\n        let x = element.bounds.width / 2, y = element.bounds.height / 2;\n        let currentElement = element;\n        while (currentElement) {\n            if (currentElement.position) {\n                x += currentElement.position.x;\n                y += currentElement.position.y;\n            }\n\n            if (!(currentElement.parent && currentElement.parent.id === 'graph')) {\n                currentElement = (currentElement.parent as SConnectableElement);\n            } else {\n                break;\n            }\n        }\n        return { x, y };\n    }\n\n    avoidRoutesToEdgeRoutes(avoidRoutes:AvoidRouteEdge[]):EdgeRoutes {\n        const routes = new EdgeRoutes();\n        for (const connection of avoidRoutes) {\n            const sprottyRoute = [];\n            const route = connection.connRef.displayRoute();\n            for (let i = 0; i < route.size(); i++) {\n                let kind:('source'|'linear'|'target') = 'linear';\n                if (i === 0) {\n                    kind = 'source';\n                } else if (i === route.size() - 1) {\n                    kind = 'target';\n                }\n                sprottyRoute.push({ x: route.get_ps(i).x, y: route.get_ps(i).y, kind, pointIndex: 1 });\n            }\n            routes.set(connection.child, sprottyRoute);\n        }\n\n        return routes;\n    }\n\n    routeAllChildren(parent: Readonly<SParentElement>): EdgeRoutes {\n        if (this.renderedTimes < 2) {\n            const connections = [];\n            const Avoid = AvoidLib.getInstance();\n            // const router = new Avoid.Router(Avoid.OrthogonalRouting | Avoid.PolyLineRouting);\n            const children = this.getAllChildren(parent);\n\n            for (const child of children.routables) {\n                const sourceConnectionEnd = this.getCenterPoint(child.source as SConnectableElement);\n                const targetConnectionEnd = this.getCenterPoint(child.target as SConnectableElement);\n                const connRef = new Avoid.ConnRef(\n                    this.avoidRouter,\n                    new Avoid.ConnEnd(new Avoid.Point(sourceConnectionEnd.x, sourceConnectionEnd.y)),\n                    new Avoid.ConnEnd(new Avoid.Point(targetConnectionEnd.x, targetConnectionEnd.y)),\n                );\n\n                let routingType = Avoid.PolyLineRouting;\n                if (child.routerKind === 'manhattan') {\n                    routingType = Avoid.OrthogonalRouting;\n                }\n                connRef.setRoutingType(routingType);\n                connections.push({ child, connRef });\n                this.avoidRoutes[child.id] = { connRef, child };\n            }\n\n            for (const child of children.connectables) {\n                const centerPoint = this.getCenterPoint(child);\n                const rectangle = new Avoid.Rectangle(\n                    new Avoid.Point(centerPoint.x, centerPoint.y),\n                    child.bounds.width,\n                    child.bounds.height,\n                );\n                new Avoid.ShapeRef(this.avoidRouter, rectangle);\n            }\n\n            this.avoidRouter.processTransaction();\n\n            // for (const connection of connections) {\n            //     router.deleteConnector(connection.connRef);\n            // }\n            // Avoid.destroy(router);\n            this.renderedTimes += 1;\n            return this.avoidRoutesToEdgeRoutes(connections);\n        } else {\n            this.avoidRouter.processTransaction();\n            return this.avoidRoutesToEdgeRoutes(Object.values(this.avoidRoutes));\n        }\n    }\n\n    route(edge: Readonly<SRoutableElement>, args?: object): RoutedPoint[] {\n        if (containsEdgeRoutes(args)) {\n            const route = args.edgeRoutes.get(edge);\n            if (route) {\n                return route;\n            }\n        }\n        const router = this.get(edge.routerKind);\n        return router.route(edge);\n    }\n\n}\n\nexport interface EdgeRoutesContainer {\n    edgeRoutes: EdgeRoutes;\n}\n\nexport function containsEdgeRoutes(args?: object): args is object & EdgeRoutesContainer {\n    return args !== undefined && 'edgeRoutes' in args;\n}\n\nexport class EdgeRoutes {\n\n    protected _routes = new Map<string, RoutedPoint[]>();\n\n    set(routable: Readonly<SRoutableElement>, route: RoutedPoint[]): void {\n        this._routes.set(routable.id, route);\n    }\n\n    setAll(otherRoutes: EdgeRoutes): void {\n        otherRoutes.routes.forEach((route, routableId) => this._routes.set(routableId, route));\n    }\n\n    get(routable: Readonly<SRoutableElement>): RoutedPoint[] | undefined {\n        return this._routes.get(routable.id);\n    }\n\n    get routes() {\n        return this._routes;\n    }\n\n}\n","import { AvoidLib } from 'libavoid-js';\n\nexport async function load() {\n    await AvoidLib.load();\n}\n\nexport * from 'sprotty/src/features/routing/anchor';\nexport * from 'sprotty/src/features/routing/views';\n\nexport * from \"./routing/linear-edge-router\";\nexport * from \"./routing/manhattan-anchors\";\nexport * from \"./routing/manhattan-edge-router\";\nexport * from \"./routing/model\";\nexport * from \"./routing/polyline-anchors\";\nexport * from \"./routing/polyline-edge-router\";\nexport * from \"./routing/routing\";\n"],"sourceRoot":""}