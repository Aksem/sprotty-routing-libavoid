/*!
 * 
 *   sprotty-routing-libavoid v1.0.0
 *   https://github.com/Aksem/sprotty-routing-libavoid
 *
 *   Copyright (c) Vladyslav Hnatiuk and project contributors.
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.MyLibrary=n():t.MyLibrary=n()}(global,(function(){return(()=>{"use strict";var t={9934:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tagProperty=n.tagParameter=n.decorate=void 0;var r=e(6674),i=e(6867);function o(t,n,e,i,o){var a={},c="number"==typeof o,u=void 0!==o&&c?o.toString():e;if(c&&void 0!==e)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,n)&&(a=Reflect.getMetadata(t,n));var s=a[u];if(Array.isArray(s))for(var p=0,d=s;p<d.length;p++){var _=d[p];if(_.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+_.key.toString())}else s=[];s.push(i),a[u]=s,Reflect.defineMetadata(t,a,n)}function a(t,n){Reflect.decorate(t,n)}function c(t,n){return function(e,r){n(e,r,t)}}n.tagParameter=function(t,n,e,r){o(i.TAGGED,t,n,r,e)},n.tagProperty=function(t,n,e){o(i.TAGGED_PROP,t.constructor,n,e)},n.decorate=function(t,n,e){"number"==typeof e?a([c(e,t)],n):"string"==typeof e?Reflect.decorate([t],n,e):a([t],n)}},5744:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.inject=n.LazyServiceIdentifer=void 0;var r=e(6674),i=e(6867),o=e(7738),a=e(9934),c=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();n.LazyServiceIdentifer=c,n.inject=function(t){return function(n,e,c){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(n.name));var u=new o.Metadata(i.INJECT_TAG,t);"number"==typeof c?a.tagParameter(n,e,c,u):a.tagProperty(n,e,u)}}},4315:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.injectable=void 0;var r=e(6674),i=e(6867);n.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var n=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,n,t),t}}},1693:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.multiInject=void 0;var r=e(6867),i=e(7738),o=e(9934);n.multiInject=function(t){return function(n,e,a){var c=new i.Metadata(r.MULTI_INJECT_TAG,t);"number"==typeof a?o.tagParameter(n,e,a,c):o.tagProperty(n,e,c)}}},8085:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.named=void 0;var r=e(6867),i=e(7738),o=e(9934);n.named=function(t){return function(n,e,a){var c=new i.Metadata(r.NAMED_TAG,t);"number"==typeof a?o.tagParameter(n,e,a,c):o.tagProperty(n,e,c)}}},6515:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.optional=void 0;var r=e(6867),i=e(7738),o=e(9934);n.optional=function(){return function(t,n,e){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof e?o.tagParameter(t,n,e,a):o.tagProperty(t,n,a)}}},7014:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.postConstruct=void 0;var r=e(6674),i=e(6867),o=e(7738);n.postConstruct=function(){return function(t,n,e){var a=new o.Metadata(i.POST_CONSTRUCT,n);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,t.constructor)}}},2052:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tagged=void 0;var r=e(7738),i=e(9934);n.tagged=function(t,n){return function(e,o,a){var c=new r.Metadata(t,n);"number"==typeof a?i.tagParameter(e,o,a,c):i.tagProperty(e,o,c)}}},5638:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.targetName=void 0;var r=e(6867),i=e(7738),o=e(9934);n.targetName=function(t){return function(n,e,a){var c=new i.Metadata(r.NAME_TAG,t);o.tagParameter(n,e,a,c)}}},6757:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.unmanaged=void 0;var r=e(6867),i=e(7738),o=e(9934);n.unmanaged=function(){return function(t,n,e){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(t,n,e,a)}}},4290:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Binding=void 0;var r=e(8421),i=e(7791),o=function(){function t(t,n){this.id=i.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=n,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var n=new t(this.serviceIdentifier,this.scope);return n.activated=n.scope===r.BindingScopeEnum.Singleton&&this.activated,n.implementationType=this.implementationType,n.dynamicValue=this.dynamicValue,n.scope=this.scope,n.type=this.type,n.factory=this.factory,n.provider=this.provider,n.constraint=this.constraint,n.onActivation=this.onActivation,n.cache=this.cache,n},t}();n.Binding=o},3184:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingCount=void 0;n.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},6674:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.STACK_OVERFLOW=n.CIRCULAR_DEPENDENCY_IN_FACTORY=n.POST_CONSTRUCT_ERROR=n.MULTIPLE_POST_CONSTRUCT_METHODS=n.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=n.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=n.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=n.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=n.ARGUMENTS_LENGTH_MISMATCH=n.INVALID_DECORATOR_OPERATION=n.INVALID_TO_SELF_VALUE=n.INVALID_FUNCTION_BINDING=n.INVALID_MIDDLEWARE_RETURN=n.NO_MORE_SNAPSHOTS_AVAILABLE=n.INVALID_BINDING_TYPE=n.NOT_IMPLEMENTED=n.CIRCULAR_DEPENDENCY=n.UNDEFINED_INJECT_ANNOTATION=n.MISSING_INJECT_ANNOTATION=n.MISSING_INJECTABLE_ANNOTATION=n.NOT_REGISTERED=n.CANNOT_UNBIND=n.AMBIGUOUS_MATCH=n.KEY_NOT_FOUND=n.NULL_ARGUMENT=n.DUPLICATED_METADATA=n.DUPLICATED_INJECTABLE_DECORATOR=void 0,n.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",n.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",n.NULL_ARGUMENT="NULL argument",n.KEY_NOT_FOUND="Key Not Found",n.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",n.CANNOT_UNBIND="Could not unbind serviceIdentifier:",n.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",n.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",n.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";n.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},n.CIRCULAR_DEPENDENCY="Circular dependency found:",n.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",n.INVALID_BINDING_TYPE="Invalid binding type:",n.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",n.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",n.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",n.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",n.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";n.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},n.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",n.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",n.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",n.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",n.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";n.POST_CONSTRUCT_ERROR=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"@postConstruct error in class "+t[0]+": "+t[1]};n.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},n.STACK_OVERFLOW="Maximum call stack size exceeded"},8421:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TargetTypeEnum=n.BindingTypeEnum=n.BindingScopeEnum=void 0;n.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};n.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};n.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6867:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NON_CUSTOM_TAG_KEYS=n.POST_CONSTRUCT=n.DESIGN_PARAM_TYPES=n.PARAM_TYPES=n.TAGGED_PROP=n.TAGGED=n.MULTI_INJECT_TAG=n.INJECT_TAG=n.OPTIONAL_TAG=n.UNMANAGED_TAG=n.NAME_TAG=n.NAMED_TAG=void 0,n.NAMED_TAG="named",n.NAME_TAG="name",n.UNMANAGED_TAG="unmanaged",n.OPTIONAL_TAG="optional",n.INJECT_TAG="inject",n.MULTI_INJECT_TAG="multi_inject",n.TAGGED="inversify:tagged",n.TAGGED_PROP="inversify:tagged_props",n.PARAM_TYPES="inversify:paramtypes",n.DESIGN_PARAM_TYPES="design:paramtypes",n.POST_CONSTRUCT="post_construct",n.NON_CUSTOM_TAG_KEYS=[n.INJECT_TAG,n.MULTI_INJECT_TAG,n.NAME_TAG,n.UNMANAGED_TAG,n.NAMED_TAG,n.OPTIONAL_TAG]},1389:function(t,n,e){var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((r=r.apply(t,n||[])).next())}))},i=this&&this.__generator||function(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},o=this&&this.__spreadArray||function(t,n){for(var e=0,r=n.length,i=t.length;e<r;e++,i++)t[i]=n[e];return t};Object.defineProperty(n,"__esModule",{value:!0}),n.Container=void 0;var a=e(4290),c=e(6674),u=e(8421),s=e(6867),p=e(1377),d=e(6311),_=e(1927),f=e(1860),l=e(7791),y=e(5800),h=e(5700),g=e(175),b=function(){function t(t){this._appliedMiddleware=[];var n=t||{};if("object"!=typeof n)throw new Error(""+c.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===n.defaultScope)n.defaultScope=u.BindingScopeEnum.Transient;else if(n.defaultScope!==u.BindingScopeEnum.Singleton&&n.defaultScope!==u.BindingScopeEnum.Transient&&n.defaultScope!==u.BindingScopeEnum.Request)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===n.autoBindInjectable)n.autoBindInjectable=!1;else if("boolean"!=typeof n.autoBindInjectable)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===n.skipBaseClassChecks)n.skipBaseClassChecks=!1;else if("boolean"!=typeof n.skipBaseClassChecks)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=l.id(),this._bindingDictionary=new g.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new p.MetadataReader}return t.merge=function(n,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var a=new t,c=o([n,e],r).map((function(t){return d.getBindingDictionary(t)})),u=d.getBindingDictionary(a);function s(t,n){t.traverse((function(t,e){e.forEach((function(t){n.add(t.serviceIdentifier,t.clone())}))}))}return c.forEach((function(t){s(t,u)})),a},t.prototype.load=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=e(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r(this,void 0,void 0,(function(){var n,e,r,o,a;return i(this,(function(i){switch(i.label){case 0:n=this._getContainerModuleHelpersFactory(),e=0,r=t,i.label=1;case 1:return e<r.length?(o=r[e],a=n(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=function(t){return function(n){return n.moduleId===t}};n.forEach((function(n){var e=r(n.id);t._bindingDictionary.removeByCondition(e)}))},t.prototype.bind=function(t){var n=this.options.defaultScope||u.BindingScopeEnum.Transient,e=new a.Binding(t,n);return this._bindingDictionary.add(t,e),new f.BindingToSyntax(e)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(n){throw new Error(c.CANNOT_UNBIND+" "+y.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new g.Lookup},t.prototype.isBound=function(t){var n=this._bindingDictionary.hasKey(t);return!n&&this.parent&&(n=this.parent.isBound(t)),n},t.prototype.isBoundNamed=function(t,n){return this.isBoundTagged(t,s.NAMED_TAG,n)},t.prototype.isBoundTagged=function(t,n,e){var r=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=d.createMockRequest(this,t,n,e);r=i.some((function(t){return t.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,n,e)),r},t.prototype.snapshot=function(){this._snapshots.push(h.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(c.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(n){var e=new t(n||this.options);return e.parent=this,e},t.prototype.applyMiddleware=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._appliedMiddleware=this._appliedMiddleware.concat(t);var e=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,n){return n(t)}),e)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,u.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,n,e){return this._get(!1,!1,u.TargetTypeEnum.Variable,t,n,e)},t.prototype.getNamed=function(t,n){return this.getTagged(t,s.NAMED_TAG,n)},t.prototype.getAll=function(t){return this._get(!0,!0,u.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,n,e){return this._get(!1,!0,u.TargetTypeEnum.Variable,t,n,e)},t.prototype.getAllNamed=function(t,n){return this.getAllTagged(t,s.NAMED_TAG,n)},t.prototype.resolve=function(t){var n=this.createChild();return n.bind(t).toSelf(),this._appliedMiddleware.forEach((function(t){n.applyMiddleware(t)})),n.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,n=function(t,n){t._binding.moduleId=n},e=function(e){return function(r){var i=t.rebind.bind(t)(r);return n(i,e),i}};return function(r){return{bindFunction:(i=r,function(e){var r=t.bind.bind(t)(e);return n(r,i),r}),isboundFunction:function(n){return t.isBound.bind(t)(n)},rebindFunction:e(r),unbindFunction:function(n){t.unbind.bind(t)(n)}};var i}},t.prototype._get=function(t,n,e,r,i,o){var a=null,u={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:n,key:i,serviceIdentifier:r,targetType:e,value:o};if(this._middleware){if(null==(a=this._middleware(u)))throw new Error(c.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},t.prototype._planAndResolve=function(){var t=this;return function(n){var e=d.plan(t._metadataReader,t,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);return e=n.contextInterceptor(e),_.resolve(e)}},t}();n.Container=b},3244:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AsyncContainerModule=n.ContainerModule=void 0;var r=e(7791),i=function(t){this.id=r.id(),this.registry=t};n.ContainerModule=i;var o=function(t){this.id=r.id(),this.registry=t};n.AsyncContainerModule=o},5700:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ContainerSnapshot=void 0;var e=function(){function t(){}return t.of=function(n,e){var r=new t;return r.bindings=n,r.middleware=e,r},t}();n.ContainerSnapshot=e},175:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Lookup=void 0;var r=e(6674),i=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,n){if(null==t)throw new Error(r.NULL_ARGUMENT);if(null==n)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);void 0!==e?(e.push(n),this._map.set(t,e)):this._map.set(t,[n])},t.prototype.get=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);if(void 0!==n)return n;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var n=this;this._map.forEach((function(e,r){var i=e.filter((function(n){return!t(n)}));i.length>0?n._map.set(r,i):n._map.delete(r)}))},t.prototype.hasKey=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var n=new t;return this._map.forEach((function(t,e){t.forEach((function(t){return n.add(e,t.clone())}))})),n},t.prototype.traverse=function(t){this._map.forEach((function(n,e){t(e,n)}))},t}();n.Lookup=i},6700:(t,n,e)=>{n.nx=n.f3=n.b2=void 0,e(6867);var r=e(1389);var i=e(8421);var o=e(3244);var a=e(4315);Object.defineProperty(n,"b2",{enumerable:!0,get:function(){return a.injectable}});var c=e(2052);var u=e(8085);var s=e(5744);Object.defineProperty(n,"f3",{enumerable:!0,get:function(){return s.inject}});var p=e(6515);var d=e(6757);var _=e(1693);Object.defineProperty(n,"nx",{enumerable:!0,get:function(){return _.multiInject}});var f=e(5638);var l=e(7014);var y=e(1377);var h=e(7791);var g=e(9934);var b=e(758);var m=e(5800);var v=e(600)},5228:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Context=void 0;var r=e(7791),i=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();n.Context=i},7738:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var r=e(6867),i=function(){function t(t,n){this.key=t,this.value=n}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();n.Metadata=i},1377:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MetadataReader=void 0;var r=e(6867),i=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();n.MetadataReader=i},5314:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Plan=void 0;var e=function(t,n){this.parentContext=t,this.rootRequest=n};n.Plan=e},6311:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getBindingDictionary=n.createMockRequest=n.plan=void 0;var r=e(3184),i=e(6674),o=e(8421),a=e(6867),c=e(5265),u=e(5800),s=e(5228),p=e(7738),d=e(5314),_=e(6e3),f=e(6748),l=e(8924);function y(t){return t._bindingDictionary}function h(t,n,e,o,a){var c=b(e.container,a.serviceIdentifier),s=[];return c.length===r.BindingCount.NoBindingsAvailable&&e.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(e.container.bind(a.serviceIdentifier).toSelf(),c=b(e.container,a.serviceIdentifier)),s=n?c:c.filter((function(t){var n=new f.Request(t.serviceIdentifier,e,o,t,a);return t.constraint(n)})),function(t,n,e,o){switch(n.length){case r.BindingCount.NoBindingsAvailable:if(e.isOptional())return n;var a=u.getServiceIdentifierAsString(t),c=i.NOT_REGISTERED;throw c+=u.listMetadataForTarget(a,e),c+=u.listRegisteredBindingsForServiceIdentifier(o,a,b),new Error(c);case r.BindingCount.OnlyOneBindingAvailable:if(!e.isArray())return n;case r.BindingCount.MultipleBindingsAvailable:default:if(e.isArray())return n;a=u.getServiceIdentifierAsString(t),c=i.AMBIGUOUS_MATCH+" "+a;throw c+=u.listRegisteredBindingsForServiceIdentifier(o,a,b),new Error(c)}}(a.serviceIdentifier,s,a,e.container),s}function g(t,n,e,r,a,c){var u,s;if(null===a){u=h(t,n,r,null,c),s=new f.Request(e,r,null,u,c);var p=new d.Plan(r,s);r.addPlan(p)}else u=h(t,n,r,a,c),s=a.addChildRequest(c.serviceIdentifier,u,c);u.forEach((function(n){var e=null;if(c.isArray())e=s.addChildRequest(n.serviceIdentifier,n,c);else{if(n.cache)return;e=s}if(n.type===o.BindingTypeEnum.Instance&&null!==n.implementationType){var a=_.getDependencies(t,n.implementationType);if(!r.container.options.skipBaseClassChecks){var u=_.getBaseClassDependencyCount(t,n.implementationType);if(a.length<u){var p=i.ARGUMENTS_LENGTH_MISMATCH(_.getFunctionName(n.implementationType));throw new Error(p)}}a.forEach((function(n){g(t,!1,n.serviceIdentifier,r,e,n)}))}}))}function b(t,n){var e=[],r=y(t);return r.hasKey(n)?e=r.get(n):null!==t.parent&&(e=b(t.parent,n)),e}n.getBindingDictionary=y,n.plan=function(t,n,e,r,i,o,d,_){void 0===_&&(_=!1);var f=new s.Context(n),y=function(t,n,e,r,i,o){var c=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new p.Metadata(c,e),s=new l.Target(n,r,e,u);if(void 0!==i){var d=new p.Metadata(i,o);s.metadata.push(d)}return s}(e,r,i,"",o,d);try{return g(t,_,i,f,null,y),f}catch(t){throw c.isStackOverflowExeption(t)&&f.plan&&u.circularDependencyToException(f.plan.rootRequest),t}},n.createMockRequest=function(t,n,e,r){var i=new l.Target(o.TargetTypeEnum.Variable,"",n,new p.Metadata(e,r)),a=new s.Context(t);return new f.Request(n,a,null,[],i)}},8460:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.QueryableString=void 0;var e=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var n,e=t.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},e)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();n.QueryableString=e},6e3:function(t,n,e){var r=this&&this.__spreadArray||function(t,n){for(var e=0,r=n.length,i=t.length;e<r;e++,i++)t[i]=n[e];return t};Object.defineProperty(n,"__esModule",{value:!0}),n.getFunctionName=n.getBaseClassDependencyCount=n.getDependencies=void 0;var i=e(5744),o=e(6674),a=e(8421),c=e(6867),u=e(5800);Object.defineProperty(n,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var s=e(8924);function p(t,n,e,i){var a=t.getConstructorMetadata(e),c=a.compilerGeneratedMetadata;if(void 0===c){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+n+".";throw new Error(u)}var s=a.userGeneratedMetadata,p=Object.keys(s),f=0===e.length&&p.length>0,l=p.length>e.length,y=function(t,n,e,r,i){for(var o=[],a=0;a<i;a++){var c=d(a,t,n,e,r);null!==c&&o.push(c)}return o}(i,n,c,s,f||l?p.length:e.length),h=_(t,e);return r(r([],y),h)}function d(t,n,e,r,c){var u=c[t.toString()]||[],p=f(u),d=!0!==p.unmanaged,_=r[t],l=p.inject||p.multiInject;if((_=l||_)instanceof i.LazyServiceIdentifer&&(_=_.unwrap()),d){if(!n&&(_===Object||_===Function||void 0===_)){var y=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+e+".";throw new Error(y)}var h=new s.Target(a.TargetTypeEnum.ConstructorArgument,p.targetName,_);return h.metadata=u,h}return null}function _(t,n){for(var e=t.getPropertiesMetadata(n),i=[],o=0,c=Object.keys(e);o<c.length;o++){var u=c[o],p=e[u],d=f(e[u]),l=d.targetName||u,y=d.inject||d.multiInject,h=new s.Target(a.TargetTypeEnum.ClassProperty,l,y);h.metadata=p,i.push(h)}var g=Object.getPrototypeOf(n.prototype).constructor;if(g!==Object){var b=_(t,g);i=r(r([],i),b)}return i}function f(t){var n={};return t.forEach((function(t){n[t.key.toString()]=t.value})),{inject:n[c.INJECT_TAG],multiInject:n[c.MULTI_INJECT_TAG],targetName:n[c.NAME_TAG],unmanaged:n[c.UNMANAGED_TAG]}}n.getDependencies=function(t,n){return p(t,u.getFunctionName(n),n,!1)},n.getBaseClassDependencyCount=function t(n,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var i=p(n,u.getFunctionName(r),r,!0),o=i.map((function(t){return t.metadata.filter((function(t){return t.key===c.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,s=i.length-a;return s>0?s:t(n,r)}return 0}},6748:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Request=void 0;var r=e(7791),i=function(){function t(t,n,e,i,o){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=n,this.parentRequest=e,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===e?new Map:null}return t.prototype.addChildRequest=function(n,e,r){var i=new t(n,this.parentContext,this,e,r);return this.childRequests.push(i),i},t}();n.Request=i},8924:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Target=void 0;var r=e(6867),i=e(7791),o=e(7738),a=e(8460),c=function(){function t(t,n,e,c){this.id=i.id(),this.type=t,this.serviceIdentifier=e,this.name=new a.QueryableString(n||""),this.metadata=new Array;var u=null;"string"==typeof c?u=new o.Metadata(r.NAMED_TAG,c):c instanceof o.Metadata&&(u=c),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var n=0,e=this.metadata;n<e.length;n++){if(e[n].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(n){return t.key!==n}))}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return r.NON_CUSTOM_TAG_KEYS.every((function(n){return t.key!==n}))})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var n=this;return function(e){for(var r=0,i=n.metadata;r<i.length;r++){var o=i[r];if(o.key===t&&o.value===e)return!0}return!1}},t}();n.Target=c},2279:function(t,n,e){var r=this&&this.__spreadArray||function(t,n){for(var e=0,r=n.length,i=t.length;e<r;e++,i++)t[i]=n[e];return t};Object.defineProperty(n,"__esModule",{value:!0}),n.resolveInstance=void 0;var i=e(6674),o=e(8421),a=e(6867);n.resolveInstance=function(t,n,e){var c,u,s=null;if(n.length>0){var p=n.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument})).map(e);u=p,s=function(t,n,e){var r=n.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(e);return r.forEach((function(n,e){var r;r=n.target.name.value();var o=i[e];t[r]=o})),t}(s=new((c=t).bind.apply(c,r([void 0],u))),n,e)}else s=new t;return function(t,n){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var e=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{n[e.value]()}catch(n){throw new Error(i.POST_CONSTRUCT_ERROR(t.name,n.message))}}}(t,s),s}},1927:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.resolve=void 0;var r=e(6674),i=e(8421),o=e(5265),a=e(5800),c=e(2279),u=function(t,n,e){try{return e()}catch(e){throw o.isStackOverflowExeption(e)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,n.toString())):e}},s=function(t){return function(n){n.parentContext.setCurrentRequest(n);var e=n.bindings,o=n.childRequests,p=n.target&&n.target.isArray(),d=!(n.parentRequest&&n.parentRequest.target&&n.target&&n.parentRequest.target.matchesArray(n.target.serviceIdentifier));if(p&&d)return o.map((function(n){return s(t)(n)}));var _=null;if(!n.target.isOptional()||0!==e.length){var f=e[0],l=f.scope===i.BindingScopeEnum.Singleton,y=f.scope===i.BindingScopeEnum.Request;if(l&&f.activated)return f.cache;if(y&&null!==t&&t.has(f.id))return t.get(f.id);if(f.type===i.BindingTypeEnum.ConstantValue)_=f.cache,f.activated=!0;else if(f.type===i.BindingTypeEnum.Function)_=f.cache,f.activated=!0;else if(f.type===i.BindingTypeEnum.Constructor)_=f.implementationType;else if(f.type===i.BindingTypeEnum.DynamicValue&&null!==f.dynamicValue)_=u("toDynamicValue",f.serviceIdentifier,(function(){return f.dynamicValue(n.parentContext)}));else if(f.type===i.BindingTypeEnum.Factory&&null!==f.factory)_=u("toFactory",f.serviceIdentifier,(function(){return f.factory(n.parentContext)}));else if(f.type===i.BindingTypeEnum.Provider&&null!==f.provider)_=u("toProvider",f.serviceIdentifier,(function(){return f.provider(n.parentContext)}));else{if(f.type!==i.BindingTypeEnum.Instance||null===f.implementationType){var h=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+h)}_=c.resolveInstance(f.implementationType,o,s(t))}return"function"==typeof f.onActivation&&(_=f.onActivation(n.parentContext,_)),l&&(f.cache=_,f.activated=!0),y&&null!==t&&!t.has(f.id)&&t.set(f.id,_),_}}};n.resolve=function(t){return s(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},3366:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingInSyntax=void 0;var r=e(8421),i=e(1325),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},t}();n.BindingInSyntax=o},9812:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingInWhenOnSyntax=void 0;var r=e(3366),i=e(1811),o=e(8370),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();n.BindingInWhenOnSyntax=a},1811:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingOnSyntax=void 0;var r=e(8370),i=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();n.BindingOnSyntax=i},1860:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingToSyntax=void 0;var r=e(6674),i=e(8421),o=e(9812),a=e(1325),c=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var n=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,n},t.prototype.toAutoFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(n){return function(){return n.container.get(t)}},this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,this._binding.scope=i.BindingScopeEnum.Singleton,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(n){return n.container.get(t)}))},t}();n.BindingToSyntax=c},1325:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingWhenOnSyntax=void 0;var r=e(1811),i=e(8370),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();n.BindingWhenOnSyntax=o},8370:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingWhenSyntax=void 0;var r=e(1811),i=e(758),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,n){return this._binding.constraint=i.taggedConstraint(t)(n),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(n){return i.typeConstraint(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(n){return i.namedConstraint(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,n){return this._binding.constraint=function(e){return i.taggedConstraint(t)(n)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.taggedConstraint(t)(n))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,n){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.taggedConstraint(t)(n))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,t)},new r.BindingOnSyntax(this._binding)},t}();n.BindingWhenSyntax=o},758:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.typeConstraint=n.namedConstraint=n.taggedConstraint=n.traverseAncerstors=void 0;var r=e(6867),i=e(7738),o=function(t,n){var e=t.parentRequest;return null!==e&&(!!n(e)||o(e,n))};n.traverseAncerstors=o;var a=function(t){return function(n){var e=function(e){return null!==e&&null!==e.target&&e.target.matchesTag(t)(n)};return e.metaData=new i.Metadata(t,n),e}};n.taggedConstraint=a;var c=a(r.NAMED_TAG);n.namedConstraint=c;n.typeConstraint=function(t){return function(n){var e=null;if(null!==n){if(e=n.bindings[0],"string"==typeof t)return e.serviceIdentifier===t;var r=n.bindings[0].implementationType;return t===r}return!1}}},600:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.multiBindToService=void 0;n.multiBindToService=function(t){return function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){return t.bind(e).toService(n)}))}}}},5265:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isStackOverflowExeption=void 0;var r=e(6674);n.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},7791:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.id=void 0;var e=0;n.id=function(){return e++}},5800:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.circularDependencyToException=n.listMetadataForTarget=n.listRegisteredBindingsForServiceIdentifier=n.getServiceIdentifierAsString=n.getFunctionName=void 0;var r=e(6674);function i(t){return"function"==typeof t?t.name:"symbol"==typeof t?t.toString():t}function o(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||o(t.parentRequest,n))}function a(t){if(t.name)return t.name;var n=t.toString(),e=n.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+n}n.getServiceIdentifierAsString=i,n.listRegisteredBindingsForServiceIdentifier=function(t,n,e){var r="",i=e(t,n);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(t){var n="Object";null!==t.implementationType&&(n=a(t.implementationType)),r=r+"\n "+n,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},n.circularDependencyToException=function t(n){n.childRequests.forEach((function(n){if(o(n,n.serviceIdentifier)){var e=function(t){return function t(n,e){void 0===e&&(e=[]);var r=i(n.serviceIdentifier);return e.push(r),null!==n.parentRequest?t(n.parentRequest,e):e}(t).reverse().join(" --\x3e ")}(n);throw new Error(r.CIRCULAR_DEPENDENCY+" "+e)}t(n)}))},n.listMetadataForTarget=function(t,n){if(n.isTagged()||n.isNamed()){var e="",r=n.getNamedTag(),i=n.getCustomTags();return null!==r&&(e+=r.toString()+"\n"),null!==i&&i.forEach((function(t){e+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+e}return" "+t},n.getFunctionName=a},7329:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tagProperty=n.tagParameter=n.decorate=void 0;var r=e(5493),i=e(6701);function o(t,n,e,i,o){var a={},c="number"==typeof o,u=void 0!==o&&c?o.toString():e;if(c&&void 0!==e)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,n)&&(a=Reflect.getMetadata(t,n));var s=a[u];if(Array.isArray(s))for(var p=0,d=s;p<d.length;p++){var _=d[p];if(_.key===i.key)throw new Error(r.DUPLICATED_METADATA+" "+_.key.toString())}else s=[];s.push(i),a[u]=s,Reflect.defineMetadata(t,a,n)}function a(t,n){Reflect.decorate(t,n)}function c(t,n){return function(e,r){n(e,r,t)}}n.tagParameter=function(t,n,e,r){o(i.TAGGED,t,n,r,e)},n.tagProperty=function(t,n,e){o(i.TAGGED_PROP,t.constructor,n,e)},n.decorate=function(t,n,e){"number"==typeof e?a([c(e,t)],n):"string"==typeof e?Reflect.decorate([t],n,e):a([t],n)}},8122:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.inject=n.LazyServiceIdentifer=void 0;var r=e(5493),i=e(6701),o=e(4963),a=e(7329),c=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();n.LazyServiceIdentifer=c,n.inject=function(t){return function(n,e,c){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(n.name));var u=new o.Metadata(i.INJECT_TAG,t);"number"==typeof c?a.tagParameter(n,e,c,u):a.tagProperty(n,e,u)}}},3169:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.injectable=void 0;var r=e(5493),i=e(6701);n.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var n=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(i.PARAM_TYPES,n,t),t}}},3511:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.multiInject=void 0;var r=e(6701),i=e(4963),o=e(7329);n.multiInject=function(t){return function(n,e,a){var c=new i.Metadata(r.MULTI_INJECT_TAG,t);"number"==typeof a?o.tagParameter(n,e,a,c):o.tagProperty(n,e,c)}}},7765:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.named=void 0;var r=e(6701),i=e(4963),o=e(7329);n.named=function(t){return function(n,e,a){var c=new i.Metadata(r.NAMED_TAG,t);"number"==typeof a?o.tagParameter(n,e,a,c):o.tagProperty(n,e,c)}}},1059:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.optional=void 0;var r=e(6701),i=e(4963),o=e(7329);n.optional=function(){return function(t,n,e){var a=new i.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof e?o.tagParameter(t,n,e,a):o.tagProperty(t,n,a)}}},5570:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.postConstruct=void 0;var r=e(5493),i=e(6701),o=e(4963);n.postConstruct=function(){return function(t,n,e){var a=new o.Metadata(i.POST_CONSTRUCT,n);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,a,t.constructor)}}},860:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tagged=void 0;var r=e(4963),i=e(7329);n.tagged=function(t,n){return function(e,o,a){var c=new r.Metadata(t,n);"number"==typeof a?i.tagParameter(e,o,a,c):i.tagProperty(e,o,c)}}},6898:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.targetName=void 0;var r=e(6701),i=e(4963),o=e(7329);n.targetName=function(t){return function(n,e,a){var c=new i.Metadata(r.NAME_TAG,t);o.tagParameter(n,e,a,c)}}},6726:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.unmanaged=void 0;var r=e(6701),i=e(4963),o=e(7329);n.unmanaged=function(){return function(t,n,e){var a=new i.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(t,n,e,a)}}},8819:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Binding=void 0;var r=e(6128),i=e(7815),o=function(){function t(t,n){this.id=i.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=n,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var n=new t(this.serviceIdentifier,this.scope);return n.activated=!1,n.implementationType=this.implementationType,n.dynamicValue=this.dynamicValue,n.scope=this.scope,n.type=this.type,n.factory=this.factory,n.provider=this.provider,n.constraint=this.constraint,n.onActivation=this.onActivation,n.cache=this.cache,n},t}();n.Binding=o},6822:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingCount=void 0;n.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},5493:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.STACK_OVERFLOW=n.CIRCULAR_DEPENDENCY_IN_FACTORY=n.POST_CONSTRUCT_ERROR=n.MULTIPLE_POST_CONSTRUCT_METHODS=n.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=n.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=n.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=n.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=n.ARGUMENTS_LENGTH_MISMATCH=n.INVALID_DECORATOR_OPERATION=n.INVALID_TO_SELF_VALUE=n.INVALID_FUNCTION_BINDING=n.INVALID_MIDDLEWARE_RETURN=n.NO_MORE_SNAPSHOTS_AVAILABLE=n.INVALID_BINDING_TYPE=n.NOT_IMPLEMENTED=n.CIRCULAR_DEPENDENCY=n.UNDEFINED_INJECT_ANNOTATION=n.MISSING_INJECT_ANNOTATION=n.MISSING_INJECTABLE_ANNOTATION=n.NOT_REGISTERED=n.CANNOT_UNBIND=n.AMBIGUOUS_MATCH=n.KEY_NOT_FOUND=n.NULL_ARGUMENT=n.DUPLICATED_METADATA=n.DUPLICATED_INJECTABLE_DECORATOR=void 0,n.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",n.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",n.NULL_ARGUMENT="NULL argument",n.KEY_NOT_FOUND="Key Not Found",n.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",n.CANNOT_UNBIND="Could not unbind serviceIdentifier:",n.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",n.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",n.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",n.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},n.CIRCULAR_DEPENDENCY="Circular dependency found:",n.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",n.INVALID_BINDING_TYPE="Invalid binding type:",n.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",n.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",n.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",n.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",n.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",n.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},n.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",n.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",n.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",n.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",n.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",n.POST_CONSTRUCT_ERROR=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"@postConstruct error in class "+t[0]+": "+t[1]},n.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},n.STACK_OVERFLOW="Maximum call stack size exceeded"},6128:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TargetTypeEnum=n.BindingTypeEnum=n.BindingScopeEnum=void 0;n.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};n.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};n.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},6701:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.POST_CONSTRUCT=n.DESIGN_PARAM_TYPES=n.PARAM_TYPES=n.TAGGED_PROP=n.TAGGED=n.MULTI_INJECT_TAG=n.INJECT_TAG=n.OPTIONAL_TAG=n.UNMANAGED_TAG=n.NAME_TAG=n.NAMED_TAG=void 0,n.NAMED_TAG="named",n.NAME_TAG="name",n.UNMANAGED_TAG="unmanaged",n.OPTIONAL_TAG="optional",n.INJECT_TAG="inject",n.MULTI_INJECT_TAG="multi_inject",n.TAGGED="inversify:tagged",n.TAGGED_PROP="inversify:tagged_props",n.PARAM_TYPES="inversify:paramtypes",n.DESIGN_PARAM_TYPES="design:paramtypes",n.POST_CONSTRUCT="post_construct"},9581:function(t,n,e){var r=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((r=r.apply(t,n||[])).next())}))},i=this&&this.__generator||function(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};Object.defineProperty(n,"__esModule",{value:!0}),n.Container=void 0;var o=e(8819),a=e(5493),c=e(6128),u=e(6701),s=e(3071),p=e(6180),d=e(5190),_=e(7416),f=e(7815),l=e(5306),y=e(1104),h=e(9774),g=function(){function t(t){var n=t||{};if("object"!=typeof n)throw new Error(""+a.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===n.defaultScope)n.defaultScope=c.BindingScopeEnum.Transient;else if(n.defaultScope!==c.BindingScopeEnum.Singleton&&n.defaultScope!==c.BindingScopeEnum.Transient&&n.defaultScope!==c.BindingScopeEnum.Request)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===n.autoBindInjectable)n.autoBindInjectable=!1;else if("boolean"!=typeof n.autoBindInjectable)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===n.skipBaseClassChecks)n.skipBaseClassChecks=!1;else if("boolean"!=typeof n.skipBaseClassChecks)throw new Error(""+a.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=f.id(),this._bindingDictionary=new h.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new s.MetadataReader}return t.merge=function(n,e){var r=new t,i=p.getBindingDictionary(r),o=p.getBindingDictionary(n),a=p.getBindingDictionary(e);function c(t,n){t.traverse((function(t,e){e.forEach((function(t){n.add(t.serviceIdentifier,t.clone())}))}))}return c(o,i),c(a,i),r},t.prototype.load=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=this._getContainerModuleHelpersFactory(),r=0,i=t;r<i.length;r++){var o=i[r],a=e(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return r(this,void 0,void 0,(function(){var n,e,r,o,a;return i(this,(function(i){switch(i.label){case 0:n=this._getContainerModuleHelpersFactory(),e=0,r=t,i.label=1;case 1:return e<r.length?(o=r[e],a=n(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=function(t){return function(n){return n.moduleId===t}};n.forEach((function(n){var e=r(n.id);t._bindingDictionary.removeByCondition(e)}))},t.prototype.bind=function(t){var n=this.options.defaultScope||c.BindingScopeEnum.Transient,e=new o.Binding(t,n);return this._bindingDictionary.add(t,e),new _.BindingToSyntax(e)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(n){throw new Error(a.CANNOT_UNBIND+" "+l.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new h.Lookup},t.prototype.isBound=function(t){var n=this._bindingDictionary.hasKey(t);return!n&&this.parent&&(n=this.parent.isBound(t)),n},t.prototype.isBoundNamed=function(t,n){return this.isBoundTagged(t,u.NAMED_TAG,n)},t.prototype.isBoundTagged=function(t,n,e){var r=!1;if(this._bindingDictionary.hasKey(t)){var i=this._bindingDictionary.get(t),o=p.createMockRequest(this,t,n,e);r=i.some((function(t){return t.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,n,e)),r},t.prototype.snapshot=function(){this._snapshots.push(y.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(a.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(n){var e=new t(n||this.options);return e.parent=this,e},t.prototype.applyMiddleware=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,n){return n(t)}),e)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,c.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,n,e){return this._get(!1,!1,c.TargetTypeEnum.Variable,t,n,e)},t.prototype.getNamed=function(t,n){return this.getTagged(t,u.NAMED_TAG,n)},t.prototype.getAll=function(t){return this._get(!0,!0,c.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,n,e){return this._get(!1,!0,c.TargetTypeEnum.Variable,t,n,e)},t.prototype.getAllNamed=function(t,n){return this.getAllTagged(t,u.NAMED_TAG,n)},t.prototype.resolve=function(t){var n=this.createChild();return n.bind(t).toSelf(),n.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,n=function(t,n){t._binding.moduleId=n},e=function(e){return function(r){var i=t.rebind.bind(t)(r);return n(i,e),i}};return function(r){return{bindFunction:(i=r,function(e){var r=t.bind.bind(t)(e);return n(r,i),r}),isboundFunction:function(n){return t.isBound.bind(t)(n)},rebindFunction:e(r),unbindFunction:function(n){t.unbind.bind(t)(n)}};var i}},t.prototype._get=function(t,n,e,r,i,o){var c=null,u={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:n,key:i,serviceIdentifier:r,targetType:e,value:o};if(this._middleware){if(null==(c=this._middleware(u)))throw new Error(a.INVALID_MIDDLEWARE_RETURN)}else c=this._planAndResolve()(u);return c},t.prototype._planAndResolve=function(){var t=this;return function(n){var e=p.plan(t._metadataReader,t,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);return e=n.contextInterceptor(e),d.resolve(e)}},t}();n.Container=g},3240:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AsyncContainerModule=n.ContainerModule=void 0;var r=e(7815),i=function(t){this.id=r.id(),this.registry=t};n.ContainerModule=i;var o=function(t){this.id=r.id(),this.registry=t};n.AsyncContainerModule=o},1104:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ContainerSnapshot=void 0;var e=function(){function t(){}return t.of=function(n,e){var r=new t;return r.bindings=n,r.middleware=e,r},t}();n.ContainerSnapshot=e},9774:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Lookup=void 0;var r=e(5493),i=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,n){if(null==t)throw new Error(r.NULL_ARGUMENT);if(null==n)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);void 0!==e?(e.push(n),this._map.set(t,e)):this._map.set(t,[n])},t.prototype.get=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);if(void 0!==n)return n;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var n=this;this._map.forEach((function(e,r){var i=e.filter((function(n){return!t(n)}));i.length>0?n._map.set(r,i):n._map.delete(r)}))},t.prototype.hasKey=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var n=new t;return this._map.forEach((function(t,e){t.forEach((function(t){return n.add(e,t.clone())}))})),n},t.prototype.traverse=function(t){this._map.forEach((function(n,e){t(e,n)}))},t}();n.Lookup=i},9245:(t,n,e)=>{e(6701);var r=e(9581);var i=e(6128);var o=e(3240);var a=e(3169);Object.defineProperty(n,"b2",{enumerable:!0,get:function(){return a.injectable}});var c=e(860);var u=e(7765);var s=e(8122);Object.defineProperty(n,"f3",{enumerable:!0,get:function(){return s.inject}});var p=e(1059);var d=e(6726);var _=e(3511);Object.defineProperty(n,"nx",{enumerable:!0,get:function(){return _.multiInject}});var f=e(6898);var l=e(5570);var y=e(3071);var h=e(7815);var g=e(7329);var b=e(809);var m=e(5306);var v=e(8364)},6020:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Context=void 0;var r=e(7815),i=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();n.Context=i},4963:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var r=e(6701),i=function(){function t(t,n){this.key=t,this.value=n}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();n.Metadata=i},3071:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MetadataReader=void 0;var r=e(6701),i=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();n.MetadataReader=i},2330:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Plan=void 0;var e=function(t,n){this.parentContext=t,this.rootRequest=n};n.Plan=e},6180:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getBindingDictionary=n.createMockRequest=n.plan=void 0;var r=e(6822),i=e(5493),o=e(6128),a=e(6701),c=e(867),u=e(5306),s=e(6020),p=e(4963),d=e(2330),_=e(597),f=e(7668),l=e(2328);function y(t){return t._bindingDictionary}function h(t,n,e,o,a){var c=b(e.container,a.serviceIdentifier),s=[];return c.length===r.BindingCount.NoBindingsAvailable&&e.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(e.container.bind(a.serviceIdentifier).toSelf(),c=b(e.container,a.serviceIdentifier)),s=n?c:c.filter((function(t){var n=new f.Request(t.serviceIdentifier,e,o,t,a);return t.constraint(n)})),function(t,n,e,o){switch(n.length){case r.BindingCount.NoBindingsAvailable:if(e.isOptional())return n;var a=u.getServiceIdentifierAsString(t),c=i.NOT_REGISTERED;throw c+=u.listMetadataForTarget(a,e),c+=u.listRegisteredBindingsForServiceIdentifier(o,a,b),new Error(c);case r.BindingCount.OnlyOneBindingAvailable:if(!e.isArray())return n;case r.BindingCount.MultipleBindingsAvailable:default:if(e.isArray())return n;a=u.getServiceIdentifierAsString(t),c=i.AMBIGUOUS_MATCH+" "+a;throw c+=u.listRegisteredBindingsForServiceIdentifier(o,a,b),new Error(c)}}(a.serviceIdentifier,s,a,e.container),s}function g(t,n,e,r,a,c){var u,s;if(null===a){u=h(t,n,r,null,c),s=new f.Request(e,r,null,u,c);var p=new d.Plan(r,s);r.addPlan(p)}else u=h(t,n,r,a,c),s=a.addChildRequest(c.serviceIdentifier,u,c);u.forEach((function(n){var e=null;if(c.isArray())e=s.addChildRequest(n.serviceIdentifier,n,c);else{if(n.cache)return;e=s}if(n.type===o.BindingTypeEnum.Instance&&null!==n.implementationType){var a=_.getDependencies(t,n.implementationType);if(!r.container.options.skipBaseClassChecks){var u=_.getBaseClassDependencyCount(t,n.implementationType);if(a.length<u){var p=i.ARGUMENTS_LENGTH_MISMATCH(_.getFunctionName(n.implementationType));throw new Error(p)}}a.forEach((function(n){g(t,!1,n.serviceIdentifier,r,e,n)}))}}))}function b(t,n){var e=[],r=y(t);return r.hasKey(n)?e=r.get(n):null!==t.parent&&(e=b(t.parent,n)),e}n.getBindingDictionary=y,n.plan=function(t,n,e,r,i,o,d,_){void 0===_&&(_=!1);var f=new s.Context(n),y=function(t,n,e,r,i,o){var c=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,u=new p.Metadata(c,e),s=new l.Target(n,r,e,u);if(void 0!==i){var d=new p.Metadata(i,o);s.metadata.push(d)}return s}(e,r,i,"",o,d);try{return g(t,_,i,f,null,y),f}catch(t){throw c.isStackOverflowExeption(t)&&f.plan&&u.circularDependencyToException(f.plan.rootRequest),t}},n.createMockRequest=function(t,n,e,r){var i=new l.Target(o.TargetTypeEnum.Variable,"",n,new p.Metadata(e,r)),a=new s.Context(t);return new f.Request(n,a,null,[],i)}},1007:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.QueryableString=void 0;var e=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var n,e=t.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},e)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();n.QueryableString=e},597:function(t,n,e){var r=this&&this.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),i=0;for(n=0;n<e;n++)for(var o=arguments[n],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.getFunctionName=n.getBaseClassDependencyCount=n.getDependencies=void 0;var i=e(8122),o=e(5493),a=e(6128),c=e(6701),u=e(5306);Object.defineProperty(n,"getFunctionName",{enumerable:!0,get:function(){return u.getFunctionName}});var s=e(2328);function p(t,n,e,i){var a=t.getConstructorMetadata(e),c=a.compilerGeneratedMetadata;if(void 0===c){var u=o.MISSING_INJECTABLE_ANNOTATION+" "+n+".";throw new Error(u)}var s=a.userGeneratedMetadata,p=Object.keys(s),f=function(t,n,e,r,i){for(var o=[],a=0;a<i;a++){var c=d(a,t,n,e,r);null!==c&&o.push(c)}return o}(i,n,c,s,0===e.length&&p.length>0?p.length:e.length),l=_(t,e);return r(f,l)}function d(t,n,e,r,c){var u=c[t.toString()]||[],p=f(u),d=!0!==p.unmanaged,_=r[t],l=p.inject||p.multiInject;if((_=l||_)instanceof i.LazyServiceIdentifer&&(_=_.unwrap()),d){if(!n&&(_===Object||_===Function||void 0===_)){var y=o.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+e+".";throw new Error(y)}var h=new s.Target(a.TargetTypeEnum.ConstructorArgument,p.targetName,_);return h.metadata=u,h}return null}function _(t,n){for(var e=t.getPropertiesMetadata(n),i=[],o=0,c=Object.keys(e);o<c.length;o++){var u=c[o],p=e[u],d=f(e[u]),l=d.targetName||u,y=d.inject||d.multiInject,h=new s.Target(a.TargetTypeEnum.ClassProperty,l,y);h.metadata=p,i.push(h)}var g=Object.getPrototypeOf(n.prototype).constructor;if(g!==Object){var b=_(t,g);i=r(i,b)}return i}function f(t){var n={};return t.forEach((function(t){n[t.key.toString()]=t.value})),{inject:n[c.INJECT_TAG],multiInject:n[c.MULTI_INJECT_TAG],targetName:n[c.NAME_TAG],unmanaged:n[c.UNMANAGED_TAG]}}n.getDependencies=function(t,n){return p(t,u.getFunctionName(n),n,!1)},n.getBaseClassDependencyCount=function t(n,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var i=p(n,u.getFunctionName(r),r,!0),o=i.map((function(t){return t.metadata.filter((function(t){return t.key===c.UNMANAGED_TAG}))})),a=[].concat.apply([],o).length,s=i.length-a;return s>0?s:t(n,r)}return 0}},7668:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Request=void 0;var r=e(7815),i=function(){function t(t,n,e,i,o){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=n,this.parentRequest=e,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===e?new Map:null}return t.prototype.addChildRequest=function(n,e,r){var i=new t(n,this.parentContext,this,e,r);return this.childRequests.push(i),i},t}();n.Request=i},2328:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Target=void 0;var r=e(6701),i=e(7815),o=e(4963),a=e(1007),c=function(){function t(t,n,e,c){this.id=i.id(),this.type=t,this.serviceIdentifier=e,this.name=new a.QueryableString(n||""),this.metadata=new Array;var u=null;"string"==typeof c?u=new o.Metadata(r.NAMED_TAG,c):c instanceof o.Metadata&&(u=c),null!==u&&this.metadata.push(u)}return t.prototype.hasTag=function(t){for(var n=0,e=this.metadata;n<e.length;n++){if(e[n].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return t.key!==r.INJECT_TAG&&t.key!==r.MULTI_INJECT_TAG&&t.key!==r.NAME_TAG&&t.key!==r.UNMANAGED_TAG&&t.key!==r.NAMED_TAG}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return t.key!==r.INJECT_TAG&&t.key!==r.MULTI_INJECT_TAG&&t.key!==r.NAME_TAG&&t.key!==r.UNMANAGED_TAG&&t.key!==r.NAMED_TAG})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var n=this;return function(e){for(var r=0,i=n.metadata;r<i.length;r++){var o=i[r];if(o.key===t&&o.value===e)return!0}return!1}},t}();n.Target=c},5798:function(t,n,e){var r=this&&this.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),i=0;for(n=0;n<e;n++)for(var o=arguments[n],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r};Object.defineProperty(n,"__esModule",{value:!0}),n.resolveInstance=void 0;var i=e(5493),o=e(6128),a=e(6701);n.resolveInstance=function(t,n,e){var c,u,s=null;if(n.length>0){var p=n.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ConstructorArgument})).map(e);u=p,s=function(t,n,e){var r=n.filter((function(t){return null!==t.target&&t.target.type===o.TargetTypeEnum.ClassProperty})),i=r.map(e);return r.forEach((function(n,e){var r;r=n.target.name.value();var o=i[e];t[r]=o})),t}(s=new((c=t).bind.apply(c,r([void 0],u))),n,e)}else s=new t;return function(t,n){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var e=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{n[e.value]()}catch(n){throw new Error(i.POST_CONSTRUCT_ERROR(t.name,n.message))}}}(t,s),s}},5190:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.resolve=void 0;var r=e(5493),i=e(6128),o=e(867),a=e(5306),c=e(5798),u=function(t,n,e){try{return e()}catch(e){throw o.isStackOverflowExeption(e)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,n.toString())):e}},s=function(t){return function(n){n.parentContext.setCurrentRequest(n);var e=n.bindings,o=n.childRequests,p=n.target&&n.target.isArray(),d=!(n.parentRequest&&n.parentRequest.target&&n.target&&n.parentRequest.target.matchesArray(n.target.serviceIdentifier));if(p&&d)return o.map((function(n){return s(t)(n)}));var _=null;if(!n.target.isOptional()||0!==e.length){var f=e[0],l=f.scope===i.BindingScopeEnum.Singleton,y=f.scope===i.BindingScopeEnum.Request;if(l&&f.activated)return f.cache;if(y&&null!==t&&t.has(f.id))return t.get(f.id);if(f.type===i.BindingTypeEnum.ConstantValue)_=f.cache;else if(f.type===i.BindingTypeEnum.Function)_=f.cache;else if(f.type===i.BindingTypeEnum.Constructor)_=f.implementationType;else if(f.type===i.BindingTypeEnum.DynamicValue&&null!==f.dynamicValue)_=u("toDynamicValue",f.serviceIdentifier,(function(){return f.dynamicValue(n.parentContext)}));else if(f.type===i.BindingTypeEnum.Factory&&null!==f.factory)_=u("toFactory",f.serviceIdentifier,(function(){return f.factory(n.parentContext)}));else if(f.type===i.BindingTypeEnum.Provider&&null!==f.provider)_=u("toProvider",f.serviceIdentifier,(function(){return f.provider(n.parentContext)}));else{if(f.type!==i.BindingTypeEnum.Instance||null===f.implementationType){var h=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+h)}_=c.resolveInstance(f.implementationType,o,s(t))}return"function"==typeof f.onActivation&&(_=f.onActivation(n.parentContext,_)),l&&(f.cache=_,f.activated=!0),y&&null!==t&&!t.has(f.id)&&t.set(f.id,_),_}}};n.resolve=function(t){return s(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},5742:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingInSyntax=void 0;var r=e(6128),i=e(8251),o=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},t}();n.BindingInSyntax=o},5556:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingInWhenOnSyntax=void 0;var r=e(5742),i=e(9562),o=e(190),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();n.BindingInWhenOnSyntax=a},9562:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingOnSyntax=void 0;var r=e(190),i=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();n.BindingOnSyntax=i},7416:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingToSyntax=void 0;var r=e(5493),i=e(6128),o=e(5556),a=e(8251),c=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=t,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new o.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var n=this.toConstantValue(t);return this._binding.type=i.BindingTypeEnum.Function,n},t.prototype.toAutoFactory=function(t){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(n){return function(){return n.container.get(t)}},new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(n){return n.container.get(t)}))},t}();n.BindingToSyntax=c},8251:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingWhenOnSyntax=void 0;var r=e(9562),i=e(190),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();n.BindingWhenOnSyntax=o},190:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BindingWhenSyntax=void 0;var r=e(9562),i=e(809),o=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=i.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,n){return this._binding.constraint=i.taggedConstraint(t)(n),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(n){return i.typeConstraint(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(n){return i.namedConstraint(t)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,n){return this._binding.constraint=function(e){return i.taggedConstraint(t)(n)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,i.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._binding.constraint=function(e){return i.traverseAncerstors(e,i.taggedConstraint(t)(n))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,n){return this._binding.constraint=function(e){return!i.traverseAncerstors(e,i.taggedConstraint(t)(n))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(n){return i.traverseAncerstors(n,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(n){return!i.traverseAncerstors(n,t)},new r.BindingOnSyntax(this._binding)},t}();n.BindingWhenSyntax=o},809:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.typeConstraint=n.namedConstraint=n.taggedConstraint=n.traverseAncerstors=void 0;var r=e(6701),i=e(4963),o=function(t,n){var e=t.parentRequest;return null!==e&&(!!n(e)||o(e,n))};n.traverseAncerstors=o;var a=function(t){return function(n){var e=function(e){return null!==e&&null!==e.target&&e.target.matchesTag(t)(n)};return e.metaData=new i.Metadata(t,n),e}};n.taggedConstraint=a;var c=a(r.NAMED_TAG);n.namedConstraint=c;n.typeConstraint=function(t){return function(n){var e=null;if(null!==n){if(e=n.bindings[0],"string"==typeof t)return e.serviceIdentifier===t;var r=n.bindings[0].implementationType;return t===r}return!1}}},8364:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.multiBindToService=void 0,n.multiBindToService=function(t){return function(n){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.forEach((function(e){return t.bind(e).toService(n)}))}}}},867:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isStackOverflowExeption=void 0;var r=e(5493);n.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},7815:(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.id=void 0;var e=0;n.id=function(){return e++}},5306:(t,n,e)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.circularDependencyToException=n.listMetadataForTarget=n.listRegisteredBindingsForServiceIdentifier=n.getServiceIdentifierAsString=n.getFunctionName=void 0;var r=e(5493);function i(t){return"function"==typeof t?t.name:"symbol"==typeof t?t.toString():t}function o(t,n){return null!==t.parentRequest&&(t.parentRequest.serviceIdentifier===n||o(t.parentRequest,n))}function a(t){if(t.name)return t.name;var n=t.toString(),e=n.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+n}n.getServiceIdentifierAsString=i,n.listRegisteredBindingsForServiceIdentifier=function(t,n,e){var r="",i=e(t,n);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(t){var n="Object";null!==t.implementationType&&(n=a(t.implementationType)),r=r+"\n "+n,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},n.circularDependencyToException=function t(n){n.childRequests.forEach((function(n){if(o(n,n.serviceIdentifier)){var e=function(t){return function t(n,e){void 0===e&&(e=[]);var r=i(n.serviceIdentifier);return e.push(r),null!==n.parentRequest?t(n.parentRequest,e):e}(t).reverse().join(" --\x3e ")}(n);throw new Error(r.CIRCULAR_DEPENDENCY+" "+e)}t(n)}))},n.listMetadataForTarget=function(t,n){if(n.isTagged()||n.isNamed()){var e="",r=n.getNamedTag(),i=n.getCustomTags();return null!==r&&(e+=r.toString()+"\n"),null!==i&&i.forEach((function(t){e+=t.toString()+"\n"}))," "+t+"\n "+t+" - "+e}return" "+t},n.getFunctionName=a},5747:t=>{t.exports=require("fs")},5622:t=>{t.exports=require("path")}},n={};function e(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return t[r].call(o.exports,o,o.exports,e),o.exports}e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var n;e.r(r),e.d(r,{AnchorComputerRegistry:()=>A,DIAMOND_ANCHOR_KIND:()=>m,DefaultAnchors:()=>Ut,DiamondAnchor:()=>cn,ELLIPTIC_ANCHOR_KIND:()=>v,EdgeRouterRegistry:()=>fn,EdgeRoutes:()=>yn,EllipseAnchor:()=>rn,LinearEdgeRouter:()=>Ht,ManhattanDiamondAnchor:()=>Yt,ManhattanEdgeRouter:()=>Wt,ManhattanEllipticAnchor:()=>zt,ManhattanRectangularAnchor:()=>Kt,PolylineEdgeRouter:()=>tn,RECTANGULAR_ANCHOR_KIND:()=>T,RectangleAnchor:()=>on,RoutableView:()=>At,SConnectableElement:()=>Nt,SDanglingAnchor:()=>Rt,SRoutableElement:()=>St,SRoutingHandle:()=>Ct,Side:()=>jt,connectableFeature:()=>Et,containsEdgeRoutes:()=>ln,edgeInProgressID:()=>Mt,edgeInProgressTargetHandleID:()=>Dt,getAbsoluteRouteBounds:()=>Pt,getRouteBounds:()=>xt,isConnectable:()=>wt,load:()=>bn});const i=(n=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||__filename,function(r){var i,o,a;r=r||{},i||(i=void 0!==r?r:{}),i.ready=new Promise((function(t,n){o=t,a=n}));var c,u={};for(c in i)i.hasOwnProperty(c)&&(u[c]=i[c]);var s,p,d,_,f="./this.program";s="object"===("undefined"==typeof window?"undefined":t(window)),p="function"==typeof importScripts,d="object"===("undefined"==typeof process?"undefined":t(process))&&"object"===t(process.versions)&&"string"==typeof process.versions.node,_=!s&&!d&&!p;var l,y,h,g,b,m="";d?(m=p?e(5622).dirname(m)+"/":__dirname+"/",l=function(t,n){return g||(g=e(5747)),b||(b=e(5622)),t=b.normalize(t),g.readFileSync(t,n?null:"utf8")},h=function(t){return(t=l(t,!0)).buffer||(t=new Uint8Array(t)),E(t.buffer),t},1<process.argv.length&&(f=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(t){throw t})),process.on("unhandledRejection",V),i.inspect=function(){return"[Emscripten Module object]"}):_?("undefined"!=typeof read&&(l=function(t){return read(t)}),h=function(n){return"function"==typeof readbuffer?new Uint8Array(readbuffer(n)):(E("object"===t(n=read(n,"binary"))),n)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(s||p)&&(p?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),n&&(m=n),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",l=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(null),n.responseText},p&&(h=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)}),y=function(t,n,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?n(r.response):e()},r.onerror=e,r.send(null)});var v=i.print||console.log.bind(console),T=i.printErr||console.warn.bind(console);for(c in u)u.hasOwnProperty(c)&&(i[c]=u[c]);u=null,i.thisProgram&&(f=i.thisProgram);var A,I,O=[];i.wasmBinary&&(I=i.wasmBinary),i.noExitRuntime,"object"!==("undefined"==typeof WebAssembly?"undefined":t(WebAssembly))&&V("no native wasm support detected");var S=!1;function E(t,n){t||V("Assertion failed: "+n)}var w="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(t,n,e){var r=n+e;for(e=n;t[e]&&!(e>=r);)++e;if(16<e-n&&t.subarray&&w)return w.decode(t.subarray(n,e));for(r="";n<e;){var i=t[n++];if(128&i){var o=63&t[n++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|o);else{var a=63&t[n++];65536>(i=224==(240&i)?(15&i)<<12|o<<6|a:(7&i)<<18|o<<12|a<<6|63&t[n++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function x(t){return t?P(C,t,void 0):""}var N,C,R,M,D=[],G=[],j=[],B=[],L=!1;function F(){var t=i.preRun.shift();D.unshift(t)}G.push({Uc:function(){ut()}});var U=0,H=null,k=null;function V(t){throw i.onAbort&&i.onAbort(t),T(t),S=!0,t=new WebAssembly.RuntimeError("abort("+t+"). Build with -s ASSERTIONS=1 for more info."),a(t),t}function W(t){var n=J;return String.prototype.startsWith?n.startsWith(t):0===n.indexOf(t)}function q(){return W("data:application/octet-stream;base64,")}i.preloadedImages={},i.preloadedAudios={};var J="libavoid.wasm";if(!q()){var K=J;J=i.locateFile?i.locateFile(K,m):m+K}function Y(){var t=J;try{if(t==J&&I)return new Uint8Array(I);if(h)return h(t);throw"both async and sync fetching of the wasm failed"}catch(t){V(t)}}function z(t){for(;0<t.length;){var n=t.shift();if("function"==typeof n)n(i);else{var e=n.Uc;"number"==typeof e?void 0===n.Pc?M.get(e)():M.get(e)(n.Pc):e(void 0===n.Pc?null:n.Pc)}}}function X(t){this.Gc=t-16,this.Rc=function(t){R[this.Gc+8>>2]=t},this.Tc=function(){return R[this.Gc+8>>2]},this.ud=function(t){R[this.Gc+0>>2]=t},this.Gd=function(){R[this.Gc+4>>2]=0},this.td=function(){N[this.Gc+12>>0]=0},this.Hd=function(){N[this.Gc+13>>0]=0},this.rd=function(t,n){this.Rc(t),this.ud(n),this.Gd(),this.td(),this.Hd()}}var Q={};function Z(){if(!$){var n,e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===("undefined"==typeof navigator?"undefined":t(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:f||"./this.program"};for(n in Q)e[n]=Q[n];var r=[];for(n in e)r.push(n+"="+e[n]);$=r}return $}var $,tt=[null,[],[]];function nt(t){return 0==t%4&&(0!=t%100||0==t%400)}function et(t,n){for(var e=0,r=0;r<=n;e+=t[r++]);return e}var rt=[31,29,31,30,31,30,31,31,30,31,30,31],it=[31,28,31,30,31,30,31,31,30,31,30,31];function ot(t,n){for(t=new Date(t.getTime());0<n;){var e=t.getMonth(),r=(nt(t.getFullYear())?rt:it)[e];if(!(n>r-t.getDate())){t.setDate(t.getDate()+n);break}n-=r-t.getDate()+1,t.setDate(1),11>e?t.setMonth(e+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1))}return t}function at(t,n,e,r){function i(t,n,e){for(t="number"==typeof t?t.toString():t||"";t.length<n;)t=e[0]+t;return t}function o(t,n){return i(t,n,"0")}function a(t,n){function e(t){return 0>t?-1:0<t?1:0}var r;return 0===(r=e(t.getFullYear()-n.getFullYear()))&&0===(r=e(t.getMonth()-n.getMonth()))&&(r=e(t.getDate()-n.getDate())),r}function c(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function u(t){t=ot(new Date(t.Jc+1900,0,1),t.Oc);var n=new Date(t.getFullYear()+1,0,4),e=c(new Date(t.getFullYear(),0,4));return n=c(n),0>=a(e,t)?0>=a(n,t)?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var s=R[r+40>>2];for(var p in r={Md:R[r>>2],Ld:R[r+4>>2],Mc:R[r+8>>2],Lc:R[r+12>>2],Kc:R[r+16>>2],Jc:R[r+20>>2],Nc:R[r+24>>2],Oc:R[r+28>>2],Od:R[r+32>>2],Kd:R[r+36>>2],Nd:s?x(s):""},e=x(e),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})e=e.replace(new RegExp(p,"g"),s[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),_="January February March April May June July August September October November December".split(" ");for(p in s={"%a":function(t){return d[t.Nc].substring(0,3)},"%A":function(t){return d[t.Nc]},"%b":function(t){return _[t.Kc].substring(0,3)},"%B":function(t){return _[t.Kc]},"%C":function(t){return o((t.Jc+1900)/100|0,2)},"%d":function(t){return o(t.Lc,2)},"%e":function(t){return i(t.Lc,2," ")},"%g":function(t){return u(t).toString().substring(2)},"%G":function(t){return u(t)},"%H":function(t){return o(t.Mc,2)},"%I":function(t){return 0==(t=t.Mc)?t=12:12<t&&(t-=12),o(t,2)},"%j":function(t){return o(t.Lc+et(nt(t.Jc+1900)?rt:it,t.Kc-1),3)},"%m":function(t){return o(t.Kc+1,2)},"%M":function(t){return o(t.Ld,2)},"%n":function(){return"\n"},"%p":function(t){return 0<=t.Mc&&12>t.Mc?"AM":"PM"},"%S":function(t){return o(t.Md,2)},"%t":function(){return"\t"},"%u":function(t){return t.Nc||7},"%U":function(t){var n=new Date(t.Jc+1900,0,1),e=0===n.getDay()?n:ot(n,7-n.getDay());return 0>a(e,t=new Date(t.Jc+1900,t.Kc,t.Lc))?o(Math.ceil((31-e.getDate()+(et(nt(t.getFullYear())?rt:it,t.getMonth()-1)-31)+t.getDate())/7),2):0===a(e,n)?"01":"00"},"%V":function(t){var n=new Date(t.Jc+1901,0,4),e=c(new Date(t.Jc+1900,0,4));n=c(n);var r=ot(new Date(t.Jc+1900,0,1),t.Oc);return 0>a(r,e)?"53":0>=a(n,r)?"01":o(Math.ceil((e.getFullYear()<t.Jc+1900?t.Oc+32-e.getDate():t.Oc+1-e.getDate())/7),2)},"%w":function(t){return t.Nc},"%W":function(t){var n=new Date(t.Jc,0,1),e=1===n.getDay()?n:ot(n,0===n.getDay()?1:7-n.getDay()+1);return 0>a(e,t=new Date(t.Jc+1900,t.Kc,t.Lc))?o(Math.ceil((31-e.getDate()+(et(nt(t.getFullYear())?rt:it,t.getMonth()-1)-31)+t.getDate())/7),2):0===a(e,n)?"01":"00"},"%y":function(t){return(t.Jc+1900).toString().substring(2)},"%Y":function(t){return t.Jc+1900},"%z":function(t){var n=0<=(t=t.Kd);return t=Math.abs(t)/60,(n?"+":"-")+String("0000"+(t/60*100+t%60)).slice(-4)},"%Z":function(t){return t.Nd},"%%":function(){return"%"}})0<=e.indexOf(p)&&(e=e.replace(new RegExp(p,"g"),s[p](r)));return(p=function(t){for(var n=0,e=0;e<t.length;++e){var r=t.charCodeAt(e);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++e)),127>=r?++n:n=2047>=r?n+2:65535>=r?n+3:n+4}if(n=Array(n+1),r=n.length,e=0,0<r){r=e+r-1;for(var i=0;i<t.length;++i){var o=t.charCodeAt(i);if(55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&t.charCodeAt(++i)),127>=o){if(e>=r)break;n[e++]=o}else{if(2047>=o){if(e+1>=r)break;n[e++]=192|o>>6}else{if(65535>=o){if(e+2>=r)break;n[e++]=224|o>>12}else{if(e+3>=r)break;n[e++]=240|o>>18,n[e++]=128|o>>12&63}n[e++]=128|o>>6&63}n[e++]=128|63&o}}n[e]=0}return n}(e)).length>n?0:(N.set(p,t),p.length-1)}var ct={a:function(t,n,e,r){V("Assertion failed: "+x(t)+", at: "+[n?x(n):"unknown filename",e,r?x(r):"unknown function"])},e:function(t){return st(t+16)+16},d:function(t,n,e){throw new X(t).rd(n,e),t},b:function(){V()},c:function t(){return void 0===t.start&&(t.start=Date.now()),1e3*(Date.now()-t.start)|0},l:function(t,n,e){C.copyWithin(t,n,n+e)},m:function(){V("OOM")},h:function(t,n){var e=0;return Z().forEach((function(r,i){var o=n+e;for(i=R[t+4*i>>2]=o,o=0;o<r.length;++o)N[i++>>0]=r.charCodeAt(o);N[i>>0]=0,e+=r.length+1})),0},i:function(t,n){var e=Z();R[t>>2]=e.length;var r=0;return e.forEach((function(t){r+=t.length+1})),R[n>>2]=r,0},j:function(){return 0},k:function(){},f:function(t,n,e,r){for(var i=0,o=0;o<e;o++){for(var a=R[n+8*o>>2],c=R[n+(8*o+4)>>2],u=0;u<c;u++){var s=C[a+u],p=tt[t];0===s||10===s?((1===t?v:T)(P(p,0)),p.length=0):p.push(s)}i+=c}return R[r>>2]=i,0},g:function(t,n,e,r){return at(t,n,e,r)}};!function(){function t(t){i.asm=t.exports,t=i.asm.n.buffer,i.HEAP8=N=new Int8Array(t),i.HEAP16=new Int16Array(t),i.HEAP32=R=new Int32Array(t),i.HEAPU8=C=new Uint8Array(t),i.HEAPU16=new Uint16Array(t),i.HEAPU32=new Uint32Array(t),i.HEAPF32=new Float32Array(t),i.HEAPF64=new Float64Array(t),M=i.asm.p,U--,i.monitorRunDependencies&&i.monitorRunDependencies(U),0==U&&(null!==H&&(clearInterval(H),H=null),k&&(t=k,k=null,t()))}function n(n){t(n.instance)}function e(t){return function(){if(!I&&(s||p)){if("function"==typeof fetch&&!W("file://"))return fetch(J,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+J+"'";return t.arrayBuffer()})).catch((function(){return Y()}));if(y)return new Promise((function(t,n){y(J,(function(n){t(new Uint8Array(n))}),n)}))}return Promise.resolve().then((function(){return Y()}))}().then((function(t){return WebAssembly.instantiate(t,r)})).then(t,(function(t){T("failed to asynchronously prepare wasm: "+t),V(t)}))}var r={a:ct};if(U++,i.monitorRunDependencies&&i.monitorRunDependencies(U),i.instantiateWasm)try{return i.instantiateWasm(r,t)}catch(t){return T("Module.instantiateWasm callback failed with error: "+t),!1}(I||"function"!=typeof WebAssembly.instantiateStreaming||q()||W("file://")||"function"!=typeof fetch?e(n):fetch(J,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,r).then(n,(function(t){return T("wasm streaming compile failed: "+t),T("falling back to ArrayBuffer instantiation"),e(n)}))}))).catch(a)}();var ut=i.___wasm_call_ctors=function(){return(ut=i.___wasm_call_ctors=i.asm.o).apply(null,arguments)},st=i._malloc=function(){return(st=i._malloc=i.asm.q).apply(null,arguments)};i._free=function(){return(i._free=i.asm.r).apply(null,arguments)};var pt,dt=i._emscripten_bind_VoidPtr___destroy___0=function(){return(dt=i._emscripten_bind_VoidPtr___destroy___0=i.asm.s).apply(null,arguments)},_t=i._emscripten_bind_HyperedgeImprover_HyperedgeImprover_0=function(){return(_t=i._emscripten_bind_HyperedgeImprover_HyperedgeImprover_0=i.asm.t).apply(null,arguments)},ft=i._emscripten_bind_HyperedgeImprover_clear_0=function(){return(ft=i._emscripten_bind_HyperedgeImprover_clear_0=i.asm.u).apply(null,arguments)},lt=i._emscripten_bind_HyperedgeImprover_setRouter_1=function(){return(lt=i._emscripten_bind_HyperedgeImprover_setRouter_1=i.asm.v).apply(null,arguments)},yt=i._emscripten_bind_HyperedgeImprover___destroy___0=function(){return(yt=i._emscripten_bind_HyperedgeImprover___destroy___0=i.asm.w).apply(null,arguments)},ht=i._emscripten_bind_Box_Box_0=function(){return(ht=i._emscripten_bind_Box_Box_0=i.asm.x).apply(null,arguments)},gt=i._emscripten_bind_Box_length_1=function(){return(gt=i._emscripten_bind_Box_length_1=i.asm.y).apply(null,arguments)},bt=i._emscripten_bind_Box_width_0=function(){return(bt=i._emscripten_bind_Box_width_0=i.asm.z).apply(null,arguments)},mt=i._emscripten_bind_Box_height_0=function(){return(mt=i._emscripten_bind_Box_height_0=i.asm.A).apply(null,arguments)},vt=i._emscripten_bind_Box_get_min_0=function(){return(vt=i._emscripten_bind_Box_get_min_0=i.asm.B).apply(null,arguments)},Tt=i._emscripten_bind_Box_set_min_1=function(){return(Tt=i._emscripten_bind_Box_set_min_1=i.asm.C).apply(null,arguments)},At=i._emscripten_bind_Box_get_max_0=function(){return(At=i._emscripten_bind_Box_get_max_0=i.asm.D).apply(null,arguments)},It=i._emscripten_bind_Box_set_max_1=function(){return(It=i._emscripten_bind_Box_set_max_1=i.asm.E).apply(null,arguments)},Ot=i._emscripten_bind_Box___destroy___0=function(){return(Ot=i._emscripten_bind_Box___destroy___0=i.asm.F).apply(null,arguments)},St=i._emscripten_bind_PolygonInterface_clear_0=function(){return(St=i._emscripten_bind_PolygonInterface_clear_0=i.asm.G).apply(null,arguments)},Et=i._emscripten_bind_PolygonInterface_empty_0=function(){return(Et=i._emscripten_bind_PolygonInterface_empty_0=i.asm.H).apply(null,arguments)},wt=i._emscripten_bind_PolygonInterface_size_0=function(){return(wt=i._emscripten_bind_PolygonInterface_size_0=i.asm.I).apply(null,arguments)},Pt=i._emscripten_bind_PolygonInterface_id_0=function(){return(Pt=i._emscripten_bind_PolygonInterface_id_0=i.asm.J).apply(null,arguments)},xt=i._emscripten_bind_PolygonInterface_at_1=function(){return(xt=i._emscripten_bind_PolygonInterface_at_1=i.asm.K).apply(null,arguments)},Nt=i._emscripten_bind_PolygonInterface_boundingRectPolygon_0=function(){return(Nt=i._emscripten_bind_PolygonInterface_boundingRectPolygon_0=i.asm.L).apply(null,arguments)},Ct=i._emscripten_bind_PolygonInterface_offsetBoundingBox_1=function(){return(Ct=i._emscripten_bind_PolygonInterface_offsetBoundingBox_1=i.asm.M).apply(null,arguments)},Rt=i._emscripten_bind_PolygonInterface_offsetPolygon_1=function(){return(Rt=i._emscripten_bind_PolygonInterface_offsetPolygon_1=i.asm.N).apply(null,arguments)},Mt=i._emscripten_bind_PolygonInterface___destroy___0=function(){return(Mt=i._emscripten_bind_PolygonInterface___destroy___0=i.asm.O).apply(null,arguments)},Dt=i._emscripten_bind_Polygon_Polygon_0=function(){return(Dt=i._emscripten_bind_Polygon_Polygon_0=i.asm.P).apply(null,arguments)},Gt=i._emscripten_bind_Polygon_Polygon_1=function(){return(Gt=i._emscripten_bind_Polygon_Polygon_1=i.asm.Q).apply(null,arguments)},jt=i._emscripten_bind_Polygon_setPoint_2=function(){return(jt=i._emscripten_bind_Polygon_setPoint_2=i.asm.R).apply(null,arguments)},Bt=i._emscripten_bind_Polygon_size_0=function(){return(Bt=i._emscripten_bind_Polygon_size_0=i.asm.S).apply(null,arguments)},Lt=i._emscripten_bind_Polygon_get_ps_1=function(){return(Lt=i._emscripten_bind_Polygon_get_ps_1=i.asm.T).apply(null,arguments)},Ft=i._emscripten_bind_Polygon_set_ps_2=function(){return(Ft=i._emscripten_bind_Polygon_set_ps_2=i.asm.U).apply(null,arguments)},Ut=i._emscripten_bind_Polygon___destroy___0=function(){return(Ut=i._emscripten_bind_Polygon___destroy___0=i.asm.V).apply(null,arguments)},Ht=i._emscripten_bind_Point_Point_0=function(){return(Ht=i._emscripten_bind_Point_Point_0=i.asm.W).apply(null,arguments)},kt=i._emscripten_bind_Point_Point_2=function(){return(kt=i._emscripten_bind_Point_Point_2=i.asm.X).apply(null,arguments)},Vt=i._emscripten_bind_Point_equal_1=function(){return(Vt=i._emscripten_bind_Point_equal_1=i.asm.Y).apply(null,arguments)},Wt=i._emscripten_bind_Point_get_x_0=function(){return(Wt=i._emscripten_bind_Point_get_x_0=i.asm.Z).apply(null,arguments)},qt=i._emscripten_bind_Point_set_x_1=function(){return(qt=i._emscripten_bind_Point_set_x_1=i.asm._).apply(null,arguments)},Jt=i._emscripten_bind_Point_get_y_0=function(){return(Jt=i._emscripten_bind_Point_get_y_0=i.asm.$).apply(null,arguments)},Kt=i._emscripten_bind_Point_set_y_1=function(){return(Kt=i._emscripten_bind_Point_set_y_1=i.asm.aa).apply(null,arguments)},Yt=i._emscripten_bind_Point_get_id_0=function(){return(Yt=i._emscripten_bind_Point_get_id_0=i.asm.ba).apply(null,arguments)},zt=i._emscripten_bind_Point_set_id_1=function(){return(zt=i._emscripten_bind_Point_set_id_1=i.asm.ca).apply(null,arguments)},Xt=i._emscripten_bind_Point_get_vn_0=function(){return(Xt=i._emscripten_bind_Point_get_vn_0=i.asm.da).apply(null,arguments)},Qt=i._emscripten_bind_Point_set_vn_1=function(){return(Qt=i._emscripten_bind_Point_set_vn_1=i.asm.ea).apply(null,arguments)},Zt=i._emscripten_bind_Point___destroy___0=function(){return(Zt=i._emscripten_bind_Point___destroy___0=i.asm.fa).apply(null,arguments)},$t=i._emscripten_bind_Rectangle_Rectangle_3=function(){return($t=i._emscripten_bind_Rectangle_Rectangle_3=i.asm.ga).apply(null,arguments)},tn=i._emscripten_bind_Rectangle___destroy___0=function(){return(tn=i._emscripten_bind_Rectangle___destroy___0=i.asm.ha).apply(null,arguments)},nn=i._emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0=function(){return(nn=i._emscripten_bind_HyperedgeTreeNode_HyperedgeTreeNode_0=i.asm.ia).apply(null,arguments)},en=i._emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2=function(){return(en=i._emscripten_bind_HyperedgeTreeNode_writeEdgesToConns_2=i.asm.ja).apply(null,arguments)},rn=i._emscripten_bind_HyperedgeTreeNode___destroy___0=function(){return(rn=i._emscripten_bind_HyperedgeTreeNode___destroy___0=i.asm.ka).apply(null,arguments)},on=i._emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3=function(){return(on=i._emscripten_bind_HyperedgeTreeEdge_HyperedgeTreeEdge_3=i.asm.la).apply(null,arguments)},an=i._emscripten_bind_HyperedgeTreeEdge___destroy___0=function(){return(an=i._emscripten_bind_HyperedgeTreeEdge___destroy___0=i.asm.ma).apply(null,arguments)},cn=i._emscripten_bind_AStarPath_AStarPath_0=function(){return(cn=i._emscripten_bind_AStarPath_AStarPath_0=i.asm.na).apply(null,arguments)},un=i._emscripten_bind_AStarPath_search_4=function(){return(un=i._emscripten_bind_AStarPath_search_4=i.asm.oa).apply(null,arguments)},sn=i._emscripten_bind_AStarPath___destroy___0=function(){return(sn=i._emscripten_bind_AStarPath___destroy___0=i.asm.pa).apply(null,arguments)},pn=i._emscripten_bind_ConnEnd_ConnEnd_1=function(){return(pn=i._emscripten_bind_ConnEnd_ConnEnd_1=i.asm.qa).apply(null,arguments)},dn=i._emscripten_bind_ConnEnd_ConnEnd_2=function(){return(dn=i._emscripten_bind_ConnEnd_ConnEnd_2=i.asm.ra).apply(null,arguments)},_n=i._emscripten_bind_ConnEnd___destroy___0=function(){return(_n=i._emscripten_bind_ConnEnd___destroy___0=i.asm.sa).apply(null,arguments)},fn=i._emscripten_bind_ActionInfo_ActionInfo_2=function(){return(fn=i._emscripten_bind_ActionInfo_ActionInfo_2=i.asm.ta).apply(null,arguments)},ln=i._emscripten_bind_ActionInfo_ActionInfo_3=function(){return(ln=i._emscripten_bind_ActionInfo_ActionInfo_3=i.asm.ua).apply(null,arguments)},yn=i._emscripten_bind_ActionInfo_ActionInfo_4=function(){return(yn=i._emscripten_bind_ActionInfo_ActionInfo_4=i.asm.va).apply(null,arguments)},hn=i._emscripten_bind_ActionInfo_obstacle_0=function(){return(hn=i._emscripten_bind_ActionInfo_obstacle_0=i.asm.wa).apply(null,arguments)},gn=i._emscripten_bind_ActionInfo_shape_0=function(){return(gn=i._emscripten_bind_ActionInfo_shape_0=i.asm.xa).apply(null,arguments)},bn=i._emscripten_bind_ActionInfo_conn_0=function(){return(bn=i._emscripten_bind_ActionInfo_conn_0=i.asm.ya).apply(null,arguments)},mn=i._emscripten_bind_ActionInfo_junction_0=function(){return(mn=i._emscripten_bind_ActionInfo_junction_0=i.asm.za).apply(null,arguments)},vn=i._emscripten_bind_ActionInfo_addConnEndUpdate_3=function(){return(vn=i._emscripten_bind_ActionInfo_addConnEndUpdate_3=i.asm.Aa).apply(null,arguments)},Tn=i._emscripten_bind_ActionInfo_get_type_0=function(){return(Tn=i._emscripten_bind_ActionInfo_get_type_0=i.asm.Ba).apply(null,arguments)},An=i._emscripten_bind_ActionInfo_set_type_1=function(){return(An=i._emscripten_bind_ActionInfo_set_type_1=i.asm.Ca).apply(null,arguments)},In=i._emscripten_bind_ActionInfo_get_objPtr_0=function(){return(In=i._emscripten_bind_ActionInfo_get_objPtr_0=i.asm.Da).apply(null,arguments)},On=i._emscripten_bind_ActionInfo_set_objPtr_1=function(){return(On=i._emscripten_bind_ActionInfo_set_objPtr_1=i.asm.Ea).apply(null,arguments)},Sn=i._emscripten_bind_ActionInfo_get_newPoly_0=function(){return(Sn=i._emscripten_bind_ActionInfo_get_newPoly_0=i.asm.Fa).apply(null,arguments)},En=i._emscripten_bind_ActionInfo_set_newPoly_1=function(){return(En=i._emscripten_bind_ActionInfo_set_newPoly_1=i.asm.Ga).apply(null,arguments)},wn=i._emscripten_bind_ActionInfo_get_newPosition_0=function(){return(wn=i._emscripten_bind_ActionInfo_get_newPosition_0=i.asm.Ha).apply(null,arguments)},Pn=i._emscripten_bind_ActionInfo_set_newPosition_1=function(){return(Pn=i._emscripten_bind_ActionInfo_set_newPosition_1=i.asm.Ia).apply(null,arguments)},xn=i._emscripten_bind_ActionInfo_get_firstMove_0=function(){return(xn=i._emscripten_bind_ActionInfo_get_firstMove_0=i.asm.Ja).apply(null,arguments)},Nn=i._emscripten_bind_ActionInfo_set_firstMove_1=function(){return(Nn=i._emscripten_bind_ActionInfo_set_firstMove_1=i.asm.Ka).apply(null,arguments)},Cn=i._emscripten_bind_ActionInfo___destroy___0=function(){return(Cn=i._emscripten_bind_ActionInfo___destroy___0=i.asm.La).apply(null,arguments)},Rn=i._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2=function(){return(Rn=i._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_2=i.asm.Ma).apply(null,arguments)},Mn=i._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3=function(){return(Mn=i._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_3=i.asm.Na).apply(null,arguments)},Dn=i._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6=function(){return(Dn=i._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_6=i.asm.Oa).apply(null,arguments)},Gn=i._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7=function(){return(Gn=i._emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_7=i.asm.Pa).apply(null,arguments)},jn=i._emscripten_bind_ShapeConnectionPin_setConnectionCost_1=function(){return(jn=i._emscripten_bind_ShapeConnectionPin_setConnectionCost_1=i.asm.Qa).apply(null,arguments)},Bn=i._emscripten_bind_ShapeConnectionPin_position_0=function(){return(Bn=i._emscripten_bind_ShapeConnectionPin_position_0=i.asm.Ra).apply(null,arguments)},Ln=i._emscripten_bind_ShapeConnectionPin_position_1=function(){return(Ln=i._emscripten_bind_ShapeConnectionPin_position_1=i.asm.Sa).apply(null,arguments)},Fn=i._emscripten_bind_ShapeConnectionPin_directions_0=function(){return(Fn=i._emscripten_bind_ShapeConnectionPin_directions_0=i.asm.Ta).apply(null,arguments)},Un=i._emscripten_bind_ShapeConnectionPin_setExclusive_1=function(){return(Un=i._emscripten_bind_ShapeConnectionPin_setExclusive_1=i.asm.Ua).apply(null,arguments)},Hn=i._emscripten_bind_ShapeConnectionPin_isExclusive_0=function(){return(Hn=i._emscripten_bind_ShapeConnectionPin_isExclusive_0=i.asm.Va).apply(null,arguments)},kn=i._emscripten_bind_ShapeConnectionPin___destroy___0=function(){return(kn=i._emscripten_bind_ShapeConnectionPin___destroy___0=i.asm.Wa).apply(null,arguments)},Vn=i._emscripten_bind_Obstacle_id_0=function(){return(Vn=i._emscripten_bind_Obstacle_id_0=i.asm.Xa).apply(null,arguments)},Wn=i._emscripten_bind_Obstacle_polygon_0=function(){return(Wn=i._emscripten_bind_Obstacle_polygon_0=i.asm.Ya).apply(null,arguments)},qn=i._emscripten_bind_Obstacle_router_0=function(){return(qn=i._emscripten_bind_Obstacle_router_0=i.asm.Za).apply(null,arguments)},Jn=i._emscripten_bind_Obstacle_position_0=function(){return(Jn=i._emscripten_bind_Obstacle_position_0=i.asm._a).apply(null,arguments)},Kn=i._emscripten_bind_Obstacle___destroy___0=function(){return(Kn=i._emscripten_bind_Obstacle___destroy___0=i.asm.$a).apply(null,arguments)},Yn=i._emscripten_bind_JunctionRef_JunctionRef_2=function(){return(Yn=i._emscripten_bind_JunctionRef_JunctionRef_2=i.asm.ab).apply(null,arguments)},zn=i._emscripten_bind_JunctionRef_JunctionRef_3=function(){return(zn=i._emscripten_bind_JunctionRef_JunctionRef_3=i.asm.bb).apply(null,arguments)},Xn=i._emscripten_bind_JunctionRef_position_0=function(){return(Xn=i._emscripten_bind_JunctionRef_position_0=i.asm.cb).apply(null,arguments)},Qn=i._emscripten_bind_JunctionRef___destroy___0=function(){return(Qn=i._emscripten_bind_JunctionRef___destroy___0=i.asm.db).apply(null,arguments)},Zn=i._emscripten_bind_ShapeRef_ShapeRef_2=function(){return(Zn=i._emscripten_bind_ShapeRef_ShapeRef_2=i.asm.eb).apply(null,arguments)},$n=i._emscripten_bind_ShapeRef_ShapeRef_3=function(){return($n=i._emscripten_bind_ShapeRef_ShapeRef_3=i.asm.fb).apply(null,arguments)},te=i._emscripten_bind_ShapeRef_polygon_0=function(){return(te=i._emscripten_bind_ShapeRef_polygon_0=i.asm.gb).apply(null,arguments)},ne=i._emscripten_bind_ShapeRef_position_0=function(){return(ne=i._emscripten_bind_ShapeRef_position_0=i.asm.hb).apply(null,arguments)},ee=i._emscripten_bind_ShapeRef___destroy___0=function(){return(ee=i._emscripten_bind_ShapeRef___destroy___0=i.asm.ib).apply(null,arguments)},re=i._emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0=function(){return(re=i._emscripten_bind_HyperedgeNewAndDeletedObjectLists___destroy___0=i.asm.jb).apply(null,arguments)},ie=i._emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0=function(){return(ie=i._emscripten_bind_HyperedgeRerouter_HyperedgeRerouter_0=i.asm.kb).apply(null,arguments)},oe=i._emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1=function(){return(oe=i._emscripten_bind_HyperedgeRerouter_registerHyperedgeForRerouting_1=i.asm.lb).apply(null,arguments)},ae=i._emscripten_bind_HyperedgeRerouter___destroy___0=function(){return(ae=i._emscripten_bind_HyperedgeRerouter___destroy___0=i.asm.mb).apply(null,arguments)},ce=i._emscripten_bind_VertInf___destroy___0=function(){return(ce=i._emscripten_bind_VertInf___destroy___0=i.asm.nb).apply(null,arguments)},ue=i._emscripten_bind_VertID_VertID_0=function(){return(ue=i._emscripten_bind_VertID_VertID_0=i.asm.ob).apply(null,arguments)},se=i._emscripten_bind_VertID_VertID_2=function(){return(se=i._emscripten_bind_VertID_VertID_2=i.asm.pb).apply(null,arguments)},pe=i._emscripten_bind_VertID_VertID_3=function(){return(pe=i._emscripten_bind_VertID_VertID_3=i.asm.qb).apply(null,arguments)},de=i._emscripten_bind_VertID_get_objID_0=function(){return(de=i._emscripten_bind_VertID_get_objID_0=i.asm.rb).apply(null,arguments)},_e=i._emscripten_bind_VertID_set_objID_1=function(){return(_e=i._emscripten_bind_VertID_set_objID_1=i.asm.sb).apply(null,arguments)},fe=i._emscripten_bind_VertID_get_vn_0=function(){return(fe=i._emscripten_bind_VertID_get_vn_0=i.asm.tb).apply(null,arguments)},le=i._emscripten_bind_VertID_set_vn_1=function(){return(le=i._emscripten_bind_VertID_set_vn_1=i.asm.ub).apply(null,arguments)},ye=i._emscripten_bind_VertID_get_props_0=function(){return(ye=i._emscripten_bind_VertID_get_props_0=i.asm.vb).apply(null,arguments)},he=i._emscripten_bind_VertID_set_props_1=function(){return(he=i._emscripten_bind_VertID_set_props_1=i.asm.wb).apply(null,arguments)},ge=i._emscripten_bind_VertID_get_src_0=function(){return(ge=i._emscripten_bind_VertID_get_src_0=i.asm.xb).apply(null,arguments)},be=i._emscripten_bind_VertID_get_tar_0=function(){return(be=i._emscripten_bind_VertID_get_tar_0=i.asm.yb).apply(null,arguments)},me=i._emscripten_bind_VertID_get_PROP_ConnPoint_0=function(){return(me=i._emscripten_bind_VertID_get_PROP_ConnPoint_0=i.asm.zb).apply(null,arguments)},ve=i._emscripten_bind_VertID_get_PROP_OrthShapeEdge_0=function(){return(ve=i._emscripten_bind_VertID_get_PROP_OrthShapeEdge_0=i.asm.Ab).apply(null,arguments)},Te=i._emscripten_bind_VertID_get_PROP_ConnectionPin_0=function(){return(Te=i._emscripten_bind_VertID_get_PROP_ConnectionPin_0=i.asm.Bb).apply(null,arguments)},Ae=i._emscripten_bind_VertID_get_PROP_ConnCheckpoint_0=function(){return(Ae=i._emscripten_bind_VertID_get_PROP_ConnCheckpoint_0=i.asm.Cb).apply(null,arguments)},Ie=i._emscripten_bind_VertID_get_PROP_DummyPinHelper_0=function(){return(Ie=i._emscripten_bind_VertID_get_PROP_DummyPinHelper_0=i.asm.Db).apply(null,arguments)},Oe=i._emscripten_bind_VertID___destroy___0=function(){return(Oe=i._emscripten_bind_VertID___destroy___0=i.asm.Eb).apply(null,arguments)},Se=i._emscripten_bind_MinimumTerminalSpanningTree___destroy___0=function(){return(Se=i._emscripten_bind_MinimumTerminalSpanningTree___destroy___0=i.asm.Fb).apply(null,arguments)},Ee=i._emscripten_bind_Checkpoint_Checkpoint_1=function(){return(Ee=i._emscripten_bind_Checkpoint_Checkpoint_1=i.asm.Gb).apply(null,arguments)},we=i._emscripten_bind_Checkpoint___destroy___0=function(){return(we=i._emscripten_bind_Checkpoint___destroy___0=i.asm.Hb).apply(null,arguments)},Pe=i._emscripten_bind_ConnRef_ConnRef_3=function(){return(Pe=i._emscripten_bind_ConnRef_ConnRef_3=i.asm.Ib).apply(null,arguments)},xe=i._emscripten_bind_ConnRef_ConnRef_4=function(){return(xe=i._emscripten_bind_ConnRef_ConnRef_4=i.asm.Jb).apply(null,arguments)},Ne=i._emscripten_bind_ConnRef_id_0=function(){return(Ne=i._emscripten_bind_ConnRef_id_0=i.asm.Kb).apply(null,arguments)},Ce=i._emscripten_bind_ConnRef_setCallback_2=function(){return(Ce=i._emscripten_bind_ConnRef_setCallback_2=i.asm.Lb).apply(null,arguments)},Re=i._emscripten_bind_ConnRef_setSourceEndpoint_1=function(){return(Re=i._emscripten_bind_ConnRef_setSourceEndpoint_1=i.asm.Mb).apply(null,arguments)},Me=i._emscripten_bind_ConnRef_setDestEndpoint_1=function(){return(Me=i._emscripten_bind_ConnRef_setDestEndpoint_1=i.asm.Nb).apply(null,arguments)},De=i._emscripten_bind_ConnRef_routingType_0=function(){return(De=i._emscripten_bind_ConnRef_routingType_0=i.asm.Ob).apply(null,arguments)},Ge=i._emscripten_bind_ConnRef_setRoutingType_1=function(){return(Ge=i._emscripten_bind_ConnRef_setRoutingType_1=i.asm.Pb).apply(null,arguments)},je=i._emscripten_bind_ConnRef_displayRoute_0=function(){return(je=i._emscripten_bind_ConnRef_displayRoute_0=i.asm.Qb).apply(null,arguments)},Be=i._emscripten_bind_ConnRef___destroy___0=function(){return(Be=i._emscripten_bind_ConnRef___destroy___0=i.asm.Rb).apply(null,arguments)},Le=i._emscripten_bind_EdgeInf_EdgeInf_2=function(){return(Le=i._emscripten_bind_EdgeInf_EdgeInf_2=i.asm.Sb).apply(null,arguments)},Fe=i._emscripten_bind_EdgeInf_EdgeInf_3=function(){return(Fe=i._emscripten_bind_EdgeInf_EdgeInf_3=i.asm.Tb).apply(null,arguments)},Ue=i._emscripten_bind_EdgeInf___destroy___0=function(){return(Ue=i._emscripten_bind_EdgeInf___destroy___0=i.asm.Ub).apply(null,arguments)},He=i._emscripten_bind_LineRep_get_begin_0=function(){return(He=i._emscripten_bind_LineRep_get_begin_0=i.asm.Vb).apply(null,arguments)},ke=i._emscripten_bind_LineRep_set_begin_1=function(){return(ke=i._emscripten_bind_LineRep_set_begin_1=i.asm.Wb).apply(null,arguments)},Ve=i._emscripten_bind_LineRep_get_end_0=function(){return(Ve=i._emscripten_bind_LineRep_get_end_0=i.asm.Xb).apply(null,arguments)},We=i._emscripten_bind_LineRep_set_end_1=function(){return(We=i._emscripten_bind_LineRep_set_end_1=i.asm.Yb).apply(null,arguments)},qe=i._emscripten_bind_LineRep___destroy___0=function(){return(qe=i._emscripten_bind_LineRep___destroy___0=i.asm.Zb).apply(null,arguments)},Je=i._emscripten_bind_Router_Router_1=function(){return(Je=i._emscripten_bind_Router_Router_1=i.asm._b).apply(null,arguments)},Ke=i._emscripten_bind_Router_processTransaction_0=function(){return(Ke=i._emscripten_bind_Router_processTransaction_0=i.asm.$b).apply(null,arguments)},Ye=i._emscripten_bind_Router_printInfo_0=function(){return(Ye=i._emscripten_bind_Router_printInfo_0=i.asm.ac).apply(null,arguments)},ze=i._emscripten_bind_Router_deleteConnector_1=function(){return(ze=i._emscripten_bind_Router_deleteConnector_1=i.asm.bc).apply(null,arguments)},Xe=i._emscripten_bind_Router_moveShape_3=function(){return(Xe=i._emscripten_bind_Router_moveShape_3=i.asm.cc).apply(null,arguments)},Qe=i._emscripten_bind_Router___destroy___0=function(){return(Qe=i._emscripten_bind_Router___destroy___0=i.asm.dc).apply(null,arguments)},Ze=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirNone=function(){return(Ze=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirNone=i.asm.ec).apply(null,arguments)},$e=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirUp=function(){return($e=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirUp=i.asm.fc).apply(null,arguments)},tr=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirDown=function(){return(tr=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirDown=i.asm.gc).apply(null,arguments)},nr=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft=function(){return(nr=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirLeft=i.asm.hc).apply(null,arguments)},er=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirRight=function(){return(er=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirRight=i.asm.ic).apply(null,arguments)},rr=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirAll=function(){return(rr=i._emscripten_enum_Avoid_ConnDirFlag_ConnDirAll=i.asm.jc).apply(null,arguments)},ir=i._emscripten_enum_Avoid_ConnEndType_ConnEndPoint=function(){return(ir=i._emscripten_enum_Avoid_ConnEndType_ConnEndPoint=i.asm.kc).apply(null,arguments)},or=i._emscripten_enum_Avoid_ConnEndType_ConnEndShapePin=function(){return(or=i._emscripten_enum_Avoid_ConnEndType_ConnEndShapePin=i.asm.lc).apply(null,arguments)},ar=i._emscripten_enum_Avoid_ConnEndType_ConnEndJunction=function(){return(ar=i._emscripten_enum_Avoid_ConnEndType_ConnEndJunction=i.asm.mc).apply(null,arguments)},cr=i._emscripten_enum_Avoid_ConnEndType_ConnEndEmpty=function(){return(cr=i._emscripten_enum_Avoid_ConnEndType_ConnEndEmpty=i.asm.nc).apply(null,arguments)},ur=i._emscripten_enum_Avoid_ActionType_ShapeMove=function(){return(ur=i._emscripten_enum_Avoid_ActionType_ShapeMove=i.asm.oc).apply(null,arguments)},sr=i._emscripten_enum_Avoid_ActionType_ShapeAdd=function(){return(sr=i._emscripten_enum_Avoid_ActionType_ShapeAdd=i.asm.pc).apply(null,arguments)},pr=i._emscripten_enum_Avoid_ActionType_ShapeRemove=function(){return(pr=i._emscripten_enum_Avoid_ActionType_ShapeRemove=i.asm.qc).apply(null,arguments)},dr=i._emscripten_enum_Avoid_ActionType_JunctionMove=function(){return(dr=i._emscripten_enum_Avoid_ActionType_JunctionMove=i.asm.rc).apply(null,arguments)},_r=i._emscripten_enum_Avoid_ActionType_JunctionAdd=function(){return(_r=i._emscripten_enum_Avoid_ActionType_JunctionAdd=i.asm.sc).apply(null,arguments)},fr=i._emscripten_enum_Avoid_ActionType_JunctionRemove=function(){return(fr=i._emscripten_enum_Avoid_ActionType_JunctionRemove=i.asm.tc).apply(null,arguments)},lr=i._emscripten_enum_Avoid_ActionType_ConnChange=function(){return(lr=i._emscripten_enum_Avoid_ActionType_ConnChange=i.asm.uc).apply(null,arguments)},yr=i._emscripten_enum_Avoid_ActionType_ConnectionPinChange=function(){return(yr=i._emscripten_enum_Avoid_ActionType_ConnectionPinChange=i.asm.vc).apply(null,arguments)},hr=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90=function(){return(hr=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW90=i.asm.wc).apply(null,arguments)},gr=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180=function(){return(gr=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW180=i.asm.xc).apply(null,arguments)},br=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270=function(){return(br=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_CW270=i.asm.yc).apply(null,arguments)},mr=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX=function(){return(mr=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipX=i.asm.zc).apply(null,arguments)},vr=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY=function(){return(vr=i._emscripten_enum_Avoid_ShapeTransformationType_TransformationType_FlipY=i.asm.Ac).apply(null,arguments)},Tr=i._emscripten_enum_Avoid_ConnType_ConnType_None=function(){return(Tr=i._emscripten_enum_Avoid_ConnType_ConnType_None=i.asm.Bc).apply(null,arguments)},Ar=i._emscripten_enum_Avoid_ConnType_ConnType_PolyLine=function(){return(Ar=i._emscripten_enum_Avoid_ConnType_ConnType_PolyLine=i.asm.Cc).apply(null,arguments)},Ir=i._emscripten_enum_Avoid_ConnType_ConnType_Orthogonal=function(){return(Ir=i._emscripten_enum_Avoid_ConnType_ConnType_Orthogonal=i.asm.Dc).apply(null,arguments)},Or=i._emscripten_enum_Avoid_RouterFlag_PolyLineRouting=function(){return(Or=i._emscripten_enum_Avoid_RouterFlag_PolyLineRouting=i.asm.Ec).apply(null,arguments)},Sr=i._emscripten_enum_Avoid_RouterFlag_OrthogonalRouting=function(){return(Sr=i._emscripten_enum_Avoid_RouterFlag_OrthogonalRouting=i.asm.Fc).apply(null,arguments)};function Er(){function t(){if(!pt&&(pt=!0,i.calledRun=!0,!S)){if(L=!0,z(G),z(j),o(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var t=i.postRun.shift();B.unshift(t)}z(B)}}if(!(0<U)){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)F();z(D),0<U||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),t()}),1)):t())}}if(k=function t(){pt||Er(),pt||(k=t)},i.run=Er,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();function wr(){}function Pr(t){return(t||wr).Ic}function xr(t,n){var e=Pr(n),r=e[t];return r||((r=Object.create((n||wr).prototype)).Gc=t,e[t]=r)}Er(),wr.prototype=Object.create(wr.prototype),wr.prototype.constructor=wr,wr.prototype.Hc=wr,wr.Ic={},i.WrapperObject=wr,i.getCache=Pr,i.wrapPointer=xr,i.castObject=function(t,n){return xr(t.Gc,n)},i.NULL=xr(0),i.destroy=function(t){if(!t.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";t.__destroy__(),delete Pr(t.Hc)[t.Gc]},i.compare=function(t,n){return t.Gc===n.Gc},i.getPointer=function(t){return t.Gc},i.getClass=function(t){return t.Hc};var Nr=0,Cr=0,Rr=[],Mr=0;function Dr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Gr(){this.Gc=_t(),Pr(Gr)[this.Gc]=this}function jr(){this.Gc=ht(),Pr(jr)[this.Gc]=this}function Br(){throw"cannot construct a PolygonInterface, no constructor in IDL"}function Lr(n){n&&"object"===t(n)&&(n=n.Gc),this.Gc=void 0===n?Dt():Gt(n),Pr(Lr)[this.Gc]=this}function Fr(n,e){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),this.Gc=void 0===n?Ht():void 0===e?_emscripten_bind_Point_Point_1(n):kt(n,e),Pr(Fr)[this.Gc]=this}function Ur(n,e,r){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),this.Gc=$t(n,e,r),Pr(Ur)[this.Gc]=this}function Hr(){this.Gc=nn(),Pr(Hr)[this.Gc]=this}function kr(n,e,r){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),this.Gc=on(n,e,r),Pr(kr)[this.Gc]=this}function Vr(){this.Gc=cn(),Pr(Vr)[this.Gc]=this}function Wr(n,e){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),this.Gc=void 0===e?pn(n):dn(n,e),Pr(Wr)[this.Gc]=this}function qr(n,e,r,i){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),i&&"object"===t(i)&&(i=i.Gc),this.Gc=void 0===r?fn(n,e):void 0===i?ln(n,e,r):yn(n,e,r,i),Pr(qr)[this.Gc]=this}function Jr(n,e,r,i,o,a,c){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),i&&"object"===t(i)&&(i=i.Gc),o&&"object"===t(o)&&(o=o.Gc),a&&"object"===t(a)&&(a=a.Gc),c&&"object"===t(c)&&(c=c.Gc),this.Gc=void 0===r?Rn(n,e):void 0===i?Mn(n,e,r):void 0===o?_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_4(n,e,r,i):void 0===a?_emscripten_bind_ShapeConnectionPin_ShapeConnectionPin_5(n,e,r,i,o):void 0===c?Dn(n,e,r,i,o,a):Gn(n,e,r,i,o,a,c),Pr(Jr)[this.Gc]=this}function Kr(){throw"cannot construct a Obstacle, no constructor in IDL"}function Yr(n,e,r){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),this.Gc=void 0===r?Yn(n,e):zn(n,e,r),Pr(Yr)[this.Gc]=this}function zr(n,e,r){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),this.Gc=void 0===r?Zn(n,e):$n(n,e,r),Pr(zr)[this.Gc]=this}function Xr(){throw"cannot construct a HyperedgeNewAndDeletedObjectLists, no constructor in IDL"}function Qr(){this.Gc=ie(),Pr(Qr)[this.Gc]=this}function Zr(){throw"cannot construct a VertInf, no constructor in IDL"}function $r(n,e,r){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),this.Gc=void 0===n?ue():void 0===e?_emscripten_bind_VertID_VertID_1(n):void 0===r?se(n,e):pe(n,e,r),Pr($r)[this.Gc]=this}function ti(){throw"cannot construct a MinimumTerminalSpanningTree, no constructor in IDL"}function ni(n){n&&"object"===t(n)&&(n=n.Gc),this.Gc=Ee(n),Pr(ni)[this.Gc]=this}function ei(n,e,r,i){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),i&&"object"===t(i)&&(i=i.Gc),this.Gc=void 0===i?Pe(n,e,r):xe(n,e,r,i),Pr(ei)[this.Gc]=this}function ri(n,e,r){n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),this.Gc=void 0===r?Le(n,e):Fe(n,e,r),Pr(ri)[this.Gc]=this}function ii(){throw"cannot construct a LineRep, no constructor in IDL"}function oi(n){n&&"object"===t(n)&&(n=n.Gc),this.Gc=Je(n),Pr(oi)[this.Gc]=this}return Dr.prototype=Object.create(wr.prototype),Dr.prototype.constructor=Dr,Dr.prototype.Hc=Dr,Dr.Ic={},i.VoidPtr=Dr,Dr.prototype.__destroy__=function(){dt(this.Gc)},Gr.prototype=Object.create(wr.prototype),Gr.prototype.constructor=Gr,Gr.prototype.Hc=Gr,Gr.Ic={},i.HyperedgeImprover=Gr,Gr.prototype.clear=Gr.prototype.clear=function(){ft(this.Gc)},Gr.prototype.setRouter=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),lt(e,n)},Gr.prototype.__destroy__=function(){yt(this.Gc)},jr.prototype=Object.create(wr.prototype),jr.prototype.constructor=jr,jr.prototype.Hc=jr,jr.Ic={},i.Box=jr,jr.prototype.length=jr.prototype.length=function(n){var e=this.Gc;return n&&"object"===t(n)&&(n=n.Gc),gt(e,n)},jr.prototype.width=jr.prototype.width=function(){return bt(this.Gc)},jr.prototype.height=jr.prototype.height=function(){return mt(this.Gc)},jr.prototype.get_min=jr.prototype.ed=function(){return xr(vt(this.Gc),Fr)},jr.prototype.set_min=jr.prototype.zd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Tt(e,n)},Object.defineProperty(jr.prototype,"min",{get:jr.prototype.ed,set:jr.prototype.zd}),jr.prototype.get_max=jr.prototype.dd=function(){return xr(At(this.Gc),Fr)},jr.prototype.set_max=jr.prototype.yd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),It(e,n)},Object.defineProperty(jr.prototype,"max",{get:jr.prototype.dd,set:jr.prototype.yd}),jr.prototype.__destroy__=function(){Ot(this.Gc)},Br.prototype=Object.create(wr.prototype),Br.prototype.constructor=Br,Br.prototype.Hc=Br,Br.Ic={},i.PolygonInterface=Br,Br.prototype.clear=Br.prototype.clear=function(){St(this.Gc)},Br.prototype.empty=Br.prototype.empty=function(){return!!Et(this.Gc)},Br.prototype.size=Br.prototype.size=function(){return wt(this.Gc)},Br.prototype.id=Br.prototype.id=function(){return Pt(this.Gc)},Br.prototype.at=function(n){var e=this.Gc;return n&&"object"===t(n)&&(n=n.Gc),xr(xt(e,n),Fr)},Br.prototype.boundingRectPolygon=function(){return xr(Nt(this.Gc),Lr)},Br.prototype.offsetBoundingBox=function(n){var e=this.Gc;return n&&"object"===t(n)&&(n=n.Gc),xr(Ct(e,n),jr)},Br.prototype.offsetPolygon=function(n){var e=this.Gc;return n&&"object"===t(n)&&(n=n.Gc),xr(Rt(e,n),Lr)},Br.prototype.__destroy__=function(){Mt(this.Gc)},Lr.prototype=Object.create(wr.prototype),Lr.prototype.constructor=Lr,Lr.prototype.Hc=Lr,Lr.Ic={},i.Polygon=Lr,Lr.prototype.setPoint=function(n,e){var r=this.Gc;n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),jt(r,n,e)},Lr.prototype.size=Lr.prototype.size=function(){return Bt(this.Gc)},Lr.prototype.get_ps=Lr.prototype.md=function(n){var e=this.Gc;return n&&"object"===t(n)&&(n=n.Gc),xr(Lt(e,n),Fr)},Lr.prototype.set_ps=Lr.prototype.Fd=function(n,e){var r=this.Gc;if(Mr){for(var o=0;o<Rr.length;o++)i._free(Rr[o]);Rr.length=0,i._free(Nr),Nr=0,Cr+=Mr,Mr=0}Nr||(Cr+=128,E(Nr=i._malloc(Cr))),n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),Ft(r,n,e)},Object.defineProperty(Lr.prototype,"ps",{get:Lr.prototype.md,set:Lr.prototype.Fd}),Lr.prototype.__destroy__=function(){Ut(this.Gc)},Fr.prototype=Object.create(wr.prototype),Fr.prototype.constructor=Fr,Fr.prototype.Hc=Fr,Fr.Ic={},i.Point=Fr,Fr.prototype.equal=Fr.prototype.equal=function(n){var e=this.Gc;return n&&"object"===t(n)&&(n=n.Gc),!!Vt(e,n)},Fr.prototype.get_x=Fr.prototype.pd=function(){return Wt(this.Gc)},Fr.prototype.set_x=Fr.prototype.Id=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),qt(e,n)},Object.defineProperty(Fr.prototype,"x",{get:Fr.prototype.pd,set:Fr.prototype.Id}),Fr.prototype.get_y=Fr.prototype.qd=function(){return Jt(this.Gc)},Fr.prototype.set_y=Fr.prototype.Jd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Kt(e,n)},Object.defineProperty(Fr.prototype,"y",{get:Fr.prototype.qd,set:Fr.prototype.Jd}),Fr.prototype.get_id=Fr.prototype.cd=function(){return Yt(this.Gc)},Fr.prototype.set_id=Fr.prototype.xd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),zt(e,n)},Object.defineProperty(Fr.prototype,"id",{get:Fr.prototype.cd,set:Fr.prototype.xd}),Fr.prototype.get_vn=Fr.prototype.Qc=function(){return Xt(this.Gc)},Fr.prototype.set_vn=Fr.prototype.Sc=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Qt(e,n)},Object.defineProperty(Fr.prototype,"vn",{get:Fr.prototype.Qc,set:Fr.prototype.Sc}),Fr.prototype.__destroy__=function(){Zt(this.Gc)},Ur.prototype=Object.create(wr.prototype),Ur.prototype.constructor=Ur,Ur.prototype.Hc=Ur,Ur.Ic={},i.Rectangle=Ur,Ur.prototype.__destroy__=function(){tn(this.Gc)},Hr.prototype=Object.create(wr.prototype),Hr.prototype.constructor=Hr,Hr.prototype.Hc=Hr,Hr.Ic={},i.HyperedgeTreeNode=Hr,Hr.prototype.writeEdgesToConns=function(n,e){var r=this.Gc;n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),en(r,n,e)},Hr.prototype.__destroy__=function(){rn(this.Gc)},kr.prototype=Object.create(wr.prototype),kr.prototype.constructor=kr,kr.prototype.Hc=kr,kr.Ic={},i.HyperedgeTreeEdge=kr,kr.prototype.__destroy__=function(){an(this.Gc)},Vr.prototype=Object.create(wr.prototype),Vr.prototype.constructor=Vr,Vr.prototype.Hc=Vr,Vr.Ic={},i.AStarPath=Vr,Vr.prototype.search=Vr.prototype.search=function(n,e,r,i){var o=this.Gc;n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),i&&"object"===t(i)&&(i=i.Gc),un(o,n,e,r,i)},Vr.prototype.__destroy__=function(){sn(this.Gc)},Wr.prototype=Object.create(wr.prototype),Wr.prototype.constructor=Wr,Wr.prototype.Hc=Wr,Wr.Ic={},i.ConnEnd=Wr,Wr.prototype.__destroy__=function(){_n(this.Gc)},qr.prototype=Object.create(wr.prototype),qr.prototype.constructor=qr,qr.prototype.Hc=qr,qr.Ic={},i.ActionInfo=qr,qr.prototype.obstacle=function(){return xr(hn(this.Gc),Kr)},qr.prototype.shape=qr.prototype.shape=function(){return xr(gn(this.Gc),zr)},qr.prototype.conn=function(){return xr(bn(this.Gc),ei)},qr.prototype.junction=function(){return xr(mn(this.Gc),Yr)},qr.prototype.addConnEndUpdate=function(n,e,r){var i=this.Gc;n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),vn(i,n,e,r)},qr.prototype.get_type=qr.prototype.Tc=function(){return Tn(this.Gc)},qr.prototype.set_type=qr.prototype.Rc=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),An(e,n)},Object.defineProperty(qr.prototype,"type",{get:qr.prototype.Tc,set:qr.prototype.Rc}),qr.prototype.get_objPtr=qr.prototype.kd=function(){return xr(In(this.Gc),Dr)},qr.prototype.set_objPtr=qr.prototype.Dd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),On(e,n)},Object.defineProperty(qr.prototype,"objPtr",{get:qr.prototype.kd,set:qr.prototype.Dd}),qr.prototype.get_newPoly=qr.prototype.gd=function(){return xr(Sn(this.Gc),Lr)},qr.prototype.set_newPoly=qr.prototype.Ad=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),En(e,n)},Object.defineProperty(qr.prototype,"newPoly",{get:qr.prototype.gd,set:qr.prototype.Ad}),qr.prototype.get_newPosition=qr.prototype.hd=function(){return xr(wn(this.Gc),Fr)},qr.prototype.set_newPosition=qr.prototype.Bd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Pn(e,n)},Object.defineProperty(qr.prototype,"newPosition",{get:qr.prototype.hd,set:qr.prototype.Bd}),qr.prototype.get_firstMove=qr.prototype.bd=function(){return!!xn(this.Gc)},qr.prototype.set_firstMove=qr.prototype.wd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Nn(e,n)},Object.defineProperty(qr.prototype,"firstMove",{get:qr.prototype.bd,set:qr.prototype.wd}),qr.prototype.__destroy__=function(){Cn(this.Gc)},Jr.prototype=Object.create(wr.prototype),Jr.prototype.constructor=Jr,Jr.prototype.Hc=Jr,Jr.Ic={},i.ShapeConnectionPin=Jr,Jr.prototype.setConnectionCost=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),jn(e,n)},Jr.prototype.position=Jr.prototype.position=function(n){var e=this.Gc;return n&&"object"===t(n)&&(n=n.Gc),xr(void 0===n?Bn(e):Ln(e,n),Fr)},Jr.prototype.directions=function(){return Fn(this.Gc)},Jr.prototype.setExclusive=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Un(e,n)},Jr.prototype.isExclusive=function(){return!!Hn(this.Gc)},Jr.prototype.__destroy__=function(){kn(this.Gc)},Kr.prototype=Object.create(wr.prototype),Kr.prototype.constructor=Kr,Kr.prototype.Hc=Kr,Kr.Ic={},i.Obstacle=Kr,Kr.prototype.id=Kr.prototype.id=function(){return Vn(this.Gc)},Kr.prototype.polygon=function(){return xr(Wn(this.Gc),Lr)},Kr.prototype.router=function(){return xr(qn(this.Gc),oi)},Kr.prototype.position=Kr.prototype.position=function(){return xr(Jn(this.Gc),Fr)},Kr.prototype.__destroy__=function(){Kn(this.Gc)},Yr.prototype=Object.create(wr.prototype),Yr.prototype.constructor=Yr,Yr.prototype.Hc=Yr,Yr.Ic={},i.JunctionRef=Yr,Yr.prototype.position=Yr.prototype.position=function(){return xr(Xn(this.Gc),Fr)},Yr.prototype.__destroy__=function(){Qn(this.Gc)},zr.prototype=Object.create(wr.prototype),zr.prototype.constructor=zr,zr.prototype.Hc=zr,zr.Ic={},i.ShapeRef=zr,zr.prototype.polygon=function(){return xr(te(this.Gc),Lr)},zr.prototype.position=zr.prototype.position=function(){return xr(ne(this.Gc),Fr)},zr.prototype.__destroy__=function(){ee(this.Gc)},Xr.prototype=Object.create(wr.prototype),Xr.prototype.constructor=Xr,Xr.prototype.Hc=Xr,Xr.Ic={},i.HyperedgeNewAndDeletedObjectLists=Xr,Xr.prototype.__destroy__=function(){re(this.Gc)},Qr.prototype=Object.create(wr.prototype),Qr.prototype.constructor=Qr,Qr.prototype.Hc=Qr,Qr.Ic={},i.HyperedgeRerouter=Qr,Qr.prototype.registerHyperedgeForRerouting=function(n){var e=this.Gc;return n&&"object"===t(n)&&(n=n.Gc),oe(e,n)},Qr.prototype.__destroy__=function(){ae(this.Gc)},Zr.prototype=Object.create(wr.prototype),Zr.prototype.constructor=Zr,Zr.prototype.Hc=Zr,Zr.Ic={},i.VertInf=Zr,Zr.prototype.__destroy__=function(){ce(this.Gc)},$r.prototype=Object.create(wr.prototype),$r.prototype.constructor=$r,$r.prototype.Hc=$r,$r.Ic={},i.VertID=$r,$r.prototype.get_objID=$r.prototype.jd=function(){return de(this.Gc)},$r.prototype.set_objID=$r.prototype.Cd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),_e(e,n)},Object.defineProperty($r.prototype,"objID",{get:$r.prototype.jd,set:$r.prototype.Cd}),$r.prototype.get_vn=$r.prototype.Qc=function(){return fe(this.Gc)},$r.prototype.set_vn=$r.prototype.Sc=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),le(e,n)},Object.defineProperty($r.prototype,"vn",{get:$r.prototype.Qc,set:$r.prototype.Sc}),$r.prototype.get_props=$r.prototype.ld=function(){return ye(this.Gc)},$r.prototype.set_props=$r.prototype.Ed=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),he(e,n)},Object.defineProperty($r.prototype,"props",{get:$r.prototype.ld,set:$r.prototype.Ed}),$r.prototype.get_src=$r.prototype.nd=function(){return ge(this.Gc)},Object.defineProperty($r.prototype,"src",{get:$r.prototype.nd}),$r.prototype.get_tar=$r.prototype.od=function(){return be(this.Gc)},Object.defineProperty($r.prototype,"tar",{get:$r.prototype.od}),$r.prototype.get_PROP_ConnPoint=$r.prototype.Wc=function(){return me(this.Gc)},Object.defineProperty($r.prototype,"PROP_ConnPoint",{get:$r.prototype.Wc}),$r.prototype.get_PROP_OrthShapeEdge=$r.prototype.Zc=function(){return ve(this.Gc)},Object.defineProperty($r.prototype,"PROP_OrthShapeEdge",{get:$r.prototype.Zc}),$r.prototype.get_PROP_ConnectionPin=$r.prototype.Xc=function(){return Te(this.Gc)},Object.defineProperty($r.prototype,"PROP_ConnectionPin",{get:$r.prototype.Xc}),$r.prototype.get_PROP_ConnCheckpoint=$r.prototype.Vc=function(){return Ae(this.Gc)},Object.defineProperty($r.prototype,"PROP_ConnCheckpoint",{get:$r.prototype.Vc}),$r.prototype.get_PROP_DummyPinHelper=$r.prototype.Yc=function(){return Ie(this.Gc)},Object.defineProperty($r.prototype,"PROP_DummyPinHelper",{get:$r.prototype.Yc}),$r.prototype.__destroy__=function(){Oe(this.Gc)},ti.prototype=Object.create(wr.prototype),ti.prototype.constructor=ti,ti.prototype.Hc=ti,ti.Ic={},i.MinimumTerminalSpanningTree=ti,ti.prototype.__destroy__=function(){Se(this.Gc)},ni.prototype=Object.create(wr.prototype),ni.prototype.constructor=ni,ni.prototype.Hc=ni,ni.Ic={},i.Checkpoint=ni,ni.prototype.__destroy__=function(){we(this.Gc)},ei.prototype=Object.create(wr.prototype),ei.prototype.constructor=ei,ei.prototype.Hc=ei,ei.Ic={},i.ConnRef=ei,ei.prototype.id=ei.prototype.id=function(){return Ne(this.Gc)},ei.prototype.setCallback=function(n,e){var r=this.Gc;if(E(n instanceof Function,"Expecting function"),!A){A=new WeakMap;for(var i=0;i<M.length;i++){var o=M.get(i);o&&A.set(o,i)}}if(A.has(n))n=A.get(n);else{if(O.length)i=O.pop();else{try{M.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}i=M.length-1}try{M.set(i,n)}catch(t){if(!(t instanceof TypeError))throw t;if("function"==typeof WebAssembly.Function){var a={i:"i32",j:"i64",f:"f32",d:"f64"},c={parameters:[],results:[]};for(o=1;2>o;++o)c.parameters.push(a["vi"[o]]);o=new WebAssembly.Function(c,n)}else{for(c={i:127,j:126,f:125,d:124},(a=[1,0,1,96]).push(1),o=0;1>o;++o)a.push(c["i"[o]]);a.push(0),a[1]=a.length-2,o=new Uint8Array([0,97,115,109,1,0,0,0].concat(a,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),o=new WebAssembly.Module(o),o=new WebAssembly.Instance(o,{e:{f:n}}).exports.f}M.set(i,o)}A.set(n,i),n=i}e&&"object"===t(e)&&(e=e.Gc),Ce(r,n,e)},ei.prototype.setSourceEndpoint=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Re(e,n)},ei.prototype.setDestEndpoint=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Me(e,n)},ei.prototype.routingType=function(){return De(this.Gc)},ei.prototype.setRoutingType=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),Ge(e,n)},ei.prototype.displayRoute=function(){return xr(je(this.Gc),Lr)},ei.prototype.__destroy__=function(){Be(this.Gc)},ri.prototype=Object.create(wr.prototype),ri.prototype.constructor=ri,ri.prototype.Hc=ri,ri.Ic={},i.EdgeInf=ri,ri.prototype.__destroy__=function(){Ue(this.Gc)},ii.prototype=Object.create(wr.prototype),ii.prototype.constructor=ii,ii.prototype.Hc=ii,ii.Ic={},i.LineRep=ii,ii.prototype.get_begin=ii.prototype.$c=function(){return xr(He(this.Gc),Fr)},ii.prototype.set_begin=ii.prototype.sd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),ke(e,n)},Object.defineProperty(ii.prototype,"begin",{get:ii.prototype.$c,set:ii.prototype.sd}),ii.prototype.get_end=ii.prototype.ad=function(){return xr(Ve(this.Gc),Fr)},ii.prototype.set_end=ii.prototype.vd=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),We(e,n)},Object.defineProperty(ii.prototype,"end",{get:ii.prototype.ad,set:ii.prototype.vd}),ii.prototype.__destroy__=function(){qe(this.Gc)},oi.prototype=Object.create(wr.prototype),oi.prototype.constructor=oi,oi.prototype.Hc=oi,oi.Ic={},i.Router=oi,oi.prototype.processTransaction=function(){return!!Ke(this.Gc)},oi.prototype.printInfo=function(){Ye(this.Gc)},oi.prototype.deleteConnector=function(n){var e=this.Gc;n&&"object"===t(n)&&(n=n.Gc),ze(e,n)},oi.prototype.moveShape=function(n,e,r){var i=this.Gc;n&&"object"===t(n)&&(n=n.Gc),e&&"object"===t(e)&&(e=e.Gc),r&&"object"===t(r)&&(r=r.Gc),Xe(i,n,e,r)},oi.prototype.__destroy__=function(){Qe(this.Gc)},function(){function t(){i.ConnDirNone=Ze(),i.ConnDirUp=$e(),i.ConnDirDown=tr(),i.ConnDirLeft=nr(),i.ConnDirRight=er(),i.ConnDirAll=rr(),i.ConnEndPoint=ir(),i.ConnEndShapePin=or(),i.ConnEndJunction=ar(),i.ConnEndEmpty=cr(),i.ShapeMove=ur(),i.ShapeAdd=sr(),i.ShapeRemove=pr(),i.JunctionMove=dr(),i.JunctionAdd=_r(),i.JunctionRemove=fr(),i.ConnChange=lr(),i.ConnectionPinChange=yr(),i.TransformationType_CW90=hr(),i.TransformationType_CW180=gr(),i.TransformationType_CW270=br(),i.TransformationType_FlipX=mr(),i.TransformationType_FlipY=vr(),i.ConnType_None=Tr(),i.ConnType_PolyLine=Ar(),i.ConnType_Orthogonal=Ir(),i.PolyLineRouting=Or(),i.OrthogonalRouting=Sr()}L?t():j.unshift(t)}(),r.ready});var o=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((r=r.apply(t,n||[])).next())}))},a=function(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},c={avoidLib:void 0,load:function(){return o(this,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return this.avoidLib?[3,2]:(t=this,[4,i()]);case 1:return t.avoidLib=n.sent(),[3,3];case 2:console.log("Avoid library is already initialized"),n.label=3;case 3:return[2]}}))}))},getInstance:function(){if(!this.avoidLib)throw new Error("Avoid library should be initialized before using");return this.avoidLib}},u=e(9245),s={Action:Symbol("Action"),IActionDispatcher:Symbol("IActionDispatcher"),IActionDispatcherProvider:Symbol("IActionDispatcherProvider"),IActionHandlerInitializer:Symbol("IActionHandlerInitializer"),ActionHandlerRegistration:Symbol("ActionHandlerRegistration"),ActionHandlerRegistryProvider:Symbol("ActionHandlerRegistryProvider"),IAnchorComputer:Symbol("IAnchor"),AnimationFrameSyncer:Symbol("AnimationFrameSyncer"),IButtonHandler:Symbol("IButtonHandler"),ICommandPaletteActionProvider:Symbol("ICommandPaletteActionProvider"),ICommandPaletteActionProviderRegistry:Symbol("ICommandPaletteActionProviderRegistry"),CommandRegistration:Symbol("CommandRegistration"),ICommandStack:Symbol("ICommandStack"),CommandStackOptions:Symbol("CommandStackOptions"),ICommandStackProvider:Symbol("ICommandStackProvider"),IContextMenuItemProvider:Symbol.for("IContextMenuProvider"),IContextMenuProviderRegistry:Symbol.for("IContextMenuProviderRegistry"),IContextMenuService:Symbol.for("IContextMenuService"),IContextMenuServiceProvider:Symbol.for("IContextMenuServiceProvider"),DOMHelper:Symbol("DOMHelper"),IDiagramLocker:Symbol("IDiagramLocker"),IEdgeRouter:Symbol("IEdgeRouter"),IEditLabelValidationDecorator:Symbol("IEditLabelValidationDecorator"),IEditLabelValidator:Symbol("IEditLabelValidator"),HiddenModelViewer:Symbol("HiddenModelViewer"),HiddenVNodePostprocessor:Symbol("HiddenVNodeDecorator"),HoverState:Symbol("HoverState"),KeyListener:Symbol("KeyListener"),LayoutRegistry:Symbol("LayoutRegistry"),Layouter:Symbol("Layouter"),LogLevel:Symbol("LogLevel"),ILogger:Symbol("ILogger"),IModelFactory:Symbol("IModelFactory"),IModelLayoutEngine:Symbol("IModelLayoutEngine"),ModelRendererFactory:Symbol("ModelRendererFactory"),ModelSource:Symbol("ModelSource"),ModelSourceProvider:Symbol("ModelSourceProvider"),ModelViewer:Symbol("ModelViewer"),MouseListener:Symbol("MouseListener"),PatcherProvider:Symbol("PatcherProvider"),IPopupModelProvider:Symbol("IPopupModelProvider"),PopupModelViewer:Symbol("PopupModelViewer"),PopupMouseListener:Symbol("PopupMouseListener"),PopupVNodePostprocessor:Symbol("PopupVNodeDecorator"),SModelElementRegistration:Symbol("SModelElementRegistration"),SModelRegistry:Symbol("SModelRegistry"),ISnapper:Symbol("ISnapper"),SvgExporter:Symbol("SvgExporter"),IToolManager:Symbol("IToolManager"),IUIExtension:Symbol("IUIExtension"),UIExtensionRegistry:Symbol("UIExtensionRegistry"),IVNodePostprocessor:Symbol("IVNodePostprocessor"),ViewRegistration:Symbol("ViewRegistration"),ViewRegistry:Symbol("ViewRegistry"),IViewer:Symbol("IViewer"),ViewerOptions:Symbol("ViewerOptions"),IViewerProvider:Symbol("IViewerProvider")};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var d=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":p(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},_=(function(){function t(){this.elements=new Map}t.prototype.register=function(t,n){if(void 0===t)throw new Error("Key is undefined");if(this.hasKey(t))throw new Error("Key is already registered: "+t);this.elements.set(t,n)},t.prototype.deregister=function(t){if(void 0===t)throw new Error("Key is undefined");this.elements.delete(t)},t.prototype.hasKey=function(t){return this.elements.has(t)},t.prototype.get=function(t,n){var e=this.elements.get(t);return e?new e(n):this.missing(t,n)},t.prototype.missing=function(t,n){throw new Error("Unknown registry key: "+t)},t=d([(0,u.b2)()],t)}(),function(){function t(){this.elements=new Map}t.prototype.register=function(t,n){if(void 0===t)throw new Error("Key is undefined");if(this.hasKey(t))throw new Error("Key is already registered: "+t);this.elements.set(t,n)},t.prototype.deregister=function(t){if(void 0===t)throw new Error("Key is undefined");this.elements.delete(t)},t.prototype.hasKey=function(t){return this.elements.has(t)},t.prototype.get=function(t,n){var e=this.elements.get(t);return e?e(n):this.missing(t,n)},t.prototype.missing=function(t,n){throw new Error("Unknown registry key: "+t)},t=d([(0,u.b2)()],t)}(),function(){function t(){this.elements=new Map}return t.prototype.register=function(t,n){if(void 0===t)throw new Error("Key is undefined");if(this.hasKey(t))throw new Error("Key is already registered: "+t);this.elements.set(t,n)},t.prototype.deregister=function(t){if(void 0===t)throw new Error("Key is undefined");this.elements.delete(t)},t.prototype.hasKey=function(t){return this.elements.has(t)},t.prototype.get=function(t){var n=this.elements.get(t);return n||this.missing(t)},t.prototype.missing=function(t){throw new Error("Unknown registry key: "+t)},t=d([(0,u.b2)()],t)}());!function(){function t(){this.elements=new Map}t.prototype.register=function(t,n){if(void 0===t)throw new Error("Key is undefined");var e=this.elements.get(t);void 0!==e?e.push(n):this.elements.set(t,[n])},t.prototype.deregisterAll=function(t){if(void 0===t)throw new Error("Key is undefined");this.elements.delete(t)},t.prototype.get=function(t){var n=this.elements.get(t);return void 0!==n?n:[]},t=d([(0,u.b2)()],t)}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l,y=(l=function(t,n){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}l(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),h=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},g=function(t,n){if("object"===("undefined"==typeof Reflect?"undefined":f(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},b=function(t,n){return function(e,r){n(e,r,t)}},m="diamond",v="elliptic",T="rectangular",A=function(t){function n(n){var e=t.call(this)||this;return n.forEach((function(t){return e.register(t.kind,t)})),e}return y(n,t),Object.defineProperty(n.prototype,"defaultAnchorKind",{get:function(){return T},enumerable:!1,configurable:!0}),n.prototype.get=function(n,e){return t.prototype.get.call(this,n+":"+(e||this.defaultAnchorKind))},n=h([(0,u.b2)(),b(0,(0,u.nx)(s.IAnchorComputer)),g("design:paramtypes",[Array])],n)}(_),I=Object.freeze({x:0,y:0});function O(t,n){return{x:t.x-n.x,y:t.y-n.y}}var S=Object.freeze({width:-1,height:-1});function E(t){return t.width>=0&&t.height>=0}var w,P=Object.freeze({x:0,y:0,width:-1,height:-1});function x(t){return"x"in t&&"y"in t&&"width"in t&&"height"in t}function N(t,n){if(!E(t))return E(n)?n:P;if(!E(n))return t;var e=Math.min(t.x,n.x),r=Math.min(t.y,n.y);return{x:e,y:r,width:Math.max(t.x+(t.width>=0?t.width:0),n.x+(n.width>=0?n.width:0))-e,height:Math.max(t.y+(t.height>=0?t.height:0),n.y+(n.height>=0?n.height:0))-r}}function C(t){return{x:t.x+(t.width>=0?.5*t.width:0),y:t.y+(t.height>=0?.5*t.height:0)}}function R(t,n){return n.x>=t.x&&n.x<=t.x+t.width&&n.y>=t.y&&n.y<=t.y+t.height}function M(t,n){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(e*e+r*r)}function D(t,n,e){var r,i,o=function(t){var n=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}(t);if(0===n||1===n)return I;return{x:t.x/n,y:t.y/n}}(O(n,t)),a={x:o.x*e,y:o.y*e};return i=a,{x:(r=t).x+i.x,y:r.y+i.y}}function G(t,n){return Math.abs(t-n)<.001}function j(t,n,e){return{x:(1-e)*t.x+e*n.x,y:(1-e)*t.y+e*n.y}}!function(t){t[t.left=0]="left",t[t.right=1]="right",t[t.up=2]="up",t[t.down=3]="down"}(w||(w={}));var B=function(){function t(t){this.bounds=t}return Object.defineProperty(t.prototype,"topPoint",{get:function(){return{x:this.bounds.x+this.bounds.width/2,y:this.bounds.y}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightPoint",{get:function(){return{x:this.bounds.x+this.bounds.width,y:this.bounds.y+this.bounds.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomPoint",{get:function(){return{x:this.bounds.x+this.bounds.width/2,y:this.bounds.y+this.bounds.height}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftPoint",{get:function(){return{x:this.bounds.x,y:this.bounds.y+this.bounds.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topRightSideLine",{get:function(){return new L(this.topPoint,this.rightPoint)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topLeftSideLine",{get:function(){return new L(this.topPoint,this.leftPoint)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomRightSideLine",{get:function(){return new L(this.bottomPoint,this.rightPoint)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftSideLine",{get:function(){return new L(this.bottomPoint,this.leftPoint)},enumerable:!1,configurable:!0}),t.prototype.closestSideLine=function(t){var n=C(this.bounds);return t.x>n.x?t.y>n.y?this.bottomRightSideLine:this.topRightSideLine:t.y>n.y?this.bottomLeftSideLine:this.topLeftSideLine},t}(),L=function(){function t(t,n){this.p1=t,this.p2=n}return Object.defineProperty(t.prototype,"a",{get:function(){return this.p1.y-this.p2.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.p2.x-this.p1.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return this.p2.x*this.p1.y-this.p1.x*this.p2.y},enumerable:!1,configurable:!0}),t}();function F(t,n){return{x:(t.c*n.b-n.c*t.b)/(t.a*n.b-n.a*t.b),y:(t.a*n.c-n.a*t.c)/(t.a*n.b-n.a*t.b)}}var U=function(){function t(t,n){this.startFn=t,this.nextFn=n}return t.prototype[Symbol.iterator]=function(){var t,n=this,e=((t={state:this.startFn(),next:function(){return n.nextFn(e.state)}})[Symbol.iterator]=function(){return e},t);return e},t.prototype.filter=function(t){return k(this,t)},t.prototype.map=function(t){return V(this,t)},t.prototype.forEach=function(t){var n,e=this[Symbol.iterator](),r=0;do{void 0!==(n=e.next()).value&&t(n.value,r),r++}while(!n.done)},t.prototype.indexOf=function(t){var n,e=this[Symbol.iterator](),r=0;do{if((n=e.next()).value===t)return r;r++}while(!n.done);return-1},t}();var H=Object.freeze({done:!0,value:void 0});function k(t,n){return new U((function(){return W(t)}),(function(t){var e;do{e=t.next()}while(!e.done&&!n(e.value));return e}))}function V(t,n){return new U((function(){return W(t)}),(function(t){var e=t.next(),r=e.done,i=e.value;return r?H:{done:!1,value:n(i)}}))}function W(t){var n=t[Symbol.iterator];if("function"==typeof n)return n.call(t);var e=t.length;return"number"==typeof e&&e>=0?new q(t):{next:function(){return H}}}var q=function(){function t(t){this.array=t,this.index=0}return t.prototype.next=function(){return this.index<this.array.length?{done:!1,value:this.array[this.index++]}:H},t.prototype[Symbol.iterator]=function(){return this},t}(),J=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();var K=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.children=[],n}return J(n,t),n.prototype.add=function(t,n){var e=this.children;if(void 0===n)e.push(t);else{if(n<0||n>this.children.length)throw new Error("Child index "+n+" out of bounds (0.."+e.length+")");e.splice(n,0,t)}t.parent=this,this.index.add(t)},n.prototype.remove=function(t){var n=this.children,e=n.indexOf(t);if(e<0)throw new Error("No such child "+t.id);n.splice(e,1),delete t.parent,this.index.remove(t)},n.prototype.removeAll=function(t){var n=this,e=this.children;if(void 0!==t){for(var r=e.length-1;r>=0;r--)if(t(e[r])){var i=e.splice(r,1)[0];delete i.parent,this.index.remove(i)}}else e.forEach((function(t){delete t.parent,n.index.remove(t)})),e.splice(0,e.length)},n.prototype.move=function(t,n){var e=this.children,r=e.indexOf(t);if(-1===r)throw new Error("No such child "+t.id);if(n<0||n>e.length-1)throw new Error("Child index "+n+" out of bounds (0.."+e.length+")");e.splice(r,1),e.splice(n,0,t)},n.prototype.localToParent=function(t){return x(t)?t:{x:t.x,y:t.y,width:-1,height:-1}},n.prototype.parentToLocal=function(t){return x(t)?t:{x:t.x,y:t.y,width:-1,height:-1}},n}(function(){function t(){}return Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t;){if(t instanceof z)return t;t=t instanceof Y?t.parent:void 0}throw new Error("Element has no root")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.root.index},enumerable:!1,configurable:!0}),t.prototype.hasFeature=function(t){return void 0!==this.features&&this.features.has(t)},t}()),Y=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return J(n,t),n}(K),z=function(t){function n(n){void 0===n&&(n=new Z);var e=t.call(this)||this;return e.canvasBounds=P,Object.defineProperty(e,"index",{value:n,writable:!1}),e}return J(n,t),n}(K),X="0123456789abcdefghijklmnopqrstuvwxyz";function Q(t){void 0===t&&(t=8);for(var n="",e=0;e<t;e++)n+=X.charAt(Math.floor(Math.random()*X.length));return n}var Z=function(){function t(){this.id2element=new Map}return t.prototype.add=function(t){if(t.id){if(this.contains(t))throw new Error("Duplicate ID in model: "+t.id)}else do{t.id=Q()}while(this.contains(t));if(this.id2element.set(t.id,t),void 0!==t.children&&t.children.constructor===Array)for(var n=0,e=t.children;n<e.length;n++){var r=e[n];this.add(r),r instanceof Y||(void 0===this.id2parent&&(this.id2parent=new Map),this.id2parent.set(r.id,t))}},t.prototype.remove=function(t){if(this.id2element.delete(t.id),void 0!==t.children&&t.children.constructor===Array)for(var n=0,e=t.children;n<e.length;n++){var r=e[n];r instanceof Y||(void 0===this.id2parent&&(this.id2parent=new Map),this.id2parent.delete(r.id)),this.remove(r)}},t.prototype.contains=function(t){return this.id2element.has(t.id)},t.prototype.getById=function(t){return this.id2element.get(t)},t.prototype.getParent=function(t){if(void 0!==this.id2parent)return this.id2parent.get(t);var n=this.getById(t);return n instanceof Y?n.parent:void 0},t.prototype.getRoot=function(t){if(void 0!==this.id2parent)for(var n=t;n;){var e=this.id2parent.get(n.id);if(void 0===e)return n;n=e}if(t instanceof Y)return t.root;throw new Error("Element has no root")},t.prototype.getAttachedElements=function(t){return[]},t.prototype.all=function(){return V(this.id2element,(function(t){t[0];return t[1]}))},t}();function $(t,n,e){if(n!==e){for(;n instanceof Y;)if(t=n.localToParent(t),(n=n.parent)===e)return t;for(var r=[];e instanceof Y;)r.push(e),e=e.parent;if(n!==e)throw new Error("Incompatible source and target: "+n.id+", "+e.id);for(var i=r.length-1;i>=0;i--)t=r[i].parentToLocal(t)}return t}var tt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Symbol("boundsFeature"),Symbol("layoutContainerFeature"),Symbol("layoutableChildFeature"),Symbol("alignFeature");var nt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.position=I,n.size=S,n}return tt(n,t),Object.defineProperty(n.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(t){this.position={x:t.x,y:t.y},this.size={width:t.width,height:t.height}},enumerable:!1,configurable:!0}),n.prototype.localToParent=function(t){var n={x:t.x+this.position.x,y:t.y+this.position.y,width:-1,height:-1};return x(t)&&(n.width=t.width,n.height=t.height),n},n.prototype.parentToLocal=function(t){var n={x:t.x-this.position.x,y:t.y-this.position.y,width:-1,height:-1};return x(t)&&(n.width=t.width,n.height=t.height),n},n}(Y);function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var rt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),it=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":et(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},ot=function(){function t(){}return t=it([(0,u.b2)()],t)}();(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}rt(n,t),n.prototype.merge=function(t,n){return!1},n=it([(0,u.b2)()],n)})(ot),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}rt(n,t),n.prototype.undo=function(t){return t.logger.error(this,"Cannot undo a hidden command"),t.root},n.prototype.redo=function(t){return t.logger.error(this,"Cannot redo a hidden command"),t.root},n=it([(0,u.b2)()],n)}(ot),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}rt(n,t),n=it([(0,u.b2)()],n)}(ot),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}rt(n,t),n=it([(0,u.b2)()],n)}(ot),function(t){function n(){return null!==t&&t.apply(this,arguments)||this}rt(n,t),n=it([(0,u.b2)()],n)}(ot);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ct=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ut=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":at(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},st=function(t,n){if("object"===("undefined"==typeof Reflect?"undefined":at(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},pt=function(t,n){return function(e,r){n(e,r,t)}},dt=Symbol("deletableFeature");function _t(t){return t instanceof Y&&t.hasFeature(dt)}var ft=function(){function t(n){this.elementIds=n,this.kind=t.KIND}return t.KIND="delete",t}(),lt=(function(t){function n(n){var e=t.call(this)||this;return e.action=n,e.resolvedDeletes=[],e}ct(n,t),n.prototype.execute=function(t){for(var n=t.root.index,e=0,r=this.action.elementIds;e<r.length;e++){var i=r[e],o=n.getById(i);o&&_t(o)&&(this.resolvedDeletes.push({child:o,parent:o.parent}),o.parent.remove(o))}return t.root},n.prototype.undo=function(t){for(var n=0,e=this.resolvedDeletes;n<e.length;n++){var r=e[n];r.parent.add(r.child)}return t.root},n.prototype.redo=function(t){for(var n=0,e=this.resolvedDeletes;n<e.length;n++){var r=e[n];r.parent.remove(r.child)}return t.root},n.KIND=ft.KIND,n=ut([(0,u.b2)(),pt(0,(0,u.f3)(s.Action)),st("design:paramtypes",[ft])],n)}(ot),Symbol("selectFeature"));var yt=Symbol("hoverFeedbackFeature");Symbol("popupFeature");var ht=Symbol("moveFeature");var gt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.routingPoints=[],n}gt(n,t),Object.defineProperty(n.prototype,"source",{get:function(){return this.index.getById(this.sourceId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this.index.getById(this.targetId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bounds",{get:function(){return this.routingPoints.reduce((function(t,n){return N(t,{x:n.x,y:n.y,width:0,height:0})}),P)},enumerable:!1,configurable:!0})})(Y),Symbol("connectableFeature");function bt(t,n){void 0===n&&(n=t.routingPoints);for(var e=function(t){for(var n={x:NaN,y:NaN,width:0,height:0},e=0,r=t;e<r.length;e++){var i=r[e];isNaN(n.x)?(n.x=i.x,n.y=i.y):(i.x<n.x?(n.width+=n.x-i.x,n.x=i.x):i.x>n.x+n.width&&(n.width=i.x-n.x),i.y<n.y?(n.height+=n.y-i.y,n.y=i.y):i.y>n.y+n.height&&(n.height=i.y-n.y))}return n}(n),r=t;r instanceof Y;){var i=r.parent;e=i.localToParent(e),r=i}return e}var mt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.strokeWidth=0,n}return gt(n,t),Object.defineProperty(n.prototype,"incomingEdges",{get:function(){return this.index.getIncomingEdges(this)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"outgoingEdges",{get:function(){return this.index.getOutgoingEdges(this)},enumerable:!1,configurable:!0}),n.prototype.canConnect=function(t,n){return!0},n}(nt);(function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.editMode=!1,n.hoverFeedback=!1,n.selected=!1,n}gt(n,t),n.prototype.hasFeature=function(t){return-1!==n.DEFAULT_FEATURES.indexOf(t)},n.DEFAULT_FEATURES=[lt,ht,yt]})(Y),function(t){function n(){var n=t.call(this)||this;return n.type="dangling-anchor",n.size={width:0,height:0},n}gt(n,t),n.DEFAULT_FEATURES=[dt]}(mt);function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Tt=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":vt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},At=function(){function t(){}return t.prototype.isVisible=function(t,n,e){if("hidden"===e.targetKind)return!0;if(0===n.length)return!0;var r=bt(t,n),i=t.root.canvasBounds;return r.x<=i.width&&r.x+r.width>=0&&r.y<=i.height&&r.y+r.height>=0},t=Tt([(0,u.b2)()],t)}(),It=e(6700),Ot=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),St=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.routingPoints=[],n}return Ot(n,t),Object.defineProperty(n.prototype,"source",{get:function(){return this.index.getById(this.sourceId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"target",{get:function(){return this.index.getById(this.targetId)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bounds",{get:function(){return this.routingPoints.reduce((function(t,n){return N(t,{x:n.x,y:n.y,width:0,height:0})}),P)},enumerable:!1,configurable:!0}),n}(Y),Et=Symbol("connectableFeature");function wt(t){return t.hasFeature(Et)&&t.canConnect}function Pt(t,n){void 0===n&&(n=t.routingPoints);for(var e=xt(n),r=t;r instanceof Y;){var i=r.parent;e=i.localToParent(e),r=i}return e}function xt(t){for(var n={x:NaN,y:NaN,width:0,height:0},e=0,r=t;e<r.length;e++){var i=r[e];isNaN(n.x)?(n.x=i.x,n.y=i.y):(i.x<n.x?(n.width+=n.x-i.x,n.x=i.x):i.x>n.x+n.width&&(n.width=i.x-n.x),i.y<n.y?(n.height+=n.y-i.y,n.y=i.y):i.y>n.y+n.height&&(n.height=i.y-n.y))}return n}var Nt=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.strokeWidth=0,n}return Ot(n,t),Object.defineProperty(n.prototype,"incomingEdges",{get:function(){return this.index.getIncomingEdges(this)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"outgoingEdges",{get:function(){return this.index.getOutgoingEdges(this)},enumerable:!1,configurable:!0}),n.prototype.canConnect=function(t,n){return!0},n}(nt),Ct=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.editMode=!1,n.hoverFeedback=!1,n.selected=!1,n}return Ot(n,t),n.prototype.hasFeature=function(t){return-1!==n.DEFAULT_FEATURES.indexOf(t)},n.DEFAULT_FEATURES=[lt,ht,yt],n}(Y),Rt=function(t){function n(){var n=t.call(this)||this;return n.type="dangling-anchor",n.size={width:0,height:0},n}return Ot(n,t),n.DEFAULT_FEATURES=[dt],n}(Nt),Mt="edge-in-progress",Dt=Mt+"-target-anchor";function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var jt,Bt=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":Gt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},Lt=function(t,n){if("object"===("undefined"==typeof Reflect?"undefined":Gt(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},Ft=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),i=0;for(n=0;n<e;n++)for(var o=arguments[n],a=0,c=o.length;a<c;a++,i++)r[i]=o[a];return r};!function(t){t[t.RIGHT=0]="RIGHT",t[t.LEFT=1]="LEFT",t[t.TOP=2]="TOP",t[t.BOTTOM=3]="BOTTOM"}(jt||(jt={}));var Ut=function(){function t(t,n,e){this.element=t,this.kind=e;var r=t.bounds;this.bounds=function(t,n,e){var r=$(t,n,e),i=$({x:t.x+t.width,y:t.y+t.height},n,e);return{x:r.x,y:r.y,width:i.x-r.x,height:i.y-r.y}}(r,t.parent,n),this.left={x:this.bounds.x,y:this.bounds.y+.5*this.bounds.height,kind:e},this.right={x:this.bounds.x+this.bounds.width,y:this.bounds.y+.5*this.bounds.height,kind:e},this.top={x:this.bounds.x+.5*this.bounds.width,y:this.bounds.y,kind:e},this.bottom={x:this.bounds.x+.5*this.bounds.width,y:this.bounds.y+this.bounds.height,kind:e}}return t.prototype.get=function(t){return this[jt[t].toLowerCase()]},t.prototype.getNearestSide=function(t){var n=M(t,this.left),e=M(t,this.right),r=M(t,this.top),i=M(t,this.bottom),o=jt.LEFT,a=n;return e<a&&(a=e,o=jt.RIGHT),r<a&&(a=r,o=jt.TOP),i<a&&(a=i,o=jt.BOTTOM),o},t}(),Ht=function(){function t(){}return t.prototype.pointAt=function(t,n){var e=this.calculateSegment(t,n);if(e)return j(e.segmentStart,e.segmentEnd,e.lambda)},t.prototype.derivativeAt=function(t,n){var e=this.calculateSegment(t,n);if(e){var r=e.segmentStart,i=e.segmentEnd;return{x:i.x-r.x,y:i.y-r.y}}},t.prototype.calculateSegment=function(t,n){if(!(n<0||n>1)){var e=this.route(t);if(!(e.length<2)){for(var r=[],i=0,o=0;o<e.length-1;++o)r[o]=M(e[o],e[o+1]),i+=r[o];var a=0,c=n*i;for(o=0;o<e.length-1;++o){var u=a+r[o];if(r[o]>1e-8&&u>=c){var s=Math.max(0,c-a)/r[o];return{segmentStart:e[o],segmentEnd:e[o+1],lambda:s}}a=u}return{segmentEnd:e.pop(),segmentStart:e.pop(),lambda:1}}}},t.prototype.addHandle=function(t,n,e,r){var i=new Ct;return i.kind=n,i.pointIndex=r,i.type=e,"target"===n&&t.id===Mt&&(i.id=Dt),t.add(i),i},t.prototype.getHandlePosition=function(t,n,e){switch(e.kind){case"source":return t.source instanceof Rt?t.source.position:n[0];case"target":return t.target instanceof Rt?t.target.position:n[n.length-1];default:var r=this.getInnerHandlePosition(t,n,e);if(void 0!==r)return r;if(e.pointIndex>=0&&e.pointIndex<t.routingPoints.length)return t.routingPoints[e.pointIndex]}},t.prototype.findRouteSegment=function(t,n,e){for(var r,i,o=function(n){return void 0!==n.pointIndex?n.pointIndex:"target"===n.kind?t.routingPoints.length:-2},a=0,c=n;a<c.length;a++){var u=c[a],s=o(u);s<=e&&(void 0===r||s>o(r))&&(r=u),s>e&&(void 0===i||s<o(i))&&(i=u)}return{start:r,end:i}},t.prototype.getTranslatedAnchor=function(t,n,e,r,i){void 0===i&&(i=0);var o=$(n,e,t.parent),a=this.getAnchorComputer(t),c=.5*t.strokeWidth;return $(a.getAnchor(t,o,i+c),t.parent,r.parent)},t.prototype.getAnchorComputer=function(t){return this.anchorRegistry.get(this.kind,t.anchorKind)},t.prototype.applyHandleMoves=function(t,n){console.log(1);var e=n.slice();n.forEach((function(n){var r=n.handle;if("source"!==r.kind||t.source instanceof Rt){if("target"===r.kind&&!(t.target instanceof Rt)){var i;(i=new Rt).id=t.id+"_dangling-target",i.original=t.target,i.position=n.toPosition,r.root.add(i),r.danglingAnchor=i,t.targetId=i.id}}else(i=new Rt).id=t.id+"_dangling-source",i.original=t.source,i.position=n.toPosition,r.root.add(i),r.danglingAnchor=i,t.sourceId=i.id;r.danglingAnchor&&(r.danglingAnchor.position=n.toPosition,e.splice(e.indexOf(n),1))})),e.length>0&&this.applyInnerHandleMoves(t,e),this.cleanupRoutingPoints(t,t.routingPoints,!0,!0)},t.prototype.getCenterPoint=function(t){for(var n=t.bounds.width/2,e=t.bounds.height/2,r=t;r&&(r.position&&(n+=r.position.x,e+=r.position.y),!r.parent||"graph"!==r.parent.id);)r=r.parent;return{x:n,y:e}},t.prototype.cleanupRoutingPoints=function(t,n,e,r){var i=this.getCenterPoint(t.source),o=this.getCenterPoint(t.target),a=c.getInstance();this.avoidRoutes[t.id].connRef.setSourceEndpoint(new a.ConnEnd(new a.Point(i.x,i.y))),this.avoidRoutes[t.id].connRef.setDestEndpoint(new a.ConnEnd(new a.Point(o.x,o.y)))},t.prototype.resetRoutingPointsOnReconnect=function(t,n,e,r,i){if(0===n.length||t.source instanceof Rt||t.target instanceof Rt){var o=this.getOptions(t),a=this.calculateDefaultCorners(t,r,i,o);if(n.splice.apply(n,Ft([0,n.length],a)),e){var c=-2;t.children.forEach((function(e){e instanceof Ct&&("target"===e.kind?e.pointIndex=n.length:"line"===e.kind&&e.pointIndex>=n.length?t.remove(e):c=Math.max(e.pointIndex,c))}));for(var u=c;u<n.length-1;++u)this.addHandle(t,"manhattan-50%","volatile-routing-point",u)}return!0}return!1},t.prototype.applyReconnect=function(t,n,e){var r=!1;if(n){var i=t.root.index.getById(n);i instanceof Nt&&(t.sourceId=i.id,r=!0)}if(e){var o=t.root.index.getById(e);o instanceof Nt&&(t.targetId=o.id,r=!0)}r&&(t.index.remove(t),t.index.add(t),this.getSelfEdgeIndex(t)>-1&&(t.routingPoints=[],this.cleanupRoutingPoints(t,t.routingPoints,!0,!0)))},t.prototype.takeSnapshot=function(t){return{routingPoints:t.routingPoints.slice(),routingHandles:t.children.filter((function(t){return t instanceof Ct})).map((function(t){return t})),routedPoints:this.route(t),router:this,source:t.source,target:t.target}},t.prototype.applySnapshot=function(t,n){t.routingPoints=n.routingPoints,t.removeAll((function(t){return t instanceof Ct})),t.routerKind=n.router.kind,n.routingHandles.forEach((function(n){return t.add(n)})),n.source&&(t.sourceId=n.source.id),n.target&&(t.targetId=n.target.id),t.root.index.remove(t),t.root.index.add(t)},t.prototype.calculateDefaultCorners=function(t,n,e,r){var i=this.getSelfEdgeIndex(t);if(i>=0){var o=r.standardDistance,a=r.selfEdgeOffset*Math.min(n.bounds.width,n.bounds.height);switch(i%4){case 0:return[{x:n.get(jt.RIGHT).x+o,y:n.get(jt.RIGHT).y+a},{x:n.get(jt.RIGHT).x+o,y:n.get(jt.BOTTOM).y+o},{x:n.get(jt.BOTTOM).x+a,y:n.get(jt.BOTTOM).y+o}];case 1:return[{x:n.get(jt.BOTTOM).x-a,y:n.get(jt.BOTTOM).y+o},{x:n.get(jt.LEFT).x-o,y:n.get(jt.BOTTOM).y+o},{x:n.get(jt.LEFT).x-o,y:n.get(jt.LEFT).y+a}];case 2:return[{x:n.get(jt.LEFT).x-o,y:n.get(jt.LEFT).y-a},{x:n.get(jt.LEFT).x-o,y:n.get(jt.TOP).y-o},{x:n.get(jt.TOP).x-a,y:n.get(jt.TOP).y-o}];case 3:return[{x:n.get(jt.TOP).x+a,y:n.get(jt.TOP).y-o},{x:n.get(jt.RIGHT).x+o,y:n.get(jt.TOP).y-o},{x:n.get(jt.RIGHT).x+o,y:n.get(jt.RIGHT).y-a}]}}return[]},t.prototype.getSelfEdgeIndex=function(t){return t.source&&t.source===t.target?t.source.outgoingEdges.filter((function(n){return n.target===t.source})).indexOf(t):-1},Bt([(0,It.f3)(A),Lt("design:type",A)],t.prototype,"anchorRegistry",void 0),t=Bt([(0,It.b2)()],t)}(),kt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vt=function(){return(Vt=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},Wt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return kt(n,t),Object.defineProperty(n.prototype,"kind",{get:function(){return n.KIND},enumerable:!1,configurable:!0}),n.prototype.getOptions=function(t){return{standardDistance:20,minimalPointDistance:3,selfEdgeOffset:.25}},n.prototype.route=function(t){if(!t.source||!t.target)return[];var n=[];if(!this.avoidRoutes[t.id])return[];for(var e=this.avoidRoutes[t.id].connRef.displayRoute(),r=0;r<e.size();r++){var i="linear";0===r?i="source":r===e.size()-1&&(i="target"),n.push({x:e.get_ps(r).x,y:e.get_ps(r).y,kind:i,pointIndex:1})}return n},n.prototype.createRoutedCorners=function(t){var n=new Ut(t.source,t.parent,"source"),e=new Ut(t.target,t.parent,"target");if(t.routingPoints.length>0){var r=t.routingPoints.slice();if(this.cleanupRoutingPoints(t,r,!1,!0),r.length>0)return r.map((function(t,n){return Vt({kind:"linear",pointIndex:n},t)}))}var i=this.getOptions(t);return this.calculateDefaultCorners(t,n,e,i).map((function(t){return Vt({kind:"linear"},t)}))},n.prototype.createRoutingHandles=function(t){var n=this.route(t);if(this.commitRoute(t,n),n.length>0){this.addHandle(t,"source","routing-point",-2);for(var e=0;e<n.length-1;++e)this.addHandle(t,"manhattan-50%","volatile-routing-point",e-1);this.addHandle(t,"target","routing-point",n.length-2)}},n.prototype.getInnerHandlePosition=function(t,n,e){var r=this.getFraction(e.kind);if(void 0!==r){var i=this.findRouteSegment(t,n,e.pointIndex),o=i.start,a=i.end;if(void 0!==o&&void 0!==a)return j(o,a,r)}},n.prototype.getFraction=function(t){switch(t){case"manhattan-50%":return.5;default:return}},n.prototype.commitRoute=function(t,n){for(var e=[],r=1;r<n.length-1;++r)e.push({x:n[r].x,y:n[r].y});t.routingPoints=e},n.prototype.applyInnerHandleMoves=function(t,n){var e=this,r=this.route(t),i=t.routingPoints,o=this.getOptions(t).minimalPointDistance;n.forEach((function(t){var n=t.handle,a=n.pointIndex,c=e.correctX(i,a,t.toPosition.x,o),u=e.correctY(i,a,t.toPosition.y,o);switch(n.kind){case"manhattan-50%":a<0?G(r[0].x,r[1].x)?e.alignX(i,0,c):e.alignY(i,0,u):a<i.length-1?G(i[a].x,i[a+1].x)?(e.alignX(i,a,c),e.alignX(i,a+1,c)):(e.alignY(i,a,u),e.alignY(i,a+1,u)):G(r[r.length-2].x,r[r.length-1].x)?e.alignX(i,i.length-1,c):e.alignY(i,i.length-1,u)}}))},n.prototype.correctX=function(t,n,e,r){return n>0&&Math.abs(e-t[n-1].x)<r?t[n-1].x:n<t.length-2&&Math.abs(e-t[n+2].x)<r?t[n+2].x:e},n.prototype.alignX=function(t,n,e){n>=0&&n<t.length&&(t[n]={x:e,y:t[n].y})},n.prototype.correctY=function(t,n,e,r){return n>0&&Math.abs(e-t[n-1].y)<r?t[n-1].y:n<t.length-2&&Math.abs(e-t[n+2].y)<r?t[n+2].y:e},n.prototype.alignY=function(t,n,e){n>=0&&n<t.length&&(t[n]={x:t[n].x,y:e})},n.prototype.getCenterPoint=function(t){for(var n=t.bounds.width/2,e=t.bounds.height/2,r=t;r&&(r.position&&(n+=r.position.x,e+=r.position.y),!r.parent||"graph"!==r.parent.id);)r=r.parent;return{x:n,y:e}},n.prototype.cleanupRoutingPoints=function(t,n,e,r){new Ut(t.source,t.parent,"source"),new Ut(t.target,t.parent,"target");var i=this.getCenterPoint(t.source),o=this.getCenterPoint(t.target),a=c.getInstance();this.avoidRoutes[t.id].connRef.setSourceEndpoint(new a.ConnEnd(new a.Point(i.x,i.y))),this.avoidRoutes[t.id].connRef.setDestEndpoint(new a.ConnEnd(new a.Point(o.x,o.y)))},n.prototype.removeHandle=function(t,n){var e=[];t.children.forEach((function(t){t instanceof Ct&&(t.pointIndex>n?--t.pointIndex:t.pointIndex===n&&e.push(t))})),e.forEach((function(n){return t.remove(n)}))},n.prototype.addAdditionalCorner=function(t,n,e,r,i){if(0!==n.length){var o,a="source"===e.kind?n[0]:n[n.length-1],c="source"===e.kind?0:n.length,u=c-("source"===e.kind?1:0);if(n.length>1)o=0===c?G(n[0].x,n[1].x):G(n[n.length-1].x,n[n.length-2].x);else{var s=r.getNearestSide(a);o=s===jt.TOP||s===jt.BOTTOM}if(o){if(a.y<e.get(jt.TOP).y||a.y>e.get(jt.BOTTOM).y){var p={x:e.get(jt.TOP).x,y:a.y};n.splice(c,0,p),i&&(t.children.forEach((function(t){t instanceof Ct&&t.pointIndex>=u&&++t.pointIndex})),this.addHandle(t,"manhattan-50%","volatile-routing-point",u))}}else if(a.x<e.get(jt.LEFT).x||a.x>e.get(jt.RIGHT).x){p={x:a.x,y:e.get(jt.LEFT).y};n.splice(c,0,p),i&&(t.children.forEach((function(t){t instanceof Ct&&t.pointIndex>=u&&++t.pointIndex})),this.addHandle(t,"manhattan-50%","volatile-routing-point",u))}}},n.prototype.manhattanify=function(t,n){for(var e=1;e<n.length;++e){var r=Math.abs(n[e-1].x-n[e].x)<1,i=Math.abs(n[e-1].y-n[e].y)<1;r||i||(n.splice(e,0,{x:n[e-1].x,y:n[e].y}),++e)}},n.prototype.calculateDefaultCorners=function(n,e,r,i){var o=t.prototype.calculateDefaultCorners.call(this,n,e,r,i);if(o.length>0)return o;var a=this.getBestConnectionAnchors(n,e,r,i),c=a.source,u=a.target,s=[],p=e.get(c),d=r.get(u);switch(c){case jt.RIGHT:switch(u){case jt.BOTTOM:case jt.TOP:s.push({x:d.x,y:p.y});break;case jt.RIGHT:s.push({x:Math.max(p.x,d.x)+1.5*i.standardDistance,y:p.y}),s.push({x:Math.max(p.x,d.x)+1.5*i.standardDistance,y:d.y});break;case jt.LEFT:d.y!==p.y&&(s.push({x:(p.x+d.x)/2,y:p.y}),s.push({x:(p.x+d.x)/2,y:d.y}))}break;case jt.LEFT:switch(u){case jt.BOTTOM:case jt.TOP:s.push({x:d.x,y:p.y});break;default:(d=r.get(jt.RIGHT)).y!==p.y&&(s.push({x:(p.x+d.x)/2,y:p.y}),s.push({x:(p.x+d.x)/2,y:d.y}))}break;case jt.TOP:switch(u){case jt.RIGHT:d.x-p.x>0?(s.push({x:p.x,y:p.y-i.standardDistance}),s.push({x:d.x+1.5*i.standardDistance,y:p.y-i.standardDistance}),s.push({x:d.x+1.5*i.standardDistance,y:d.y})):s.push({x:p.x,y:d.y});break;case jt.LEFT:d.x-p.x<0?(s.push({x:p.x,y:p.y-i.standardDistance}),s.push({x:d.x-1.5*i.standardDistance,y:p.y-i.standardDistance}),s.push({x:d.x-1.5*i.standardDistance,y:d.y})):s.push({x:p.x,y:d.y});break;case jt.TOP:s.push({x:p.x,y:Math.min(p.y,d.y)-1.5*i.standardDistance}),s.push({x:d.x,y:Math.min(p.y,d.y)-1.5*i.standardDistance});break;case jt.BOTTOM:d.x!==p.x&&(s.push({x:p.x,y:(p.y+d.y)/2}),s.push({x:d.x,y:(p.y+d.y)/2}))}break;case jt.BOTTOM:switch(u){case jt.RIGHT:d.x-p.x>0?(s.push({x:p.x,y:p.y+i.standardDistance}),s.push({x:d.x+1.5*i.standardDistance,y:p.y+i.standardDistance}),s.push({x:d.x+1.5*i.standardDistance,y:d.y})):s.push({x:p.x,y:d.y});break;case jt.LEFT:d.x-p.x<0?(s.push({x:p.x,y:p.y+i.standardDistance}),s.push({x:d.x-1.5*i.standardDistance,y:p.y+i.standardDistance}),s.push({x:d.x-1.5*i.standardDistance,y:d.y})):s.push({x:p.x,y:d.y});break;default:(d=r.get(jt.TOP)).x!==p.x&&(s.push({x:p.x,y:(p.y+d.y)/2}),s.push({x:d.x,y:(p.y+d.y)/2}))}}return s},n.prototype.getBestConnectionAnchors=function(t,n,e,r){var i=n.get(jt.RIGHT),o=e.get(jt.LEFT);if(o.x-i.x>r.standardDistance)return{source:jt.RIGHT,target:jt.LEFT};if(i=n.get(jt.LEFT),o=e.get(jt.RIGHT),i.x-o.x>r.standardDistance)return{source:jt.LEFT,target:jt.RIGHT};if(i=n.get(jt.TOP),o=e.get(jt.BOTTOM),i.y-o.y>r.standardDistance)return{source:jt.TOP,target:jt.BOTTOM};if(i=n.get(jt.BOTTOM),(o=e.get(jt.TOP)).y-i.y>r.standardDistance)return{source:jt.BOTTOM,target:jt.TOP};if(i=n.get(jt.RIGHT),(o=e.get(jt.TOP)).x-i.x>.5*r.standardDistance&&o.y-i.y>r.standardDistance)return{source:jt.RIGHT,target:jt.TOP};if((o=e.get(jt.BOTTOM)).x-i.x>.5*r.standardDistance&&i.y-o.y>r.standardDistance)return{source:jt.RIGHT,target:jt.BOTTOM};if(i=n.get(jt.LEFT),o=e.get(jt.BOTTOM),i.x-o.x>.5*r.standardDistance&&i.y-o.y>r.standardDistance)return{source:jt.LEFT,target:jt.BOTTOM};if(o=e.get(jt.TOP),i.x-o.x>.5*r.standardDistance&&o.y-i.y>r.standardDistance)return{source:jt.LEFT,target:jt.TOP};if(i=n.get(jt.TOP),o=e.get(jt.RIGHT),i.y-o.y>.5*r.standardDistance&&i.x-o.x>r.standardDistance)return{source:jt.TOP,target:jt.RIGHT};if(o=e.get(jt.LEFT),i.y-o.y>.5*r.standardDistance&&o.x-i.x>r.standardDistance)return{source:jt.TOP,target:jt.LEFT};if(i=n.get(jt.BOTTOM),(o=e.get(jt.RIGHT)).y-i.y>.5*r.standardDistance&&i.x-o.x>r.standardDistance)return{source:jt.BOTTOM,target:jt.RIGHT};if((o=e.get(jt.LEFT)).y-i.y>.5*r.standardDistance&&o.x-i.x>r.standardDistance)return{source:jt.BOTTOM,target:jt.LEFT};if(i=n.get(jt.TOP),o=e.get(jt.TOP),!R(e.bounds,i)&&!R(n.bounds,o))if(i.y-o.y<0){if(Math.abs(i.x-o.x)>(n.bounds.width+r.standardDistance)/2)return{source:jt.TOP,target:jt.TOP}}else if(Math.abs(i.x-o.x)>e.bounds.width/2)return{source:jt.TOP,target:jt.TOP};if(i=n.get(jt.RIGHT),o=e.get(jt.RIGHT),!R(e.bounds,i)&&!R(n.bounds,o))if(i.x-o.x>0){if(Math.abs(i.y-o.y)>(n.bounds.height+r.standardDistance)/2)return{source:jt.RIGHT,target:jt.RIGHT}}else if(Math.abs(i.y-o.y)>e.bounds.height/2)return{source:jt.RIGHT,target:jt.RIGHT};return i=n.get(jt.TOP),o=e.get(jt.RIGHT),R(e.bounds,i)||R(n.bounds,o)?(o=e.get(jt.LEFT),R(e.bounds,i)||R(n.bounds,o)?(i=n.get(jt.BOTTOM),o=e.get(jt.RIGHT),R(e.bounds,i)||R(n.bounds,o)?(o=e.get(jt.LEFT),R(e.bounds,i)||R(n.bounds,o)?{source:jt.RIGHT,target:jt.BOTTOM}:{source:jt.BOTTOM,target:jt.LEFT}):{source:jt.BOTTOM,target:jt.RIGHT}):{source:jt.TOP,target:jt.LEFT}):{source:jt.TOP,target:jt.RIGHT}},n.KIND="manhattan",n}(Ht);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Jt=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":qt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},Kt=function(){function t(){}var n;return n=t,Object.defineProperty(t.prototype,"kind",{get:function(){return n.KIND},enumerable:!1,configurable:!0}),t.prototype.getAnchor=function(t,n,e){var r=t.bounds;if(r.width<=0||r.height<=0)return r;var i={x:r.x-e,y:r.y-e,width:r.width+2*e,height:r.height+2*e};return n.x>=i.x&&i.x+i.width>=n.x?n.y<i.y+.5*i.height?{x:n.x,y:i.y}:{x:n.x,y:i.y+i.height}:n.y>=i.y&&i.y+i.height>=n.y?n.x<i.x+.5*i.width?{x:i.x,y:n.y}:{x:i.x+i.width,y:n.y}:C(i)},t.KIND=Wt.KIND+":"+T,t=n=Jt([(0,It.b2)()],t)}(),Yt=function(){function t(){}var n;return n=t,Object.defineProperty(t.prototype,"kind",{get:function(){return n.KIND},enumerable:!1,configurable:!0}),t.prototype.getAnchor=function(t,n,e){void 0===e&&(e=0);var r=t.bounds;if(r.width<=0||r.height<=0)return r;var i={x:r.x-e,y:r.y-e,width:r.width+2*e,height:r.height+2*e},o=C(i),a=void 0,c=void 0;return n.x>=i.x&&n.x<=i.x+i.width?i.x+.5*i.width>=n.x?(c=new L(n,{x:n.x,y:o.y}),a=n.y<o.y?new L({x:i.x,y:o.y},{x:o.x,y:i.y}):new L({x:i.x,y:o.y},{x:o.x,y:i.y+i.height})):(c=new L(n,{x:n.x,y:o.y}),a=n.y<o.y?new L({x:i.x+i.width,y:o.y},{x:o.x,y:i.y}):new L({x:i.x+i.width,y:o.y},{x:o.x,y:i.y+i.height})):n.y>=i.y&&n.y<=i.y+i.height&&(i.y+.5*i.height>=n.y?(c=new L(n,{x:o.x,y:n.y}),a=n.x<o.x?new L({x:i.x,y:o.y},{x:o.x,y:i.y}):new L({x:i.x+i.width,y:o.y},{x:o.x,y:i.y})):(c=new L(n,{x:o.x,y:n.y}),a=n.x<o.x?new L({x:i.x,y:o.y},{x:o.x,y:i.y+i.height}):new L({x:i.x+i.width,y:o.y},{x:o.x,y:i.y+i.height}))),c&&a?F(a,c):o},t.KIND=Wt.KIND+":"+m,t=n=Jt([(0,It.b2)()],t)}(),zt=function(){function t(){}var n;return n=t,Object.defineProperty(t.prototype,"kind",{get:function(){return n.KIND},enumerable:!1,configurable:!0}),t.prototype.getAnchor=function(t,n,e){void 0===e&&(e=0);var r=t.bounds;if(r.width<=0||r.height<=0)return r;var i={x:r.x-e,y:r.y-e,width:r.width+2*e,height:r.height+2*e},o=C(i),a=O(n,o),c=o.x,u=o.y;if(n.x>=i.x&&i.x+i.width>=n.x){c+=a.x;var s=.5*i.height*Math.sqrt(1-a.x*a.x/(.25*i.width*i.width));a.y<0?u-=s:u+=s}else if(n.y>=i.y&&i.y+i.height>=n.y){u+=a.y;var p=.5*i.width*Math.sqrt(1-a.y*a.y/(.25*i.height*i.height));a.x<0?c-=p:c+=p}return{x:c,y:u}},t.KIND=Wt.KIND+":"+v,t=n=Jt([(0,It.b2)()],t)}();function Xt(t){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Qt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zt=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":Xt(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},$t=function(t,n){if("object"===("undefined"==typeof Reflect?"undefined":Xt(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},tn=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}var e;return Qt(n,t),e=n,Object.defineProperty(n.prototype,"kind",{get:function(){return e.KIND},enumerable:!1,configurable:!0}),n.prototype.getOptions=function(t){return{minimalPointDistance:2,removeAngleThreshold:.1,standardDistance:20,selfEdgeOffset:.25}},n.prototype.route=function(t){var n=t.source,e=t.target;if(void 0===n||void 0===e)return[];var r=[];if(!this.avoidRoutes[t.id])return[];for(var i=this.avoidRoutes[t.id].connRef.displayRoute(),o=0;o<i.size();o++){var a="linear";0===o?a="source":o===i.size()-1&&(a="target"),r.push({x:i.get_ps(o).x,y:i.get_ps(o).y,kind:a,pointIndex:1})}return r},n.prototype.filterEditModeHandles=function(t,n,e){if(0===n.children.length)return t;for(var r=0,i=function(){var i=t[r];if(void 0!==i.pointIndex){var o=n.children.find((function(t){return t instanceof Ct&&"junction"===t.kind&&t.pointIndex===i.pointIndex}));if(void 0!==o&&o.editMode&&r>0&&r<t.length-1){var a=t[r-1],c=t[r+1],u=function(t,n){var e=Math.sqrt((t.x*t.x+t.y*t.y)*(n.x*n.x+n.y*n.y));if(isNaN(e)||0===e)return NaN;var r=t.x*n.x+t.y*n.y;return Math.acos(r/e)}({x:a.x-i.x,y:a.y-i.y},{x:c.x-i.x,y:c.y-i.y});if(Math.abs(Math.PI-u)<e.removeAngleThreshold)return t.splice(r,1),"continue"}}r++};r<t.length;)i();return t},n.prototype.createRoutingHandles=function(t){var n=t.routingPoints.length;this.addHandle(t,"source","routing-point",-2),this.addHandle(t,"line","volatile-routing-point",-1);for(var e=0;e<n;e++)this.addHandle(t,"junction","routing-point",e),this.addHandle(t,"line","volatile-routing-point",e);this.addHandle(t,"target","routing-point",n)},n.prototype.getInnerHandlePosition=function(t,n,e){if("line"===e.kind){var r=this.findRouteSegment(t,n,e.pointIndex),i=r.start,o=r.end;if(void 0!==i&&void 0!==o)return c=o,C({x:(a=i).x>c.x?c.x:a.x,y:a.y>c.y?c.y:a.y,width:Math.abs(c.x-a.x),height:Math.abs(c.y-a.y)})}var a,c},n.prototype.applyInnerHandleMoves=function(t,n){var e=this;console.log(2),n.forEach((function(n){var r=n.handle,i=t.routingPoints,o=r.pointIndex;"line"===r.kind&&(r.kind="junction",r.type="routing-point",i.splice(o+1,0,n.fromPosition||i[Math.max(o,0)]),t.children.forEach((function(t){t instanceof Ct&&(t===r||t.pointIndex>o)&&t.pointIndex++})),e.addHandle(t,"line","volatile-routing-point",o),e.addHandle(t,"line","volatile-routing-point",o+1),o++),o>=0&&o<i.length&&(i[o]=n.toPosition)}))},n.KIND="polyline",Zt([(0,It.f3)(A),$t("design:type",A)],n.prototype,"anchorRegistry",void 0),n=e=Zt([(0,It.b2)()],n)}(Ht);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var en=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":nn(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},rn=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return tn.KIND+":"+v},enumerable:!1,configurable:!0}),t.prototype.getAnchor=function(t,n,e){void 0===e&&(e=0);var r=t.bounds,i=C(r),o=i.x-n.x,a=i.y-n.y,c=Math.sqrt(o*o+a*a),u=o/c||0,s=a/c||0;return{x:i.x-u*(.5*r.width+e),y:i.y-s*(.5*r.height+e)}},t=en([(0,It.b2)()],t)}(),on=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return tn.KIND+":"+T},enumerable:!1,configurable:!0}),t.prototype.getAnchor=function(t,n,e){void 0===e&&(e=0);var r=t.bounds,i=C(r),o=new an(i,n);if(!G(i.y,n.y)){var a=this.getXIntersection(r.y,i,n);a>=r.x&&a<=r.x+r.width&&o.addCandidate(a,r.y-e);var c=this.getXIntersection(r.y+r.height,i,n);c>=r.x&&c<=r.x+r.width&&o.addCandidate(c,r.y+r.height+e)}if(!G(i.x,n.x)){var u=this.getYIntersection(r.x,i,n);u>=r.y&&u<=r.y+r.height&&o.addCandidate(r.x-e,u);var s=this.getYIntersection(r.x+r.width,i,n);s>=r.y&&s<=r.y+r.height&&o.addCandidate(r.x+r.width+e,s)}return o.best},t.prototype.getXIntersection=function(t,n,e){var r=(t-n.y)/(e.y-n.y);return(e.x-n.x)*r+n.x},t.prototype.getYIntersection=function(t,n,e){var r=(t-n.x)/(e.x-n.x);return(e.y-n.y)*r+n.y},t=en([(0,It.b2)()],t)}(),an=function(){function t(t,n){this.centerPoint=t,this.refPoint=n,this.currentDist=-1}return t.prototype.addCandidate=function(t,n){var e=this.refPoint.x-t,r=this.refPoint.y-n,i=e*e+r*r;(this.currentDist<0||i<this.currentDist)&&(this.currentBest={x:t,y:n},this.currentDist=i)},Object.defineProperty(t.prototype,"best",{get:function(){return void 0===this.currentBest?this.centerPoint:this.currentBest},enumerable:!1,configurable:!0}),t}(),cn=function(){function t(){}return Object.defineProperty(t.prototype,"kind",{get:function(){return tn.KIND+":"+m},enumerable:!1,configurable:!0}),t.prototype.getAnchor=function(t,n,e){var r=t.bounds,i=new L(C(r),n);return D(F(new B(r).closestSideLine(n),i),n,e)},t=en([(0,It.b2)()],t)}();function un(t){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var sn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),pn=function(t,n,e,r){var i,o=arguments.length,a=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"===("undefined"==typeof Reflect?"undefined":un(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,n,e,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(n,e,a):i(n,e))||a);return o>3&&a&&Object.defineProperty(n,e,a),a},dn=function(t,n){if("object"===("undefined"==typeof Reflect?"undefined":un(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},_n=function(t,n){return function(e,r){n(e,r,t)}},fn=function(t){function n(n){var e=t.call(this)||this;e.renderedTimes=0;var r=c.getInstance();return e.avoidRouter=new r.Router(r.OrthogonalRouting|r.PolyLineRouting),e.avoidRoutes={},n.forEach((function(t){e.register(t.kind,t),t.avoidRouter=e.avoidRouter,t.avoidRoutes=e.avoidRoutes})),e}return sn(n,t),Object.defineProperty(n.prototype,"defaultKind",{get:function(){return tn.KIND},enumerable:!1,configurable:!0}),n.prototype.get=function(n){return t.prototype.get.call(this,n||this.defaultKind)},n.prototype.getAllChildren=function(t){for(var n=[],e=[],r=0,i=t.children;r<i.length;r++){var o=i[r];if(o instanceof St?n.push(o):o instanceof Nt&&e.push(o),o instanceof K){var a=this.getAllChildren(o);n.push.apply(n,a.routables),e.push.apply(e,a.connectables)}}return{routables:n,connectables:e}},n.prototype.getCenterPoint=function(t){for(var n=t.bounds.width/2,e=t.bounds.height/2,r=t;r&&(r.position&&(n+=r.position.x,e+=r.position.y),!r.parent||"graph"!==r.parent.id);)r=r.parent;return{x:n,y:e}},n.prototype.avoidRoutesToEdgeRoutes=function(t){for(var n=new yn,e=0,r=t;e<r.length;e++){for(var i=r[e],o=[],a=i.connRef.displayRoute(),c=0;c<a.size();c++){var u="linear";0===c?u="source":c===a.size()-1&&(u="target"),o.push({x:a.get_ps(c).x,y:a.get_ps(c).y,kind:u,pointIndex:1})}n.set(i.child,o)}return n},n.prototype.routeAllChildren=function(t){if(this.renderedTimes<2){for(var n=[],e=c.getInstance(),r=this.getAllChildren(t),i=0,o=r.routables;i<o.length;i++){var a=o[i],u=this.getCenterPoint(a.source),s=this.getCenterPoint(a.target),p=new e.ConnRef(this.avoidRouter,new e.ConnEnd(new e.Point(u.x,u.y)),new e.ConnEnd(new e.Point(s.x,s.y))),d=e.PolyLineRouting;"manhattan"===a.routerKind&&(d=e.OrthogonalRouting),p.setRoutingType(d),n.push({child:a,connRef:p}),this.avoidRoutes[a.id]={connRef:p,child:a}}for(var _=0,f=r.connectables;_<f.length;_++){a=f[_];var l=this.getCenterPoint(a),y=new e.Rectangle(new e.Point(l.x,l.y),a.bounds.width,a.bounds.height);new e.ShapeRef(this.avoidRouter,y)}return this.avoidRouter.processTransaction(),this.renderedTimes+=1,this.avoidRoutesToEdgeRoutes(n)}return this.avoidRouter.processTransaction(),this.avoidRoutesToEdgeRoutes(Object.values(this.avoidRoutes))},n.prototype.route=function(t,n){if(ln(n)){var e=n.edgeRoutes.get(t);if(e)return e}return this.get(t.routerKind).route(t)},n=pn([(0,It.b2)(),_n(0,(0,It.nx)(s.IEdgeRouter)),dn("design:paramtypes",[Array])],n)}(_);function ln(t){return void 0!==t&&"edgeRoutes"in t}var yn=function(){function t(){this._routes=new Map}return t.prototype.set=function(t,n){this._routes.set(t.id,n)},t.prototype.setAll=function(t){var n=this;t.routes.forEach((function(t,e){return n._routes.set(e,t)}))},t.prototype.get=function(t){return this._routes.get(t.id)},Object.defineProperty(t.prototype,"routes",{get:function(){return this._routes},enumerable:!1,configurable:!0}),t}(),hn=function(t,n,e,r){return new(e||(e=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function c(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((r=r.apply(t,n||[])).next())}))},gn=function(t,n){var e,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;a;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(t,a)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function bn(){return hn(this,void 0,void 0,(function(){return gn(this,(function(t){switch(t.label){case 0:return[4,c.load()];case 1:return t.sent(),[2]}}))}))}})(),r})()}));
//# sourceMappingURL=index.js.map